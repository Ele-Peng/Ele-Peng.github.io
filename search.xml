<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>CSS-æ’ç‰ˆ</title>
    <url>/2020/05/30/CSS-%E6%8E%92%E7%89%88/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>


<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>CSS æ’ç‰ˆç›¸å…³çŸ¥è¯†</li>
<li>CSS å±æ€§<ul>
<li>æ’ç‰ˆ</li>
<li>æ¸²æŸ“</li>
<li>äº¤äº’</li>
</ul>
</li>
</ul>
<a id="more"></a>

<h2 id="ç›’ï¼ˆBoxï¼‰"><a href="#ç›’ï¼ˆBoxï¼‰" class="headerlink" title="ç›’ï¼ˆBoxï¼‰"></a>ç›’ï¼ˆBoxï¼‰</h2><ul>
<li>æºä»£ç  - æ ‡ç­¾ - tag</li>
<li>è¯­ä¹‰ - å…ƒç´  - element</li>
<li>è¡¨ç° - ç›’ - box</li>
<li>åŸºæœ¬å…ƒç´  ç›’ + æ–‡å­—</li>
<li>æ’ç‰ˆå’Œæ¸²æŸ“çš„åŸºæœ¬å•ä½æ˜¯ç›’</li>
<li>CSS åœ¨æ’ç‰ˆæ—¶å¯èƒ½äº§ç”Ÿå¤šä¸ªç›’</li>
</ul>
<h2 id="ç›’æ¨¡å‹"><a href="#ç›’æ¨¡å‹" class="headerlink" title="ç›’æ¨¡å‹"></a>ç›’æ¨¡å‹</h2><ul>
<li>ã€æœªå®Œã€‘box-sizing: ä¸ºä»€ä¹ˆæ²¡æœ‰ margin-box</li>
<li><img src="http://p0.meituan.net/myvideodistribute/1ed695c617e6c1ac8ba2b6650d5bb2c5220253.png" alt="ç›’æ¨¡å‹"></li>
</ul>
<h2 id="æ­£å¸¸æµ"><a href="#æ­£å¸¸æµ" class="headerlink" title="æ­£å¸¸æµ"></a>æ­£å¸¸æµ</h2><h3 id="æ­£å¸¸æµæ’ç‰ˆ"><a href="#æ­£å¸¸æµæ’ç‰ˆ" class="headerlink" title="æ­£å¸¸æµæ’ç‰ˆ"></a>æ­£å¸¸æµæ’ç‰ˆ</h3><h3 id="æ­£å¸¸æµçš„è¡Œæ¨¡å‹"><a href="#æ­£å¸¸æµçš„è¡Œæ¨¡å‹" class="headerlink" title="æ­£å¸¸æµçš„è¡Œæ¨¡å‹"></a>æ­£å¸¸æµçš„è¡Œæ¨¡å‹</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"font-size:50px;line-height:100px;background-color:pink;"</span>&gt;</span></span><br><span class="line">	Hello</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"line-height:70px;width:100px;height:150px;background-color:aqua;display:inline-block"</span>&gt;</span>world!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œæˆªå›¾<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/2e8597eb317b1096396a1b7ebfa335bb188008.png" alt="è¿è¡Œæˆªå›¾"></li>
</ul>
</li>
<li>å‘ç°ï¼Œå³ä½¿è¡Œé«˜ä¸ä¸€è‡´ï¼Œ Hello ä¸ worldï¼ ä¹ŸåŸºäº baseline å¯¹é½</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"font-size:50px;line-height:100px;background-color:pink;"</span>&gt;</span></span><br><span class="line">	Hello</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"line-height:70px;width:100px;height:150px;background-color:aqua;display:inline-block"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œæˆªå›¾<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/cdac1ebe861651fc773f462496bcaa58175250.png" alt="è¿è¡Œæˆªå›¾"></li>
</ul>
</li>
<li>å‘ç°ï¼Œå½“æ²¡æœ‰å†…å®¹æ—¶ï¼Œä½¿ç”¨ç›’å­ bottom å¯¹é½ æ–‡å­— baseline</li>
<li>æ‰€ä»¥ä¸€èˆ¬è¦ç»™ç›’å­è®¾ç½® vertical-align: bottom / top</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"font-size:50px;line-height:100px;background-color:pink;"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;div style="vertical-align:baseline;overflow:visible;display: inline-block;width:1px;;height:1px;background:red;"&gt;</span></span><br><span class="line"><span class="comment">    &lt;div style="width:1000px;;height:1px;background:red;"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">  &lt;/div&gt; --&gt;</span></span><br><span class="line">	Hello</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"vertical-align:bottom;line-height:70px;width:100px;height:150px;background-color:aqua;display:inline-block"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"vertical-align:top;line-height:70px;width:100px;height:50px;background-color:aqua;display:inline-block"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"vertical-align:bottom;line-height:70px;width:100px;height:200px;background-color:plum;display:inline-block"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œæˆªå›¾<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/368d5d1389c38ac68370ed80b6f22cf4231244.png" alt="è¿è¡Œæˆªå›¾"></li>
</ul>
</li>
<li>å¯ä»¥å‘ç° vertical-aign ä¸ line-height é«˜åº¦è®¾å®šæ— å…³ï¼Œä¸æœ€ç»ˆè¢«æ’‘å¼€çš„ç›’å­é«˜åº¦æœ‰å…³</li>
<li>æ²¡æœ‰è®¾å®š vertical-align å¦‚æœè¶…è¿‡ line-height å§‹ç»ˆä¸æœ€é«˜å…ƒç´ çš„å¯¹é½æ–¹å¼ä¿æŒä¸€è‡´</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"font-size:50px;line-height:100px;background-color:pink;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"vertical-align:text-bottom;overflow:visible;display:inline-block;width:1px;height:1px;background:red;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width:1000px;;height:1px;background:red;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"vertical-align:text-top;overflow:visible;display:inline-block;width:1px;height:1px;background:red;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width:1000px;;height:1px;background:red;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	Hello</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"vertical-align:text-top;line-height:70px;width:100px;height:50px;background-color:aqua;display:inline-block"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"vertical-align:text-top;line-height:70px;width:100px;height:150px;background-color:aqua;display:inline-block"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"vertical-align:text-bottom;line-height:70px;width:100px;height:200px;background-color:plum;display:inline-block"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œæˆªå›¾<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/9b109f5fd664383e3df90e99684c3e44251251.png" alt="è¿è¡Œæˆªå›¾"></li>
</ul>
</li>
<li>å½“æˆ‘ä»¬æŠŠ vertical-align è®¾ç½®æˆ text-top / text-bottom æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œä¸Šè¾¹ç¼˜æ˜¯ç”± text-top å…ƒç´ æ’‘å¼€ï¼Œä¸‹è¾¹ç¼˜æ˜¯ç”± text-bottom å…ƒç´ æ’‘å¼€çš„</li>
<li>æ­£å¸¸æµäº¤å‰è½´çš„ crossBase = ä¸Šè¾¹ç¼˜ + ä¸‹è¾¹ç¼˜ - texté«˜åº¦</li>
<li>vertical-align: baselineï¼Œæ˜¯æ‹¿è‡ªå·±çš„ baseline å»å¯¹å…¶è¡Œçš„ baseline </li>
<li>vertical-align: topï¼Œmiddleï¼Œbottomï¼Œæ˜¯æ‹¿è‡ªå·±çš„ â€é¡¶éƒ¨â€œ â€œä¸­çº¿â€ â€åº•éƒ¨â€œ å»å¯¹å…¶è¡Œçš„ â€é¡¶éƒ¨â€œ â€œä¸­çº¿â€ â€åº•éƒ¨â€œ </li>
<li>vertical-align: text-topï¼Œtext-bottomï¼Œæ˜¯æ‹¿è‡ªå·±çš„ â€é¡¶éƒ¨â€œ â€åº•éƒ¨â€œ å»å¯¹é½è¡Œçš„ text-top å’Œ text-bottom </li>
<li>ç»“è®ºï¼š<strong>æ­£å¸¸æµçš„è¡Œæ¨¡å‹æ¨è vertical-align: top/bottom/middle</strong><br><img src="https://static001.geekbang.org/resource/image/aa/e3/aa6611b00f71f606493f165294410ee3.png" alt="vertical-alignç›¸å…³æ¦‚å¿µ"></li>
</ul>
<h3 id="æ­£å¸¸æµçš„ä¸‰å¤§éš¾é¢˜"><a href="#æ­£å¸¸æµçš„ä¸‰å¤§éš¾é¢˜" class="headerlink" title="æ­£å¸¸æµçš„ä¸‰å¤§éš¾é¢˜"></a>æ­£å¸¸æµçš„ä¸‰å¤§éš¾é¢˜</h3><ul>
<li><p>overflow:visible ä¸ BFC</p>
</li>
<li><p>margin collapse ï¼ˆä¸€ä¸ªå…ƒç´ è§„å®šäº†è‡ªèº«å‘¨å›´è‡³å°‘éœ€è¦çš„ç©ºé—´ï¼‰</p>
<ul>
<li><a href="https://www.w3.org/TR/CSS2/visuren.html#block-formatting" target="_blank" rel="noopener">W3 BFC</a></li>
<li><img src="http://p0.meituan.net/myvideodistribute/fb01ede731f8f6ceb2f700f2b73cf681228107.png" alt="BFC conception"></li>
<li><img src="http://p0.meituan.net/myvideodistribute/9e455229b4b2a2214199f9754a4b022c290880.png" alt="BFC margin collapse"><ul>
<li>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨ BFC ä¸­ å‘ç”Ÿäº† margin collapse</li>
</ul>
</li>
<li><img src="http://p0.meituan.net/myvideodistribute/77ea7124c4f4e610b397483990fd009c222906.png" alt="new BFC margin collapse"><ul>
<li>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°† 4ã€5 ç”¨ä¸€ä¸ª div æ¡†èµ·æ¥ï¼Œè®¾ç½® overflow other than visible åœ¨æ–°çš„ div é‡Œå½¢æˆä¸€ä¸ªæ–°çš„ BFC</li>
<li>BFC ä¸ BFC ä¹‹é—´ä¸å‘ç”Ÿ margin collapse</li>
</ul>
</li>
<li><img src="http://p1.meituan.net/myvideodistribute/b85b5b56118aaa06c6c1eb1d67d1d565238437.png" alt="BFC V3"><ul>
<li>æˆ‘ä»¬åœ¨ div é‡Œæ–°å»ºçš„ BFC ,é‡Œé¢å‘ç”Ÿ margin collapseï¼Œmargin-top: 20px;</li>
<li>div æ‰€å¤„å¤–é¢åŒä¸€çº§ BFC ï¼Œä¹Ÿå‘ç”Ÿ margin collapseï¼Œ å˜æˆ 50px;</li>
</ul>
</li>
<li><img src="http://p0.meituan.net/myvideodistribute/a7eb565313d603a0440434d2c3aaed71220282.png" alt="BFC V4"><ul>
<li>å°† overflow: visible åï¼Œæ•´ä¸ª div å°±åƒä¸å­˜åœ¨ä¸€æ ·ï¼Œæ²¡æœ‰å½±å“ï¼Œäº§ç”Ÿ margin collaps</li>
</ul>
</li>
<li><img src="http://p1.meituan.net/myvideodistribute/ce562c00cac00a70bfa7ea23851785d2234933.png" alt="BFC V5"><ul>
<li>ä½†æˆ‘ä»¬å¢åŠ  margin-top: 50px åï¼Œå¥‡æ€ªçš„äº‹æƒ…å‘ç”Ÿäº†</li>
</ul>
</li>
<li><strong>overflow: visible æ˜¯ç‰¹ä¾‹ï¼Œé‡Œé¢æ˜¯ block, å¤–é¢ä¹Ÿæ˜¯ block, ä¼šåˆå¹¶æˆä¸€ä¸ª block</strong></li>
<li><strong>Block-level boxes that are also block containers are called block boxes.</strong><ul>
<li>flex inline-flex</li>
<li>table inline-table</li>
<li>grid inline-grid</li>
<li>block inlie-block</li>
<li><strong>block containers: block inline-block</strong><ul>
<li>è¡¨ç¤ºå¯ä»¥å®¹çº³bfc</li>
</ul>
</li>
<li><strong>Block-level boxes: flex table grid block</strong><ul>
<li>è¡¨ç¤ºå¯ä»¥è¢«æ”¾å…¥bfc</li>
</ul>
</li>
<li><strong>Block boxes</strong><ul>
<li>block-box = block-level + block-container</li>
<li>block-box å¦‚æœ overflow æ˜¯ visibleï¼Œ é‚£ä¹ˆå°±è·Ÿçˆ¶bfcåˆå¹¶</li>
</ul>
</li>
<li>åªè¦åŒ…å«æ­£å¸¸æµï¼Œéƒ½ä¼šäº§ç”Ÿ BFC, å‰©ä¸‹çš„éƒ½æ˜¯ç”±ä¸€äº›å¥‡æ€ªçš„ display, æœ€å­ä¸€çº§å…ƒç´ ä¹Ÿä¼šäº§ç”Ÿ BFC ï¼Œlike flex-item table-cell</li>
</ul>
</li>
</ul>
</li>
<li><p>float ä¸ clear</p>
</li>
</ul>
<h2 id="Flex"><a href="#Flex" class="headerlink" title="Flex"></a>Flex</h2><h3 id="Flex-æ’ç‰ˆ"><a href="#Flex-æ’ç‰ˆ" class="headerlink" title="Flex æ’ç‰ˆ"></a>Flex æ’ç‰ˆ</h3><ul>
<li>æ”¶é›†ç›’è¿›è¡Œ</li>
<li>è®¡ç®—ç›’åœ¨ä¸»è½´æ–¹å‘çš„æ’å¸ƒ</li>
<li>è®¡ç®—ç›’åœ¨äº¤å‰è½´æ–¹å‘çš„æ’å¸ƒ</li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>2020å¹´ç¬¬23å‘¨æˆ‘åœ¨è¯»ä»€ä¹ˆ</title>
    <url>/2020/06/02/2020%E5%B9%B4%E7%AC%AC23%E5%91%A8%E6%88%91%E5%9C%A8%E8%AF%BB%E4%BB%80%E4%B9%88/</url>
    <content><![CDATA[<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>è¿™æ˜¯ä¸€ä¸ªæ–°çš„åˆ†ç±»ï¼Œé˜…è¯»å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä»¶ç§å¯†çš„äº‹</li>
<li>ä½†å‘¨ä¸€è¯»å®Œäº†ã€Šå¥‘è¯ƒå¤«çš„ä¸€ç”Ÿã€‹æœ‰ç‚¹ç‚¹é›¶ç¢çš„æƒ…æ„Ÿ</li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2>]]></content>
      <categories>
        <category>é˜…è¯»</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
      </tags>
  </entry>
  <entry>
    <title>CSSåŸºæœ¬è¯­æ³•+åŸºç¡€æœºåˆ¶</title>
    <url>/2020/05/24/CSS%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-%E5%9F%BA%E7%A1%80%E6%9C%BA%E5%88%B6/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>


<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>æ•´ç†ä¸€ä¸‹å¹³æ—¶æ‰€å­¦+æ‰€ç”¨åˆ°çš„ CSS åŸºæœ¬è¯­æ³•</li>
</ul>
<a id="more"></a>


<h2 id="CSS-åŸºæœ¬è¯­æ³•"><a href="#CSS-åŸºæœ¬è¯­æ³•" class="headerlink" title="CSS åŸºæœ¬è¯­æ³•"></a>CSS åŸºæœ¬è¯­æ³•</h2><h3 id="CSS2-1-è¯­æ³•"><a href="#CSS2-1-è¯­æ³•" class="headerlink" title="CSS2.1 è¯­æ³•"></a>CSS2.1 è¯­æ³•</h3><ul>
<li><a href="https://www.w3.org/TR/CSS21/grammar.html#q25.0" target="_blank" rel="noopener">Appendix G. Grammar of CSS 2.1</a></li>
<li><a href="https://www.w3.org/TR/css-syntax-3/" target="_blank" rel="noopener">CSS Syntax Module Level 3</a></li>
</ul>
<h3 id="CSS2-1-æ€»ä½“ç»“æ„"><a href="#CSS2-1-æ€»ä½“ç»“æ„" class="headerlink" title="CSS2.1 æ€»ä½“ç»“æ„"></a>CSS2.1 æ€»ä½“ç»“æ„</h3><p><img src="http://p0.meituan.net/myvideodistribute/b9beefeab08a031d689d4e989de4c2f1197837.png" alt="productions_1"><br><img src="http://p0.meituan.net/myvideodistribute/7340e333e43e235776839a2c00bfb982147104.png" alt="productions_2"></p>
<ul>
<li>ç®€åŒ–ä¸ºï¼š<ul>
<li>@charset</li>
<li>@import</li>
<li>rules<ul>
<li>@media</li>
<li>@page</li>
<li>rule</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="CSS-Rules"><a href="#CSS-Rules" class="headerlink" title="CSS @ Rules"></a>CSS @ Rules</h2><ul>
<li><a href="https://www.w3.org/TR/css-syntax-3/" target="_blank" rel="noopener">@charset</a></li>
<li><a href="https://www.w3.org/TR/css-cascade-4/" target="_blank" rel="noopener">@import</a></li>
<li><a href="https://www.w3.org/TR/css3-conditional/" target="_blank" rel="noopener">@media</a></li>
<li><a href="https://www.w3.org/TR/css-page-3/" target="_blank" rel="noopener">@page</a></li>
<li><a href="https://www.w3.org/TR/css-counter-styles-3/" target="_blank" rel="noopener">@counter-style</a></li>
<li><a href="https://www.w3.org/TR/css-animations-1/" target="_blank" rel="noopener">@keyframes</a></li>
<li><a href="https://www.w3.org/TR/css-fonts-3/" target="_blank" rel="noopener">@fontface</a></li>
<li><a href="https://www.w3.org/TR/css3-conditional/" target="_blank" rel="noopener">@supports</a></li>
<li><a href="https://www.w3.org/TR/css-namespaces-3/" target="_blank" rel="noopener">@namespace</a></li>
</ul>
<h2 id="CSS-Qualified-Rule-çš„ç»“æ„"><a href="#CSS-Qualified-Rule-çš„ç»“æ„" class="headerlink" title="CSS Qualified Rule çš„ç»“æ„"></a>CSS Qualified Rule çš„ç»“æ„</h2><ul>
<li>Selector<ul>
<li><a href="https://www.w3.org/TR/selectors-3/" target="_blank" rel="noopener">selectors-3</a></li>
<li><a href="https://www.w3.org/TR/selectors-4/" target="_blank" rel="noopener">selectors-4</a></li>
</ul>
</li>
<li>Key<ul>
<li>Properties</li>
<li>Variables<ul>
<li><a href="https://www.w3.org/TR/css-variables/" target="_blank" rel="noopener">css-variables</a></li>
</ul>
</li>
</ul>
</li>
<li>Value<ul>
<li><a href="https://www.w3.org/TR/css-values-4/" target="_blank" rel="noopener">css-values-4</a></li>
<li>CSS å±æ€§å€¼å¯èƒ½æ˜¯ä»¥ä¸‹ç±»å‹ã€‚<ul>
<li>CSS èŒƒå›´çš„å…³é”®å­—ï¼šinitialï¼Œunsetï¼Œinheritï¼Œä»»ä½•å±æ€§éƒ½å¯ä»¥çš„å…³é”®å­—ã€‚</li>
<li>å­—ç¬¦ä¸²ï¼šæ¯”å¦‚ content å±æ€§ã€‚</li>
<li>URLï¼šä½¿ç”¨ url() å‡½æ•°çš„ URL å€¼ã€‚</li>
<li>æ•´æ•° / å®æ•°ï¼šæ¯”å¦‚ flex å±æ€§ã€‚</li>
<li>ç»´åº¦ï¼šå•ä½çš„æ•´æ•° / å®æ•°ï¼Œæ¯”å¦‚ width å±æ€§ã€‚</li>
<li>ç™¾åˆ†æ¯”ï¼šå¤§éƒ¨åˆ†ç»´åº¦éƒ½æ”¯æŒã€‚</li>
<li>é¢œè‰²ï¼šæ¯”å¦‚ background-color å±æ€§ã€‚</li>
<li>å›¾ç‰‡ï¼šæ¯”å¦‚ background-image å±æ€§ã€‚</li>
<li>2D ä½ç½®ï¼šæ¯”å¦‚ background-position å±æ€§ã€‚</li>
<li>å‡½æ•°ï¼šæ¥è‡ªå‡½æ•°çš„å€¼ï¼Œæ¯”å¦‚ transform å±æ€§ã€‚<ul>
<li>calc()</li>
<li>max()</li>
<li>min()</li>
<li>clamp()</li>
<li>toggle()</li>
<li>attr()</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="åˆå»º-CSS-çŸ¥è¯†ä½“ç³»"><a href="#åˆå»º-CSS-çŸ¥è¯†ä½“ç³»" class="headerlink" title="åˆå»º CSS çŸ¥è¯†ä½“ç³»"></a>åˆå»º CSS çŸ¥è¯†ä½“ç³»</h2><ul>
<li><img src="http://p0.meituan.net/myvideodistribute/236b6afc66be8e7c1ea00a43b76d43a7259289.png" alt="CSS çŸ¥è¯†ä½“ç³»"></li>
</ul>
<h2 id="æ”¶é›†æ ‡å‡†"><a href="#æ”¶é›†æ ‡å‡†" class="headerlink" title="æ”¶é›†æ ‡å‡†"></a>æ”¶é›†æ ‡å‡†</h2><p><img src="http://p0.meituan.net/myvideodistribute/77c702cce890b37809d44d258837f1bd733569.png" alt="CSS standards"></p>
<ul>
<li>all standards and drafts are in the id named container of the html document.</li>
<li>so we can write a script to collect the standards.</li>
</ul>
<h3 id="ç¬¬ä¸€æ­¥ï¼šè·å–æ‰€æœ‰-li-dom-èŠ‚ç‚¹"><a href="#ç¬¬ä¸€æ­¥ï¼šè·å–æ‰€æœ‰-li-dom-èŠ‚ç‚¹" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šè·å–æ‰€æœ‰ li dom èŠ‚ç‚¹"></a>ç¬¬ä¸€æ­¥ï¼šè·å–æ‰€æœ‰ li dom èŠ‚ç‚¹</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> list = <span class="built_in">document</span>.getElementById(<span class="string">"container"</span>).children</span><br><span class="line">  </span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'list'</span>, list)</span><br></pre></td></tr></table></figure>
<p><img src="http://p0.meituan.net/myvideodistribute/6cb3b64a2be23ea9ffce86db74757615120112.png" alt="è·å–çš„æ‰€æœ‰ li èŠ‚ç‚¹"></p>
<h3 id="ç¬¬äºŒæ­¥ï¼šåŒ¹é…å‡º-data-tag-ä¸­ä¸º-css-çš„-standard"><a href="#ç¬¬äºŒæ­¥ï¼šåŒ¹é…å‡º-data-tag-ä¸­ä¸º-css-çš„-standard" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šåŒ¹é…å‡º data-tag ä¸­ä¸º css çš„ standard"></a>ç¬¬äºŒæ­¥ï¼šåŒ¹é…å‡º data-tag ä¸­ä¸º css çš„ standard</h3><ul>
<li><p><img src="http://p1.meituan.net/myvideodistribute/3d1fb8e8198d5d5774cd861235d5682a314365.png" alt="css standard"></p>
</li>
<li><p>è§‚å¯Ÿå¾—åˆ°ï¼Œæˆ‘ä»¬åªéœ€è¦å°† data-tag nodeValue ä¸­æœ‰ â€œcssâ€ æŠ“å‡ºæ¥å³å¯</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> list = <span class="built_in">document</span>.getElementById(<span class="string">"container"</span>).children</span><br><span class="line"><span class="keyword">const</span> result = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> list) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i.getAttribute(<span class="string">'data-tag'</span>).match(<span class="regexp">/css/</span>)) &#123;</span><br><span class="line">    result.push(&#123;</span><br><span class="line">      name: i.children[<span class="number">1</span>].innerText,</span><br><span class="line">      url: i.children[<span class="number">1</span>].children[<span class="number">0</span>].href</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(result, <span class="literal">null</span>, <span class="string">'    '</span>))</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h2 id="æ”¶é›†-CSS-å±æ€§ç›¸å…³æ ‡å‡†"><a href="#æ”¶é›†-CSS-å±æ€§ç›¸å…³æ ‡å‡†" class="headerlink" title="æ”¶é›† CSS å±æ€§ç›¸å…³æ ‡å‡†"></a>æ”¶é›† CSS å±æ€§ç›¸å…³æ ‡å‡†</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> iframe = <span class="built_in">document</span>.createElement(<span class="string">"iframe"</span>);</span><br><span class="line"><span class="built_in">document</span>.body.innerHTML = <span class="string">""</span>;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(iframe);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">happen</span>(<span class="params">element, event</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> handler = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            resolve();</span><br><span class="line">            element.removeEventListener(event, handler);</span><br><span class="line">        &#125;</span><br><span class="line">        element.addEventListener(event, handler);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> standard <span class="keyword">of</span> standards) &#123;</span><br><span class="line">        iframe.src = standard.url;</span><br><span class="line">        <span class="built_in">console</span>.log(standard.name);</span><br><span class="line">        <span class="keyword">await</span> happen(iframe, <span class="string">"load"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure>


<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS-åŠ¨ç”»ä¸ç»˜åˆ¶</title>
    <url>/2020/06/06/CSS-%E5%8A%A8%E7%94%BB%E4%B8%8E%E7%BB%98%E5%88%B6/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>



<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>CSS åŠ¨ç”»ä¸ç»˜åˆ¶</li>
<li>3ä¸ªå°æ—¶çš„èˆè·³ä¸‹æ¥ï¼Œè¿™å‘¨ç«Ÿç„¶è¿˜ä¸ç´¯ï¼Ÿå¥½å§ï¼Œå…¶å®æ˜¯æˆ‘ä¸­é—´åˆ’æ°´äº† ğŸ™ƒ</li>
<li>ä»¥åå‘¨å…­æ—©è¯¾ï¼Œä¸€å®šè¦åœ¨8ç‚¹å‰äº«å—å®Œæ—©é¤ï¼ä»Šæ—©è·³èˆä½è¡€ç³–ï¼ŒåŒè€³ä¸€ç›´è€³é¸£</li>
</ul>
<a id="more"></a>





<h2 id="åŠ¨ç”»ä¸ç»˜åˆ¶"><a href="#åŠ¨ç”»ä¸ç»˜åˆ¶" class="headerlink" title="åŠ¨ç”»ä¸ç»˜åˆ¶"></a>åŠ¨ç”»ä¸ç»˜åˆ¶</h2><h2 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h2><ul>
<li><p>@keyframes å®šä¹‰</p>
</li>
<li><p>animation: ä½¿ç”¨</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">@keyframes mykf &#123;</span><br><span class="line">  <span class="keyword">from</span> &#123;<span class="attr">background</span>: red;&#125;</span><br><span class="line">  to &#123;<span class="attr">background</span>: yellow;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div &#123;</span><br><span class="line">  width: <span class="number">100</span>px;</span><br><span class="line">  height: <span class="number">100</span>px;</span><br><span class="line">  animation: mykf <span class="number">5</span>s infinite;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="Animation-Shortcut"><a href="#Animation-Shortcut" class="headerlink" title="Animation Shortcut"></a>Animation Shortcut</h3><ul>
<li>animation-name: æ—¶é—´æ›²çº¿</li>
<li>animation-duration: åŠ¨ç”»æ—¶é•¿</li>
<li>animation-timing-function: åŠ¨ç”»çš„æ—¶é—´æ›²çº¿<ul>
<li><a href="https://cubic-bezier.com/#.17,.67,.83,.67" target="_blank" rel="noopener">cubic-bezier æ•ˆæœ</a></li>
<li><a href="https://zh.wikipedia.org/wiki/%E8%B2%9D%E8%8C%B2%E6%9B%B2%E7%B7%9A" target="_blank" rel="noopener">wiki cubic-bezier</a></li>
</ul>
</li>
<li>animation-delay: åŠ¨ç”»å¼€å§‹å‰çš„å»¶è¿Ÿ</li>
<li>animation-iteration-count: åŠ¨ç”»çš„æ’­æ”¾æ¬¡æ•°<ul>
<li>&lt;single-animation-iteration-count&gt; = infinite | &lt;number&gt;</li>
</ul>
</li>
<li>animation-direction: åŠ¨ç”»æ–¹å‘<ul>
<li>&lt;single-animation-direction&gt; = normal | reverse | alternate | alternate-reverse</li>
</ul>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* @keyframes duration | timing-function | delay | </span></span><br><span class="line"><span class="comment">iteration-count | direction | fill-mode | play-state | name */</span></span><br><span class="line"><span class="selector-tag">animation</span>: 3<span class="selector-tag">s</span> <span class="selector-tag">ease-in</span> 1<span class="selector-tag">s</span> 2 <span class="selector-tag">reverse</span> <span class="selector-tag">both</span> <span class="selector-tag">paused</span> <span class="selector-tag">slidein</span>;</span><br><span class="line">	</span><br><span class="line"><span class="comment">/* @keyframes name | duration | timing-function | delay */</span></span><br><span class="line"><span class="selector-tag">animation</span>: 3<span class="selector-tag">s</span> <span class="selector-tag">linear</span> 1<span class="selector-tag">s</span> <span class="selector-tag">slidein</span>;</span><br><span class="line">	</span><br><span class="line"><span class="comment">/* @keyframes name | duration */</span></span><br><span class="line"><span class="selector-tag">animation</span>: <span class="selector-tag">slidein</span> 3<span class="selector-tag">s</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation" target="_blank" rel="noopener">MDN CSS animation</a></li>
</ul>
<h3 id="è´ç‘Ÿå°”æ›²çº¿æ‹Ÿåˆ"><a href="#è´ç‘Ÿå°”æ›²çº¿æ‹Ÿåˆ" class="headerlink" title="è´ç‘Ÿå°”æ›²çº¿æ‹Ÿåˆ"></a>è´ç‘Ÿå°”æ›²çº¿æ‹Ÿåˆ</h3><ul>
<li><a href="https://cubic-bezier.com/#.17,.67,.83,.67" target="_blank" rel="noopener">è´ç‘Ÿå°”æ›²çº¿</a></li>
</ul>
<h2 id="Transition"><a href="#Transition" class="headerlink" title="Transition"></a>Transition</h2><h3 id="Transition-Shortcut"><a href="#Transition-Shortcut" class="headerlink" title="Transition Shortcut"></a>Transition Shortcut</h3><ul>
<li>transition-property: è¦å˜æ¢çš„å±æ€§</li>
<li>transition-duration: å˜æ¢çš„æ—¶é•¿</li>
<li>transition-timing-function: æ—¶é—´æ›²çº¿</li>
<li>transition-delay: å»¶è¿Ÿ</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Apply to 1 property */</span></span><br><span class="line"><span class="comment">/* property name | duration */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">margin-right</span> 4<span class="selector-tag">s</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* property name | duration | delay */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">margin-right</span> 4<span class="selector-tag">s</span> 1<span class="selector-tag">s</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* property name | duration | timing function */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">margin-right</span> 4<span class="selector-tag">s</span> <span class="selector-tag">ease-in-out</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* property name | duration | timing function | delay */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">margin-right</span> 4<span class="selector-tag">s</span> <span class="selector-tag">ease-in-out</span> 1<span class="selector-tag">s</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Apply to 2 properties */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">margin-right</span> 4<span class="selector-tag">s</span>, <span class="selector-tag">color</span> 1<span class="selector-tag">s</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Apply to all changed properties */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">all</span> 0<span class="selector-class">.5s</span> <span class="selector-tag">ease-out</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Global values */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">inherit</span>;</span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">initial</span>;</span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">unset</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transition" target="_blank" rel="noopener">MDN CSS transition</a></li>
</ul>
<h2 id="æ¸²æŸ“ä¸é¢œè‰²"><a href="#æ¸²æŸ“ä¸é¢œè‰²" class="headerlink" title="æ¸²æŸ“ä¸é¢œè‰²"></a>æ¸²æŸ“ä¸é¢œè‰²</h2><h3 id="é¢œè‰²"><a href="#é¢œè‰²" class="headerlink" title="é¢œè‰²"></a>é¢œè‰²</h3><h4 id="CMYK-ä¸-RGB"><a href="#CMYK-ä¸-RGB" class="headerlink" title="CMYK ä¸ RGB"></a>CMYK ä¸ RGB</h4><h4 id="HSL-ä¸-HSV"><a href="#HSL-ä¸-HSV" class="headerlink" title="HSL ä¸ HSV"></a>HSL ä¸ HSV</h4><ul>
<li>Hue è‰²ç›¸(360åº¦) Saturaiotn é¥±å’Œåº¦ã€çº¯åº¦ Lightness æ˜åº¦<ul>
<li>è¡¥è‰²ï¼Œå¯¹è§’è‰² â€“&gt; Hue + 180</li>
</ul>
</li>
<li>Hue Saturation Value</li>
</ul>
<h3 id="å½¢çŠ¶"><a href="#å½¢çŠ¶" class="headerlink" title="å½¢çŠ¶"></a>å½¢çŠ¶</h3><ul>
<li>border</li>
<li>box-shadow</li>
<li>border-radius</li>
</ul>
<h4 id="data-uri-svg"><a href="#data-uri-svg" class="headerlink" title="data uri + svg"></a>data uri + svg</h4><ul>
<li>encodeUriComponent</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">data:image&#x2F;svg+xml,%3csvg%20width&#x3D;%22100%25%22%20height&#x3D;%22100%25%22%20version&#x3D;%221.1%22%20xmlns&#x3D;%22http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg%22%3e%3cellipse%20cx&#x3D;%22300%22%20cy&#x3D;%22150%22%20rx&#x3D;%22200%22%20ry&#x3D;%2280%22%20style&#x3D;%22fill:rgb(200,100,50);%20stroke:rgb(0,0,100);stroke-width:2%22&#x2F;%3e%20%3c&#x2F;svg%3e</span><br></pre></td></tr></table></figure>


<h2 id="å°†-ComputedStyle-åˆ†ç±»"><a href="#å°†-ComputedStyle-åˆ†ç±»" class="headerlink" title="å°† ComputedStyle åˆ†ç±»"></a>å°† ComputedStyle åˆ†ç±»</h2><ul>
<li><a href="https://github.com/Ele-Peng/toy-browser/blob/master/crawler.html" target="_blank" rel="noopener">å®Œæ•´ä»£ç -ç‚¹å‡»ä¸€ä¸‹</a></li>
<li><a href="https://github.com/Ele-Peng/Frontend-01-Template/blob/master/week09/CSS-Property.xmind" target="_blank" rel="noopener">CSS-Property.xmind</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>Elle æŠ€èƒ½æ ‘æ¢³ç†</title>
    <url>/2020/08/27/Elle-%E6%8A%80%E8%83%BD%E6%A0%91%E6%A2%B3%E7%90%86/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>å¯¹è‡ªå·±çš„æŠ€èƒ½æ ‘è¿›è¡Œç®€å•æ¢³ç†</li>
</ul>
<a id="more"></a>

<h2 id="ç¼–ç¨‹é€šè¯†-week01-02"><a href="#ç¼–ç¨‹é€šè¯†-week01-02" class="headerlink" title="ç¼–ç¨‹é€šè¯† week01 ~ 02"></a>ç¼–ç¨‹é€šè¯† week01 ~ 02</h2><ul>
<li><p>ä»äº§ç”Ÿå¼çš„è§’åº¦æ¥ç†è§£ç¼–ç¨‹è¯­è¨€</p>
<ul>
<li><a href="https://ele-peng.github.io/2020/04/20/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E9%80%9A%E8%AF%86/" target="_blank" rel="noopener">ç¼–ç¨‹è¯­è¨€é€šè¯†</a></li>
</ul>
</li>
<li><p>ä¾æ®äº§ç”Ÿå¼ï¼Œåˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é… å­—ç¬¦ä¸²/Numberå­—é¢é‡</p>
<ul>
<li><a href="https://ele-peng.github.io/2020/04/20/Reg-Number/" target="_blank" rel="noopener">Reg-Number</a></li>
<li><a href="https://ele-peng.github.io/2020/04/21/Reg-String/" target="_blank" rel="noopener">Reg-String</a></li>
</ul>
</li>
<li><p>UTF-8 + åè¿›åˆ¶å°æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤º</p>
<ul>
<li><a href="https://ele-peng.github.io/2020/04/21/UTF8-Encoing/" target="_blank" rel="noopener">UTF-8 encode+decode, 0.1 + 0.2 â‰  0.3è§£æ</a></li>
</ul>
</li>
<li><p><a href="https://www.ecma-international.org/publications/standards/Ecma-262.htm" target="_blank" rel="noopener">ECMA-262</a></p>
</li>
</ul>
<h2 id="Javascript-week03-05"><a href="#Javascript-week03-05" class="headerlink" title="Javascript week03 ~ 05"></a>Javascript week03 ~ 05</h2><ul>
<li><img src="http://p1.meituan.net/myvideodistribute/a40944a8d5cbaf127ef177026ae1d60d108355.png" alt="Javascript - xmind"></li>
<li><a href="https://ele-peng.github.io/2020/04/20/Javascript-Atom+Types/" target="_blank" rel="noopener">Javascript-Atom + Types</a><ul>
<li><a href="https://ele-peng.github.io/2020/04/24/convertStringToNumber/" target="_blank" rel="noopener">convert String to Number</a></li>
<li><a href="https://ele-peng.github.io/2020/04/25/convertNumberToString/" target="_blank" rel="noopener">convert Number to String</a></li>
</ul>
</li>
<li><a href="https://ele-peng.github.io/2020/04/23/Javascript-Expressions/" target="_blank" rel="noopener">Javascript-Expressions</a></li>
<li><a href="https://ele-peng.github.io/2020/04/26/Javascript-Statement/" target="_blank" rel="noopener">Javascript-Statement</a></li>
<li>Javascript-Structure<ul>
<li><a href="https://ele-peng.github.io/2020/04/30/Javascript-%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/" target="_blank" rel="noopener">äº”ä¸€ Elle å¿«è¦å†™åçš„ 45é“ promiseé¢è¯•é¢˜é¢˜è§£ï¼ˆä¸€ï¼‰</a></li>
<li><a href="https://ele-peng.github.io/2020/05/02/Javascrtip-%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6%EF%BC%88%E4%BA%8C%EF%BC%89/" target="_blank" rel="noopener">äº”ä¸€ Elle å¿«è¦å†™åçš„ 45é“ promiseé¢è¯•é¢˜é¢˜è§£ï¼ˆäºŒï¼‰</a></li>
</ul>
</li>
<li>Javascript-Program/Module</li>
<li>è‡ªå·±å¯¹<a href="https://ele-peng.github.io/2020/04/09/OOP-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" target="_blank" rel="noopener">é¢å‘å¯¹è±¡OOPç²—ç•¥çš„ç†è§£+Javascriptæ ‡å‡†é‡Œæ‰€æœ‰çš„å¯¹è±¡</a></li>
<li><a href="https://ele-peng.github.io/2020/05/08/Realm/" target="_blank" rel="noopener">G6 antv å¯è§†åŒ– Realm ä¸­çš„æ‰€æœ‰å¯¹è±¡</a></li>
</ul>
<h2 id="æµè§ˆå™¨çš„å·¥ä½œåŸç†å’ŒAPI-week05-07"><a href="#æµè§ˆå™¨çš„å·¥ä½œåŸç†å’ŒAPI-week05-07" class="headerlink" title="æµè§ˆå™¨çš„å·¥ä½œåŸç†å’ŒAPI week05 ~ 07"></a>æµè§ˆå™¨çš„å·¥ä½œåŸç†å’ŒAPI week05 ~ 07</h2><h3 id="æµè§ˆå™¨çš„å·¥ä½œåŸç†"><a href="#æµè§ˆå™¨çš„å·¥ä½œåŸç†" class="headerlink" title="æµè§ˆå™¨çš„å·¥ä½œåŸç†"></a>æµè§ˆå™¨çš„å·¥ä½œåŸç†</h3><ul>
<li><a href="https://ele-peng.github.io/2020/05/10/Toy-Browser-DAY1/" target="_blank" rel="noopener">URL- HTTP åè®® + è¯­æ³•ä¸è¯æ³•åˆ†æ</a><ul>
<li><a href="https://ele-peng.github.io/2020/05/12/%E4%BB%8EURL%E8%BE%93%E5%85%A5%E5%88%B0/" target="_blank" rel="noopener">æœªå®Œ-ä»URLè¾“å…¥åˆ°é¡µé¢å±•ç°å‘ç”Ÿäº†ä»€ä¹ˆ</a></li>
<li>FSM<ul>
<li><a href="https://ele-peng.github.io/2020/05/16/%E5%9F%BA%E4%BA%8EKMP%E7%9A%84FSM%E5%A4%84%E7%90%86%E5%AD%97%E7%AC%A6%E4%B8%B2/" target="_blank" rel="noopener">åŸºäºKMPçš„FSMå¤„ç† pattern</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="https://ele-peng.github.io/2020/05/15/Toy-Browser-DAY2/" target="_blank" rel="noopener">HTML - Parser</a></li>
<li><a href="https://ele-peng.github.io/2020/05/17/Toy-Browser-DAY3/" target="_blank" rel="noopener">CSS - CSS Computing</a></li>
<li><a href="https://ele-peng.github.io/2020/05/22/Toy-Browser-DAY4/" target="_blank" rel="noopener">DOM with CSS - Layout</a><ul>
<li>ä¸»è¦å®ç° flex layout</li>
</ul>
</li>
<li><a href="https://ele-peng.github.io/2020/05/24/Toy-Browser-DAY5/" target="_blank" rel="noopener">DOM with position - Render</a></li>
<li><img src="http://p0.meituan.net/myvideodistribute/5c3903a71266e72d2e3f21a276c0efad94997.png" alt="æµè§ˆå™¨å·¥ä½œåŸç†å›¾"></li>
<li><a href="https://github.com/Ele-Peng/toy-browser" target="_blank" rel="noopener">å®Œæ•´é¡¹ç›®ä»£ç </a></li>
</ul>
<h3 id="æµè§ˆå™¨API"><a href="#æµè§ˆå™¨API" class="headerlink" title="æµè§ˆå™¨API"></a>æµè§ˆå™¨API</h3><ul>
<li><img src="http://p1.meituan.net/myvideodistribute/64bf3e3fac9ab50d884671909e47b53c274299.png" alt="Web-Apis"></li>
</ul>
<h2 id="CSS-week-07-09"><a href="#CSS-week-07-09" class="headerlink" title="CSS week 07 ~ 09"></a>CSS week 07 ~ 09</h2><ul>
<li><img src="http://p1.meituan.net/myvideodistribute/855b161fdbce05796f748906fa13987a182699.png" alt="CSS - xmind"></li>
<li><a href="https://ele-peng.github.io/2020/05/24/CSS%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-%E5%9F%BA%E7%A1%80%E6%9C%BA%E5%88%B6/" target="_blank" rel="noopener">CSS åŸºæœ¬è¯­æ³•+åŸºç¡€æœºåˆ¶</a></li>
<li><a href="https://ele-peng.github.io/2020/05/29/CSS-%E9%80%89%E6%8B%A9%E5%99%A8/" target="_blank" rel="noopener">CSS é€‰æ‹©å™¨</a></li>
<li><a href="https://ele-peng.github.io/2020/05/30/CSS-%E6%8E%92%E7%89%88/" target="_blank" rel="noopener">CSS æ’ç‰ˆ</a></li>
<li><a href="https://ele-peng.github.io/2020/06/06/CSS-%E5%8A%A8%E7%94%BB%E4%B8%8E%E7%BB%98%E5%88%B6/" target="_blank" rel="noopener">CSS åŠ¨ç”»ä¸ç»˜åˆ¶</a></li>
<li><img src="http://p0.meituan.net/myvideodistribute/dfa2d75397034ebf8f6f854845a6729760145.png" alt="CSS property"><ul>
<li><a href="https://ele-peng.github.io/2020/08/23/%E9%A2%9C%E8%89%B2%E7%A9%BA%E9%97%B4/" target="_blank" rel="noopener">è‰²å½©ç©ºé—´</a></li>
</ul>
</li>
</ul>
<h2 id="HTML-week-09-10"><a href="#HTML-week-09-10" class="headerlink" title="HTML week 09 ~ 10"></a>HTML week 09 ~ 10</h2><ul>
<li><img src="http://p1.meituan.net/myvideodistribute/3d33254e89dce4bb6e40ceefe4c40945138850.png" alt="HTML - xmind"></li>
<li><a href="https://ele-peng.github.io/2020/06/06/HTML-XML%E4%B8%8ESGML/" target="_blank" rel="noopener">HTML - å…ƒç´ +è¯­è¨€+è¡¥å……æ ‡å‡†</a></li>
</ul>
<h2 id="ç¼–ç¨‹ä¸ç®—æ³•å®è·µ-week-10-13"><a href="#ç¼–ç¨‹ä¸ç®—æ³•å®è·µ-week-10-13" class="headerlink" title="ç¼–ç¨‹ä¸ç®—æ³•å®è·µ week 10 ~ 13"></a>ç¼–ç¨‹ä¸ç®—æ³•å®è·µ week 10 ~ 13</h2><h3 id="Tic-Tac-Toe"><a href="#Tic-Tac-Toe" class="headerlink" title="Tic Tac Toe"></a>Tic Tac Toe</h3><ul>
<li><a href="https://github.com/Ele-Peng/Frontend-01-Template/blob/master/week10/tic-tac-toe.html" target="_blank" rel="noopener">å®Œæ•´é¡¹ç›®ä»£ç </a></li>
</ul>
<h3 id="å¯»è·¯ç®—æ³•ï¼ˆA-ï¼Œå¯å‘å¼ç®—æ³•ï¼Œdfsï¼Œbfsï¼‰"><a href="#å¯»è·¯ç®—æ³•ï¼ˆA-ï¼Œå¯å‘å¼ç®—æ³•ï¼Œdfsï¼Œbfsï¼‰" class="headerlink" title="å¯»è·¯ç®—æ³•ï¼ˆA*ï¼Œå¯å‘å¼ç®—æ³•ï¼Œdfsï¼Œbfsï¼‰"></a>å¯»è·¯ç®—æ³•ï¼ˆA*ï¼Œå¯å‘å¼ç®—æ³•ï¼Œdfsï¼Œbfsï¼‰</h3><ul>
<li><a href="https://github.com/Ele-Peng/Frontend-01-Template/blob/master/week11/roar-search.html" target="_blank" rel="noopener">å®Œæ•´é¡¹ç›®ä»£ç </a></li>
</ul>
<h3 id="å››åˆ™è¿ç®—"><a href="#å››åˆ™è¿ç®—" class="headerlink" title="å››åˆ™è¿ç®—"></a>å››åˆ™è¿ç®—</h3><ul>
<li><a href="https://github.com/Ele-Peng/Frontend-01-Template/blob/master/week12/1x.html" target="_blank" rel="noopener">å®Œæ•´é¡¹ç›®ä»£ç </a></li>
</ul>
<h3 id="å­—ç¬¦ä¸²ç®—æ³•"><a href="#å­—ç¬¦ä¸²ç®—æ³•" class="headerlink" title="å­—ç¬¦ä¸²ç®—æ³•"></a>å­—ç¬¦ä¸²ç®—æ³•</h3><h4 id="Trie-å­—å…¸æ ‘"><a href="#Trie-å­—å…¸æ ‘" class="headerlink" title="Trie å­—å…¸æ ‘"></a>Trie å­—å…¸æ ‘</h4><ul>
<li><a href="https://github.com/Ele-Peng/Frontend-01-Template/blob/master/week12/trie.html" target="_blank" rel="noopener">å®Œæ•´é¡¹ç›®ä»£ç </a></li>
</ul>
<h4 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h4><ul>
<li><a href="https://github.com/Ele-Peng/Frontend-01-Template/blob/master/week12/KMP.html" target="_blank" rel="noopener">å®Œæ•´é¡¹ç›®ä»£ç </a></li>
</ul>
<h4 id="WildCard"><a href="#WildCard" class="headerlink" title="WildCard"></a>WildCard</h4><ul>
<li><a href="https://github.com/Ele-Peng/Frontend-01-Template/blob/master/week12/wildcard.html" target="_blank" rel="noopener">å®Œæ•´é¡¹ç›®ä»£ç </a></li>
</ul>
<h3 id="Proxy-ä¸åŒå‘ç»‘å®š"><a href="#Proxy-ä¸åŒå‘ç»‘å®š" class="headerlink" title="Proxy ä¸åŒå‘ç»‘å®š"></a>Proxy ä¸åŒå‘ç»‘å®š</h3><ul>
<li><a href="https://github.com/Ele-Peng/Frontend-01-Template/blob/master/week13/proxy.html" target="_blank" rel="noopener">å®Œæ•´é¡¹ç›®ä»£ç </a></li>
</ul>
<h3 id="Range-å®ç°-DOM-ç²¾ç¡®æ“ä½œ"><a href="#Range-å®ç°-DOM-ç²¾ç¡®æ“ä½œ" class="headerlink" title="Range å®ç° DOM ç²¾ç¡®æ“ä½œ"></a>Range å®ç° DOM ç²¾ç¡®æ“ä½œ</h3><ul>
<li><a href="https://github.com/Ele-Peng/Frontend-01-Template/blob/master/week13/dragable.html" target="_blank" rel="noopener">å®Œæ•´é¡¹ç›®ä»£ç </a></li>
</ul>
<h2 id="ç»„ä»¶åŒ–-week-13-17"><a href="#ç»„ä»¶åŒ–-week-13-17" class="headerlink" title="ç»„ä»¶åŒ– week 13 ~ 17"></a>ç»„ä»¶åŒ– week 13 ~ 17</h2><ul>
<li><a href="https://github.com/Ele-Peng/component" target="_blank" rel="noopener">å®Œæ•´é¡¹ç›®ä»£ç </a></li>
<li><a href="">å¾…å†™-ç»„ä»¶åŒ–æ€è€ƒ</a></li>
</ul>
<h2 id="å·¥å…·é“¾-week-17-19"><a href="#å·¥å…·é“¾-week-17-19" class="headerlink" title="å·¥å…·é“¾ week 17 ~ 19"></a>å·¥å…·é“¾ week 17 ~ 19</h2><ul>
<li><a href="https://github.com/Ele-Peng/tool-chain" target="_blank" rel="noopener">å®Œæ•´é¡¹ç›®ä»£ç </a></li>
</ul>
<h2 id="å‘å¸ƒç³»ç»Ÿ-week19-21"><a href="#å‘å¸ƒç³»ç»Ÿ-week19-21" class="headerlink" title="å‘å¸ƒç³»ç»Ÿ week19 ~ 21"></a>å‘å¸ƒç³»ç»Ÿ week19 ~ 21</h2><ul>
<li><a href="https://github.com/Ele-Peng/publish" target="_blank" rel="noopener">å®Œæ•´é¡¹ç›®ä»£ç </a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
      </tags>
  </entry>
  <entry>
    <title>JS: å¼‚æ­¥</title>
    <url>/2020/06/20/JS-%E5%BC%82%E6%AD%A5/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript-Expressions</title>
    <url>/2020/04/23/Javascript-Expressions/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h1 id="Javascript-â€“-Expressions"><a href="#Javascript-â€“-Expressions" class="headerlink" title="Javascript â€“ Expressions"></a>Javascript â€“ Expressions</h1><a id="more"></a>

<h1 id="Atom"><a href="#Atom" class="headerlink" title="Atom"></a>Atom</h1><h1 id="Expressions-è¡¨è¾¾å¼"><a href="#Expressions-è¡¨è¾¾å¼" class="headerlink" title="Expressions è¡¨è¾¾å¼"></a>Expressions è¡¨è¾¾å¼</h1><h2 id="Grammar"><a href="#Grammar" class="headerlink" title="Grammar"></a>Grammar</h2><h3 id="å¼•å¯¼ï¼šGrammar-Tree-vs-Priority"><a href="#å¼•å¯¼ï¼šGrammar-Tree-vs-Priority" class="headerlink" title="å¼•å¯¼ï¼šGrammar Tree vs Priority"></a>å¼•å¯¼ï¼šGrammar Tree vs Priority</h3><ul>
<li>+ -</li>
<li>* /</li>
<li>()</li>
</ul>
<h2 id="Left-Handside-amp-Right-Handside"><a href="#Left-Handside-amp-Right-Handside" class="headerlink" title="Left Handside &amp; Right Handside"></a>Left Handside &amp; Right Handside</h2><h2 id="Left-Handside"><a href="#Left-Handside" class="headerlink" title="Left Handside"></a>Left Handside</h2><ul>
<li><img src="http://p0.meituan.net/myvideodistribute/4fa36955e4edcb6c2ae15f638759b365164257.png" alt="Left Handside"></li>
<li>æé™æ˜¯ call</li>
</ul>
<h3 id="Member"><a href="#Member" class="headerlink" title="Member"></a>Member</h3><ul>
<li><p>a.b</p>
</li>
<li><p>a[b]</p>
</li>
<li><p>foo`string`</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"Elle"</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line">foo<span class="string">`Hello <span class="subst">$&#123;name&#125;</span>!`</span></span><br></pre></td></tr></table></figure></li>
<li><p>super.b</p>
<ul>
<li>åªèƒ½åœ¨ constructor é‡Œä½¿ç”¨</li>
</ul>
</li>
<li><p>super[â€˜bâ€™]</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">	<span class="keyword">constructor</span>() &#123;</span><br><span class="line">		<span class="keyword">this</span>.a = <span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">	<span class="keyword">constructor</span>() &#123;</span><br><span class="line">		<span class="keyword">super</span>()</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="keyword">this</span>.a)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">Parent.a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">new</span> Child</span><br></pre></td></tr></table></figure>

<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/6dbc29d1a132b5099186f0f9ec8e6bd458489.png" alt="super æˆªå›¾"></li>
</ul>
</li>
<li><p>new.target</p>
<ul>
<li><p>å‡½æ•°å¤–é¢ä¸èƒ½ä½¿ç”¨ï¼Œåªèƒ½åœ¨å‡½æ•°é‡Œä½¿ç”¨</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å­˜åœ¨ä¸€ä¸ªä¼ªé€ å¯¹è±¡çš„å¯èƒ½ï¼Œæ— æ³•çŸ¥é“å¯¹è±¡æ˜¯å¦æ˜¯è¢« new è°ƒèµ·</span></span><br><span class="line"><span class="keyword">var</span> fakeObj = &#123;&#125;</span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(fakeObj, foo.prototype)</span><br><span class="line">fakeObj.constructor = foo</span><br><span class="line">foo.apply(fakeObj)</span><br><span class="line">fakeObj <span class="keyword">instanceof</span> foo</span><br></pre></td></tr></table></figure>

  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">new</span>.target)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo()</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> foo()</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>new Foo()</p>
<ul>
<li><p>high priority</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cls1</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(s)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cls2</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"2"</span>, s)</span><br><span class="line">    <span class="keyword">return</span> cls1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="keyword">new</span> cls2(<span class="string">"goog"</span>)</span><br></pre></td></tr></table></figure></li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/b94c06479581e9f07cea46eed00d5c6053648.png" alt="new Foo()"></p>
</li>
</ul>
</li>
<li><p>Member Expressions è¿”å›çš„æ˜¯ä¸€ä¸ª Reference ç±»å‹</p>
<ul>
<li><p>Reference</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;</span><br><span class="line">o.x + <span class="number">2</span></span><br><span class="line"><span class="number">1</span> + <span class="number">2</span></span><br><span class="line"><span class="keyword">delete</span> o.x</span><br><span class="line"><span class="keyword">delete</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h3 id="New"><a href="#New" class="headerlink" title="New"></a>New</h3><ul>
<li><p>new Foo </p>
</li>
<li><p>new Foo() ä¼˜å…ˆçº§é«˜</p>
</li>
<li><p><strong>Example</strong></p>
<ul>
<li><p>new a()()</p>
</li>
<li><p>new new a()</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cls1</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(s)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cls2</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"2"</span>, s)</span><br><span class="line">    <span class="keyword">return</span> cls1</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'-=-=-=-new cls2-=-=-=-='</span>)</span><br><span class="line"><span class="keyword">new</span> cls2</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'-=-=-=-cls2("good")-=-=-=-='</span>)</span><br><span class="line">cls2(<span class="string">"good"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'-=-=-=-new cls2("good")-=-=-=-='</span>)</span><br><span class="line"><span class="keyword">new</span> cls2(<span class="string">"good"</span>) <span class="comment">// è¿”å›å›æ¥ cls2 å®ä¾‹ï¼Œcls1å¯¹è±¡</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'-=-=-=-new (cls2("good"))-=-=-=-='</span>)</span><br><span class="line"><span class="keyword">new</span> (cls2(<span class="string">"good"</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'-=-=-=-new (new cls2)-=-=-=-='</span>)</span><br><span class="line"><span class="keyword">new</span> (<span class="keyword">new</span> cls2)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'-=-=-=-new new cls2("good")-=-=-=-='</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="keyword">new</span> cls2(<span class="string">"good"</span>)</span><br></pre></td></tr></table></figure></li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/0ea9dc132069ffab80fc3260feef10d8228161.png" alt="new Foo  ä¼˜å…ˆçº§"></p>
</li>
</ul>
</li>
</ul>
<h3 id="Call"><a href="#Call" class="headerlink" title="Call"></a>Call</h3><ul>
<li>foo()</li>
<li>super()</li>
<li>foo()[â€˜bâ€™]</li>
<li>foo().b</li>
<li>foo()`abc`</li>
</ul>
<h2 id="Right-Handside"><a href="#Right-Handside" class="headerlink" title="Right Handside"></a>Right Handside</h2><h3 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h3><ul>
<li><p>UpdateExpression</p>
<ul>
<li><p>no LineTerminator here</p>
</li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/c0869aae45e6bd6e9e6cc8261ed8888664190.png" alt="no LineTerminator here"></p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>, b = <span class="number">1</span>, c = <span class="number">1</span>;</span><br><span class="line">a</span><br><span class="line">++</span><br><span class="line">b</span><br><span class="line">++</span><br><span class="line">c</span><br><span class="line"><span class="built_in">console</span>.log([a, b, c])</span><br><span class="line">a<span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span>++</span><br><span class="line">b<span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span>++</span><br><span class="line">c</span><br><span class="line"><span class="built_in">console</span>.log([a, b, c])</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>a ++</p>
</li>
<li><p>a â€“</p>
</li>
<li><p>â€“ a</p>
</li>
<li><p>++ a</p>
</li>
</ul>
<h3 id="Unary-å•ç›®è¿ç®—ç¬¦"><a href="#Unary-å•ç›®è¿ç®—ç¬¦" class="headerlink" title="Unary å•ç›®è¿ç®—ç¬¦"></a>Unary å•ç›®è¿ç®—ç¬¦</h3><ul>
<li><p>delete a.b</p>
</li>
<li><p>void foo() </p>
<ul>
<li><p>void ä¸æ˜¯è¿”å›å€¼ï¼Œæ˜¯è¿ç®—ç¬¦åœ¨ JS ä¸­</p>
</li>
<li><p>ä¸ç®¡åé¢æ˜¯ä»€ä¹ˆï¼Œéƒ½è¿”å› undefined</p>
</li>
<li><p>IIFE ç«‹å³æ‰§è¡Œå‡½æ•°</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i ++) &#123;</span><br><span class="line">	<span class="keyword">var</span> button  = <span class="built_in">document</span>.createElement(<span class="string">'button'</span>);</span><br><span class="line">	documents.body.append(button);</span><br><span class="line">	button.innerHTML = <span class="number">1</span>;</span><br><span class="line">	button.onClick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(i)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç‚¹é‚£ä¸ªæŒ‰é’®ï¼Œéƒ½æ˜¯10ï¼Œä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨IIFE</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i ++) &#123;</span><br><span class="line">	<span class="keyword">var</span> button  = <span class="built_in">document</span>.createElement(<span class="string">'button'</span>);</span><br><span class="line">	documents.body.append(button);</span><br><span class="line">	button.innerHTML = <span class="number">1</span>;</span><br><span class="line">	(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">		button.onClick = <span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(i)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¦‚æœå‰é¢ä¸åŠ åˆ†å·ï¼Œåœ¨ä¸€äº›å†™æ³•ä¸­ï¼Œä¼šå‘ç”Ÿç²˜èµ·æ¥é”™è¯¯</span></span><br><span class="line">   (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">     button.onClick = <span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(i)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)()</span><br><span class="line">   </span><br><span class="line">   (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">     button.onClick = <span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(i)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)()</span><br><span class="line"><span class="comment">// æœ€ç¨³å¦¥çš„å°±æ˜¯ï¼Œåœ¨å‰é¢åŠ ä¸Švoid</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i ++) &#123;</span><br><span class="line">	<span class="keyword">var</span> button  = <span class="built_in">document</span>.createElement(<span class="string">'button'</span>);</span><br><span class="line">	documents.body.append(button);</span><br><span class="line">	button.innerHTML = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">void</span> <span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">		button.onClick = <span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(i)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¹¶ä¸”è¯­ä¹‰æ­£ç¡®ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦IIFEçš„è¿”å›å€¼</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>typeof a</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/c45593f796e09721d1b10701e366669620756.png" alt="typeof"></li>
</ul>
</li>
<li><p>+ a</p>
</li>
<li><p>- a</p>
</li>
<li><p>~ a æŒ‰ä½å–å</p>
</li>
<li><p>! a å–é</p>
<ul>
<li>!!1</li>
</ul>
</li>
<li><p>await a</p>
</li>
</ul>
<h3 id="Exponental"><a href="#Exponental" class="headerlink" title="Exponental"></a>Exponental</h3><ul>
<li>**<ul>
<li>3 ** 2 ** 3</li>
<li>3 ** (2 ** 3)</li>
<li><img src="http://p1.meituan.net/myvideodistribute/18947a64bdd8ad6c249ea3e214f5b11d17541.png" alt="Exponental"></li>
</ul>
</li>
</ul>
<h3 id="Multiplicative"><a href="#Multiplicative" class="headerlink" title="Multiplicative"></a>Multiplicative</h3><ul>
<li>* / %<ul>
<li>JS ä¸­æœ‰1ç§ä¹˜æ³•è¿ç®—ç¬¦<ul>
<li>è¿è¡Œæ—¶<ul>
<li>number</li>
<li>string</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Additive"><a href="#Additive" class="headerlink" title="Additive"></a>Additive</h3><ul>
<li>+ -<ul>
<li>JS ä¸­æœ‰2ç§åŠ æ³•è¿ç®—ç¬¦<ul>
<li>è¿è¡Œæ—¶<ul>
<li>number</li>
<li>string</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Shift-å·¦å³ç§»ä½"><a href="#Shift-å·¦å³ç§»ä½" class="headerlink" title="Shift å·¦å³ç§»ä½"></a>Shift å·¦å³ç§»ä½</h3><ul>
<li>&lt;&lt; &gt;&gt; &gt;&gt;&gt;</li>
</ul>
<h3 id="Relationship-æ¯”è¾ƒ"><a href="#Relationship-æ¯”è¾ƒ" class="headerlink" title="Relationship æ¯”è¾ƒ"></a>Relationship æ¯”è¾ƒ</h3><ul>
<li>&lt; &gt; &lt;= &gt;= instanceof in</li>
</ul>
<h3 id="Equality"><a href="#Equality" class="headerlink" title="Equality"></a>Equality</h3><ul>
<li>==</li>
<li>!=</li>
<li>===</li>
<li>!==</li>
</ul>
<h3 id="Bitwise"><a href="#Bitwise" class="headerlink" title="Bitwise"></a>Bitwise</h3><ul>
<li>&amp; ^ |</li>
</ul>
<h3 id="Logical"><a href="#Logical" class="headerlink" title="Logical"></a>Logical</h3><ul>
<li><p>æ²¡æœ‰ä»»ä½• boolean è½¬æ¢</p>
</li>
<li><p>&amp;&amp;</p>
<ul>
<li><p>æœ‰çŸ­è·¯é€»è¾‘</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line">foo1() &amp;&amp; foo2()</span><br><span class="line"></span><br><span class="line">foo1() || foo2()</span><br></pre></td></tr></table></figure>
</li>
<li><p><img src="http://p1.meituan.net/myvideodistribute/76bacd40d3b17ddaca8fa40b7df168cc49722.png" alt="&amp;&amp; çŸ­è·¯é€»è¾‘è¿è¡Œæˆªå›¾"></p>
</li>
</ul>
</li>
<li><p>||</p>
</li>
</ul>
<h3 id="Conditional"><a href="#Conditional" class="headerlink" title="Conditional"></a>Conditional</h3><ul>
<li><p>? :</p>
<ul>
<li><p>åŒæ ·æœ‰çŸ­è·¯é€»è¾‘</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="literal">false</span> ? foo1() : foo2()</span><br></pre></td></tr></table></figure></li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/bcb065e3ae7986b5c15333ea32404e5360600.png" alt="ä¸‰ç›®è¿ç®—ç¬¦çŸ­è·¯é€»è¾‘"></p>
</li>
</ul>
</li>
</ul>
<h3 id=""><a href="#" class="headerlink" title=","></a>,</h3><h2 id="Runtime"><a href="#Runtime" class="headerlink" title="Runtime"></a>Runtime</h2><h3 id="Type-Convertion"><a href="#Type-Convertion" class="headerlink" title="Type Convertion"></a>Type Convertion</h3><ul>
<li><img src="http://p1.meituan.net/myvideodistribute/92ac57b25bd03ca675ef9b0d694e4415353216.png" alt="Type Convertion"></li>
<li>undefined â€“&gt; number NAN</li>
</ul>
<h4 id="Boxing-amp-Unboxing"><a href="#Boxing-amp-Unboxing" class="headerlink" title="Boxing &amp; Unboxing"></a>Boxing &amp; Unboxing</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Number String Boolean Symbol</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello'</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello'</span>).length</span><br><span class="line"><span class="string">"hello"</span>.length</span><br><span class="line"><span class="keyword">typeof</span> <span class="string">"hello"</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello'</span>)</span><br><span class="line">!<span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">''</span>)</span><br><span class="line">!<span class="string">""</span></span><br><span class="line"><span class="comment">// Number String Boolean ä¸ä½œä¸º new è°ƒç”¨ï¼Œå°±æ˜¯è½¬æ¢æˆæ™®é€šç±»å‹</span></span><br><span class="line"><span class="built_in">String</span>(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">String</span>(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/3f64818a6b39695d9dbc489cb8bc3f6281607.png" alt="Boxing &amp; Unboxing"></p>
</li>
<li><p>toPremitive()</p>
</li>
<li><p>toString vs valueOf</p>
<ul>
<li><p>toString vs valueOf</p>
<pre><code><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> + &#123;&#125;</span><br><span class="line"><span class="number">1</span> + &#123;valueOf()&#123;<span class="keyword">return</span> <span class="number">2</span>&#125;&#125;</span><br><span class="line"><span class="number">1</span> + &#123;toString()&#123;<span class="keyword">return</span> <span class="number">2</span>&#125;&#125;</span><br><span class="line"><span class="number">1</span> + &#123;toString()&#123;<span class="keyword">return</span> <span class="number">4</span>&#125;&#125;</span><br><span class="line"><span class="number">1</span> + &#123;toString()&#123;<span class="keyword">return</span> <span class="string">"4"</span>&#125;&#125;</span><br><span class="line"><span class="number">1</span> + &#123;valueOf()&#123;<span class="keyword">return</span> <span class="number">1</span>&#125;, toString()&#123;<span class="keyword">return</span> <span class="string">"2"</span>&#125;&#125;</span><br><span class="line"><span class="string">"1"</span> + &#123;valueOf()&#123;<span class="keyword">return</span> <span class="number">1</span>&#125;, toString()&#123;<span class="keyword">return</span> <span class="string">"2"</span>&#125;&#125;</span><br></pre></td></tr></table></figure></code></pre><ul>
<li><img src="http://p1.meituan.net/myvideodistribute/78cc58a640f02d8de18f21eec0c80e2f71205.png" alt="toString vs valueOf"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><h3 id="Key"><a href="#Key" class="headerlink" title="Key"></a>Key</h3><h3 id="æ”¯æŒå†™"><a href="#æ”¯æŒå†™" class="headerlink" title="æ”¯æŒå†™"></a>æ”¯æŒå†™</h3><ul>
<li>delete</li>
<li>assign</li>
</ul>
<h1 id="Statement"><a href="#Statement" class="headerlink" title="Statement"></a>Statement</h1><h1 id="Structure"><a href="#Structure" class="headerlink" title="Structure"></a>Structure</h1><h1 id="Program-Module"><a href="#Program-Module" class="headerlink" title="Program/Module"></a>Program/Module</h1><h4 id="ps-checkSign"><a href="#ps-checkSign" class="headerlink" title="ps. checkSign"></a>ps. checkSign</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">check</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="number">1</span> / number === <span class="literal">Infinity</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (<span class="number">1</span> / number === -<span class="literal">Infinity</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> number / <span class="built_in">Math</span>.abs(number)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>ã€æœªå®Œã€‘Infinity åˆ¤æ–­</p>
</li>
<li><p>ã€æœªå®Œã€‘ç›´æ¥ç”¨æµå–å‡ºç¬¦å·ä½</p>
</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript Types</title>
    <url>/2020/04/20/Javascript-Atom+Types/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h1 id="Javascript-â€“-Atom-Types"><a href="#Javascript-â€“-Atom-Types" class="headerlink" title="Javascript â€“ Atom - Types"></a>Javascript â€“ Atom - Types</h1><h2 id="Atom"><a href="#Atom" class="headerlink" title="Atom"></a>Atom</h2><h3 id="Unicode-ï¼ˆå­—ç¬¦é›†ï¼‰"><a href="#Unicode-ï¼ˆå­—ç¬¦é›†ï¼‰" class="headerlink" title="Unicode ï¼ˆå­—ç¬¦é›†ï¼‰"></a>Unicode ï¼ˆå­—ç¬¦é›†ï¼‰</h3><ul>
<li><p>Unicode Blocks</p>
<ul>
<li>JSä½¿ç”¨çš„ä¸æ˜¯ASCIIå­—ç¬¦é›†ï¼Œä½†æ˜¯éƒ½è¦å…¼å®¹ASCIIå­—ç¬¦é›†<ul>
<li>a ç ç‚¹ â€“&gt; 97, A ç ç‚¹ â€“&gt; 65</li>
</ul>
</li>
<li>U+000A LINE FEED æ¢è¡Œ<ul>
<li>Form Feed ç¿»é¡µ</li>
<li>CJK ä¸­æ–‡å­—ç¬¦ Chinese Japan Korean</li>
</ul>
</li>
<li>U+0020 SPACE ç©ºæ ¼</li>
<li>BMP (Basic Multilingual Plane)åŸºæœ¬å­—ç¬¦å¹³é¢ å››ä½èƒ½è¡¨ç¤ºçš„èŒƒå›´</li>
<li>è¶…å‡ºBMPèŒƒå›´<ul>
<li>fromCodePoint</li>
<li>codePointAt</li>
</ul>
</li>
<li>éšæ€§éœ€æ±‚éœ€è¦å¯ä»¥ä½¿ç”¨\uè½¬ä¹‰<ul>
<li>â€œå‰å®³â€.codePointAt(0).toString(16)</li>
<li>\u5389\u5bb3<a id="more"></a>
</li>
</ul>
</li>
</ul>
</li>
<li><p>InputElement</p>
<ul>
<li>WhiteSpace ç©ºæ ¼<ul>
<li>&lt;TAB&gt; Character Tabulation</li>
<li>&lt;VT&gt; Vertical Line</li>
<li>&lt;FF&gt; Form Feed </li>
<li>&lt;SP&gt; </li>
<li>&lt;NBSP&gt; htmlæ ¹æ®ç©ºæ ¼åˆ†è¯ï¼Œä¸æƒ³è®©è¯åˆ†æ ¹æ®ç©ºæ ¼åˆ†å¼€ï¼Œå¯ä»¥ä½¿ç”¨&nbsp;</li>
<li>&lt;ZWNBSP&gt; U+FEFF Zero WIDTH NO-BREAK SPACEï¼ŒBOM â€“&gt; Bit Order Mask</li>
<li>&lt;USP&gt;</li>
</ul>
</li>
<li>LineTerminator æ¢è¡Œç¬¦<ul>
<li>&lt;LF&gt; /n</li>
<li>&lt;CR&gt; Carriage Return å›è½¦ /r</li>
<li>&lt;LS&gt; LINE SEPARATOR</li>
<li>&lt;PS&gt; PARAGRAPH SEPARATOR</li>
</ul>
</li>
<li>Comment æ³¨é‡Š</li>
<li><strong>Token</strong> ä¸wordä¸åŒï¼Œè®°å·æ ‡è®°ï¼ŒJSä¸­æœ‰æ•ˆçš„ä¸œè¥¿<ul>
<li>è‡ªå·±å†™çš„ï¼Œä»£ç åŒ…å«çš„æœ‰æ•ˆä¿¡æ¯<ul>
<li><strong>Identifier</strong> æ ‡è¯†ç¬¦ï¼Œä»¥è‹±æ–‡å­—æ¯å¼€å¤´<ul>
<li>ç”¨ä½œå˜é‡åï¼Œä¸èƒ½ä¸å…³é”®å­—é‡å¤<ul>
<li>undefined å…¨å±€å˜é‡åï¼Œä¿®æ”¹ä¸äº†</li>
<li>ç¦»å¼€å…¨å±€ä½œç”¨åŸŸï¼Œä¾¿å¯ä»¥ä½¿ç”¨</li>
</ul>
</li>
<li>ç”¨ä½œå±æ€§çš„éƒ¨åˆ†ï¼Œå¯ä»¥ä¸å…³é”®å­—é‡å¤</li>
<li>Future reserved Keywords : enum</li>
</ul>
</li>
<li><strong>Literal</strong> ç›´æ¥é‡<ul>
<li>Number    </li>
<li>String</li>
<li>Boolean</li>
<li>Object</li>
<li>Null</li>
<li>Undefined</li>
<li>Symbol</li>
</ul>
</li>
</ul>
</li>
<li>å¸®åŠ©ç¨‹åºå½¢æˆç»“æ„<ul>
<li><strong>Punctuator</strong> ç¬¦å·</li>
<li><strong>Keywords</strong> </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Types"><a href="#Types" class="headerlink" title="Types"></a>Types</h3><h4 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h4><ul>
<li><p>IEEE 754 Double Float</p>
<ul>
<li>Sign(1)</li>
<li>Exponent(11) æŒ‡æ•°ï¼Œç§‘å­¦è®¡æ•°æ³•</li>
<li>Fraction(52)</li>
</ul>
</li>
<li><p>Grammar</p>
<ul>
<li>DecimaLiteral<ul>
<li>0</li>
<li>0.</li>
<li>.2</li>
<li>1e3</li>
</ul>
</li>
<li>BinaryIntegerLiteral<ul>
<li>0b111</li>
</ul>
</li>
<li>OctalIntegerLiteral<ul>
<li>0o10</li>
</ul>
</li>
<li>HexIntegerLiteral<ul>
<li>0xFF</li>
</ul>
</li>
</ul>
</li>
<li><p>æœ€ä½³å®è·µ</p>
<ul>
<li><p>æµ®ç‚¹æ•°æ¯”è¾ƒæ—¶ï¼Œéœ€è¦åŠ ç²¾åº¦</p>
<blockquote>
<p>Number.MAX_SAFE_INTEGER</p>
</blockquote>
<blockquote>
<p>Math.abs(0.1 + 0.2 - 0.3) &lt;= Number.EPSILON</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="String"><a href="#String" class="headerlink" title="String"></a>String</h4><ul>
<li><p>Character</p>
</li>
<li><p>Code Point</p>
</li>
<li><p>Encoding</p>
<blockquote>
<p>97 .toString(2)</p>
</blockquote>
<blockquote>
<p>â€œ97.â€ æ˜¯ä¸€ä¸ªåˆæ³•çš„Number 01100001</p>
</blockquote>
<ul>
<li>ASCII</li>
<li>Unicode</li>
<li>UCS U+0000 - U+FFFF</li>
<li>GB<ul>
<li>GB2312</li>
<li>GBK(GB13000)</li>
<li>GB18030</li>
</ul>
</li>
<li>ISO-8859</li>
<li>BIG5</li>
</ul>
</li>
<li><p>Grammar</p>
<ul>
<li><p>â€œabcâ€</p>
<ul>
<li>â€œ\x10â€ â€“&gt; 8</li>
<li>â€œ\u000aâ€</li>
</ul>
</li>
<li><p>â€˜abcâ€™</p>
</li>
<li><p>`abc`</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line">/a/g æ­£åˆ™è¡¨è¾¾å¼ç›´æ¥é‡</span><br><span class="line">(a)</span><br><span class="line">/a/g --&gt; åˆ™è¡¨ç¤ºé™¤æ³•</span><br><span class="line">(a)/a/g</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<h4 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h4><ul>
<li>true</li>
<li>false</li>
</ul>
<h4 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h4><ul>
<li>ä¸ºä»€ä¹ˆç»™å¯¹è±¡æ·»åŠ çš„æ–¹æ³•èƒ½ç”¨åœ¨åŸºæœ¬ç±»å‹ä¸Šï¼Ÿ</li>
<li>è¿ç®—ç¬¦æä¾›äº†è£…ç®±æ“ä½œï¼Œå®ƒä¼šæ ¹æ®åŸºç¡€ç±»å‹æ„é€ ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½åœ¨åŸºç¡€ç±»å‹ä¸Šè°ƒç”¨å¯¹åº”å¯¹è±¡çš„æ–¹æ³•ã€‚</li>
</ul>
<h4 id="Null"><a href="#Null" class="headerlink" title="Null"></a>Null</h4><ul>
<li>typeof ä¸‹ä¸º Object</li>
</ul>
<h4 id="Undefined"><a href="#Undefined" class="headerlink" title="Undefined"></a>Undefined</h4><ul>
<li><p>JavaScript çš„ä»£ç  undefined æ˜¯ä¸€ä¸ªå˜é‡ï¼Œè€Œå¹¶éæ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œæ‰€ä»¥ï¼Œä¸ºäº†é¿å…æ— æ„ä¸­è¢«ç¯¡æ”¹ï¼Œå»ºè®®ä½¿ç”¨ void 0 æ¥è·å– undefined å€¼ã€‚</p>
</li>
<li><p>å¯¦éš›ä¸Šï¼Œes5å¾Œundefinedå·²ç¶“è¢«æ”¹ç‚ºread-onlyå±¬æ€§äº†ã€‚ ä½†åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸Šï¼Œæ˜¯æœƒè¢«ä¿®æ”¹çš„ï¼ å¦‚è€ƒæ…®ä»¥ä¸‹å‡½æ•¸ï¼š </p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> test = <span class="function"><span class="params">()</span> =&gt;</span>&#123; <span class="keyword">var</span> <span class="literal">undefined</span> = <span class="number">5</span>; <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">undefined</span>)<span class="comment">//è¼¸å‡ºnumber &#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>ç‚ºäº†é¿å…ç„¡æ„ä¸­è¢«ç«„æ”¹ï¼Œä½¿ç”¨void(0)é‚„æ˜¯æ¯”è¼ƒå¥½çš„åšæ³• è€Œä¸”åœ¨é€²è¡Œä»£ç¢¼å£“ç¸®æ™‚ï¼Œundefinedä¹Ÿæœƒè¢«æ›æˆvoid(0)</p>
</li>
</ul>
<h4 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h4><h2 id="Expression"><a href="#Expression" class="headerlink" title="Expression"></a>Expression</h2><h2 id="Statemment"><a href="#Statemment" class="headerlink" title="Statemment"></a>Statemment</h2><h2 id="Structure"><a href="#Structure" class="headerlink" title="Structure"></a>Structure</h2><h2 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h2>]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Fibonacci</title>
    <url>/2020/08/26/Fibonacci/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>


<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li><a href="https://en.wikipedia.org/wiki/Fibonacci_number" target="_blank" rel="noopener">Fibonacci numbers</a></li>
<li>æ–æ³¢é‚£å¥‘æ•°åˆ—ç‰¹ç‚¹ï¼š<ul>
<li>F<sub>0</sub> = 0,F<sub>1</sub> = 1;</li>
<li>F<sub>n</sub> = F<sub>n-1</sub> + F<sub>n-2</sub>;</li>
<li>such as:<ul>
<li>0, 1, 1, 2, 3, 5, 8, 13, 21 â€¦</li>
</ul>
</li>
</ul>
</li>
</ul>
<a id="more"></a>

<h2 id="åŸºç¡€å®ç°ï¼šé€’å½’å®ç°"><a href="#åŸºç¡€å®ç°ï¼šé€’å½’å®ç°" class="headerlink" title="åŸºç¡€å®ç°ï¼šé€’å½’å®ç°"></a>åŸºç¡€å®ç°ï¼šé€’å½’å®ç°</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é€’å½’ Time: O(2^n) Space: O(1)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fibonacci</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(n, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> fibonacci(n - <span class="number">1</span>) + fibonacci(n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="åˆçº§å®ç°ï¼šç®€å•-for-å¾ªåŒ–å®ç°"><a href="#åˆçº§å®ç°ï¼šç®€å•-for-å¾ªåŒ–å®ç°" class="headerlink" title="åˆçº§å®ç°ï¼šç®€å• for å¾ªåŒ–å®ç°"></a>åˆçº§å®ç°ï¼šç®€å• for å¾ªåŒ–å®ç°</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¾ªç¯ Time: O(n) Space: O(n)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fibonacci</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(n, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> res = [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; n; i ++) &#123;</span><br><span class="line">    res.push(res[i - <span class="number">1</span>] + res[i - <span class="number">2</span>])</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res[n - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸­çº§å®ç°ï¼šç®€å•-for-å¾ªåŒ–å®ç°"><a href="#ä¸­çº§å®ç°ï¼šç®€å•-for-å¾ªåŒ–å®ç°" class="headerlink" title="ä¸­çº§å®ç°ï¼šç®€å• for å¾ªåŒ–å®ç°"></a>ä¸­çº§å®ç°ï¼šç®€å• for å¾ªåŒ–å®ç°</h2><pre><code class="javascript"><span class="comment">// é€’å½’ä¼˜åŒ–ï¼Œè·³è¿‡è®¡ç®—è¿‡çš„ä¸­é—´å˜é‡ Time: O(n) Space: O(n)</span>
<span class="comment">// {</span>
  <span class="keyword">let</span> res = [<span class="number">0</span>]
  <span class="function"><span class="keyword">function</span> <span class="title">fibonacci</span>(<span class="params">n</span>) </span>{
    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) {
      <span class="keyword">return</span> res[n] = <span class="built_in">Math</span>.max(n, <span class="number">0</span>);
    }
    <span class="keyword">if</span> (res[n]) {
      <span class="keyword">return</span> res[n];
    }
    res[n] = fibonacci(n - <span class="number">1</span>) + fibonacci(n - <span class="number">2</span>);
    <span class="keyword">return</span> res[n]
  }
  <span class="comment">// æ±‚æ•°ç»„ç¬¬åé¡¹çš„å€¼</span>
  fibonacci(<span class="number">9</span>)
<span class="comment">// }</span></code></pre>
<h2 id="é«˜çº§å®ç°ï¼šçŸ©é˜µä¹˜æ³•-å¿«é€Ÿå¹‚"><a href="#é«˜çº§å®ç°ï¼šçŸ©é˜µä¹˜æ³•-å¿«é€Ÿå¹‚" class="headerlink" title="é«˜çº§å®ç°ï¼šçŸ©é˜µä¹˜æ³• + å¿«é€Ÿå¹‚"></a>é«˜çº§å®ç°ï¼šçŸ©é˜µä¹˜æ³• + å¿«é€Ÿå¹‚</h2><h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>writing</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript-Statement</title>
    <url>/2020/04/26/Javascript-Statement/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>


<h1 id="Atom"><a href="#Atom" class="headerlink" title="Atom"></a>Atom</h1><h1 id="Expression"><a href="#Expression" class="headerlink" title="Expression"></a>Expression</h1><h1 id="Statement"><a href="#Statement" class="headerlink" title="Statement"></a>Statement</h1><h2 id="Grammar"><a href="#Grammar" class="headerlink" title="Grammar"></a>Grammar</h2><h3 id="ç®€å•è¯­å¥"><a href="#ç®€å•è¯­å¥" class="headerlink" title="ç®€å•è¯­å¥"></a>ç®€å•è¯­å¥</h3><ul>
<li>ExpressionStatement<ul>
<li>a = 1 + 2;</li>
</ul>
</li>
<li>EmptyStatement<ul>
<li>;</li>
</ul>
</li>
<li>DebuggerStatement<ul>
<li>debugger</li>
</ul>
</li>
<li>ThrowStatement<ul>
<li>throw a;</li>
</ul>
</li>
<li>ContinueStatement<ul>
<li>continue ;</li>
<li>continue label;</li>
</ul>
</li>
<li>BreakStatement<ul>
<li>break ;</li>
<li>break label;</li>
</ul>
</li>
<li>ReturnStatement<ul>
<li>return ;</li>
<li>return expression;</li>
</ul>
</li>
</ul>
<a id="more"></a>

<h3 id="ç»„åˆè¯­å¥"><a href="#ç»„åˆè¯­å¥" class="headerlink" title="ç»„åˆè¯­å¥"></a>ç»„åˆè¯­å¥</h3><ul>
<li><p>BlockStatement</p>
<ul>
<li><p>æŠŠå¤šæ¡è¯­å¥ä»è¯­æ³•ä¸Šæ‹¬èµ·æ¥ï¼Œè®©å®ƒåƒä¸€æ¡è¯­å¥ä¸€æ ·</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  Statement...</span><br><span class="line">  Statement...</span><br><span class="line">  Statement...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  a: <span class="number">1</span> <span class="comment">// a è¢«ç†è§£ä¸º label</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>BlockStatement ä¸­æœ‰é normal ï¼Œå°±ä¼šä¸­æ–­</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">const</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">throw</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line">  b = foo();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ä¸º const / let æä¾›ä½œç”¨åŸŸ</p>
</li>
<li><p>Completion Record</p>
<ul>
<li>[[type]]: normal</li>
<li>[[value]]: â€“</li>
<li>[[target]]: â€“</li>
</ul>
</li>
</ul>
</li>
<li><p>IfStatement</p>
</li>
<li><p>SwitchStatement</p>
</li>
<li><p>IterationStatement</p>
<ul>
<li><p><s>for await(â€¦ of â€¦)</s></p>
</li>
<li><p>while(Expressionâ€¦) Statementâ€¦</p>
</li>
<li><p>do Statementâ€¦ while(Expressionâ€¦);</p>
</li>
<li><p>for(Definitionâ€¦; Expressionâ€¦; Expressionâ€¦) Statementâ€¦</p>
<ul>
<li><p>Definition</p>
<ul>
<li>var</li>
<li>const / let</li>
</ul>
</li>
<li><p>for ä¼šç‹¬ç«‹äº§ç”Ÿä¸€ä¸ªä½œç”¨åŸŸï¼Œåœ¨ blockStatement ä¹‹å¤–</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>for(Definitionâ€¦ in Expressionâ€¦) Statementâ€¦.</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>for(Definitionâ€¦of Expressionâ€¦) Statementâ€¦</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">g</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> p  <span class="keyword">of</span> g())&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(p)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>for of â€“&gt; Iterator â€“&gt; Generator/Array</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>WithStatement</p>
</li>
<li><p>LabelledStatement</p>
</li>
<li><p>TryStatement</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  Statement...</span><br><span class="line">&#125; <span class="keyword">catch</span>(definition...) &#123;</span><br><span class="line">  Statement...</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  Statement...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="number">2</span>;</span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">  <span class="keyword">let</span> e;</span><br><span class="line">  <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> e = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="number">2</span>;</span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>catch ä¸­çš„å£°æ˜ï¼Œåªåœ¨ {} è¿™ä¸€ä¸ªä½œç”¨åŸŸä¸­ï¼Œä¸ for ä¸ä¸€æ ·ã€‚</p>
</li>
<li><p>è¿è¡Œæ—¶äº§ç”Ÿé”™è¯¯çš„æ—¶å€™ï¼Œéƒ½æœ‰å¯èƒ½äº§ç”Ÿ throw</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> = a;</span><br><span class="line"><span class="literal">null</span>.a;</span><br></pre></td></tr></table></figure></li>
<li><p>Completion Record</p>
<ul>
<li>[[type]]: return</li>
<li>[[value]]: â€“</li>
<li>[[target]]: label</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="æ ‡ç­¾ã€å¾ªç¯ã€breakã€continue"><a href="#æ ‡ç­¾ã€å¾ªç¯ã€breakã€continue" class="headerlink" title="æ ‡ç­¾ã€å¾ªç¯ã€breakã€continue"></a>æ ‡ç­¾ã€å¾ªç¯ã€breakã€continue</h3><ul>
<li>LabelledStatement</li>
<li>IterationStatement</li>
<li>ContinueStatement</li>
<li>BreakStatement</li>
<li>SwitchStatement</li>
<li>Completion Record<ul>
<li>[[type]]: break continue</li>
<li>[[value]]: â€“</li>
<li>[[target]]: label</li>
</ul>
</li>
</ul>
<h3 id="å£°æ˜æœºåˆ¶"><a href="#å£°æ˜æœºåˆ¶" class="headerlink" title="å£°æ˜æœºåˆ¶"></a>å£°æ˜æœºåˆ¶</h3><ul>
<li><p>FunctionDeclaration</p>
</li>
<li><p>GeneratorDeclaration</p>
</li>
<li><p>AsyncFunctionDeclaration</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">d</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> setTimeout(resolve, d))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i ++);</span><br><span class="line">    <span class="keyword">await</span> sleep(<span class="number">1000</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure></li>
<li><p>AsyncGeneratorDeclaration</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">d</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> setTimeout(resolve, d))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span>* <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> i ++;</span><br><span class="line">    <span class="keyword">await</span> sleep(<span class="number">1000</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> g = foo();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">await</span> g.next());</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">await</span> g.next());</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">await</span> g.next());</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">await</span> g.next());</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">await</span> g.next());</span><br><span class="line">&#125;()</span><br><span class="line"><span class="comment">// æƒ³æ— é™å¾ªç¯è¾“å‡º</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> g = foo();</span><br><span class="line">  <span class="keyword">for</span> <span class="keyword">await</span>(<span class="keyword">let</span> e <span class="keyword">of</span> g) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure></li>
<li><p>VariableStatement</p>
</li>
<li><p>ClassDeclaration</p>
</li>
<li><p>LexicalDeclaration</p>
</li>
<li><p>å£°æ˜</p>
<ul>
<li><p>function</p>
</li>
<li><p>function *</p>
</li>
<li><p>async function</p>
</li>
<li><p>async function*</p>
</li>
<li><p>var</p>
<ul>
<li><p>æœ‰ var ä¸å»ºè®®å†™åœ¨ä»»ä½•è¯­å¥å­ç»“æ„é‡Œï¼Œå»ºè®®å†™åœ¨ function çš„èŒƒå›´å†…</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> o = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</span><br><span class="line">  x = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">with</span>(o) &#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(x); <span class="comment">// --&gt; 2</span></span><br><span class="line">  <span class="built_in">console</span>.log(o.x); <span class="comment">// --&gt; 3</span></span><br><span class="line">&#125;</span><br><span class="line">foo()</span><br><span class="line"><span class="built_in">console</span>.log(x); <span class="comment">// --&gt; 0</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> o = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</span><br><span class="line">  x = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">with</span>(o) &#123;</span><br><span class="line">    x = <span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(x); <span class="comment">// --&gt; 2</span></span><br><span class="line">  <span class="built_in">console</span>.log(o.x); <span class="comment">// --&gt; 3</span></span><br><span class="line">&#125;</span><br><span class="line">foo()</span><br><span class="line"><span class="built_in">console</span>.log(x); <span class="comment">// --&gt; 2</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>class</p>
</li>
<li><p>const</p>
</li>
<li><p>let</p>
</li>
</ul>
</li>
</ul>
<h2 id="Runtime"><a href="#Runtime" class="headerlink" title="Runtime"></a>Runtime</h2><h3 id="Completion-Record"><a href="#Completion-Record" class="headerlink" title="Completion Record"></a>Completion Record</h3><ul>
<li>[[type]]: normal, break, continue, return, throw</li>
<li>[[value]]: Types</li>
<li>[[target]]: label</li>
</ul>
<h3 id="Lexical-Environment"><a href="#Lexical-Environment" class="headerlink" title="Lexical Environment"></a>Lexical Environment</h3><h2 id="é¢„å¤„ç†ï¼ˆpre-processï¼‰BoundNames"><a href="#é¢„å¤„ç†ï¼ˆpre-processï¼‰BoundNames" class="headerlink" title="é¢„å¤„ç†ï¼ˆpre-processï¼‰BoundNames"></a>é¢„å¤„ç†ï¼ˆpre-processï¼‰BoundNames</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">  a = <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a) </span><br><span class="line">  <span class="keyword">return</span> ;</span><br><span class="line">  <span class="keyword">var</span> a;</span><br><span class="line">&#125;()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a'</span>, a);</span><br></pre></td></tr></table></figure>
<p><img src="http://p0.meituan.net/myvideodistribute/f2ca7ffe01a1005a939392f8609685d733665.png" alt="var é¢„å¤„ç†"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">  a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> ;</span><br><span class="line">  <span class="keyword">const</span> a;</span><br><span class="line">&#125;();</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure>
<p><img src="http://p1.meituan.net/myvideodistribute/172ab6a2ba78132f1dd33f2f5b64e11044523.png" alt="const æ— é¢„å¤„ç†"></p>
<h2 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">  a = <span class="number">1</span>;</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;();</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">  a = <span class="number">1</span>;</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">const</span> a;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;();</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure>

<p><img src="http://p0.meituan.net/myvideodistribute/8b9ac53e3ae6dfca675786084237d0d971523.png" alt="ä½œç”¨åŸŸ"></p>
<ul>
<li>ä½œç”¨åŸŸä¸ä¸Šä¸‹æ–‡çš„åŒºåˆ«<ul>
<li>ä½œç”¨åŸŸå¯ä»¥ç®€å•ç†è§£ä¸ºæºä»£ç æ–‡æœ¬çš„ä½œç”¨åŒºåŸŸ</li>
<li>æ‰§è¡Œä¸Šä¸‹æ–‡å¯ä»¥ç†è§£ä¸ºï¼Œåœ¨ç”¨æˆ·çš„ç”µè„‘ä¸Šï¼Œå†…å­˜é‡Œçš„ï¼Œå­˜å˜é‡çš„åœ°æ–¹ï¼ŒJavaScript å¼•æ“åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­éœ€è¦çš„å˜é‡ï¼Œå¼•æ“é‡Œçš„é‚£å—å†…å­˜ã€‚</li>
</ul>
</li>
</ul>
<h1 id="Structure"><a href="#Structure" class="headerlink" title="Structure"></a>Structure</h1><h1 id="Program-Module"><a href="#Program-Module" class="headerlink" title="Program/Module"></a>Program/Module</h1>]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Reg-Number</title>
    <url>/2020/04/20/Reg-Number/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŒ¹é…æ‰€æœ‰ Number å­—é¢é‡<a id="more"></a>

</li>
</ul>
<h2 id="å®è·µè¿‡ç¨‹"><a href="#å®è·µè¿‡ç¨‹" class="headerlink" title="å®è·µè¿‡ç¨‹"></a>å®è·µè¿‡ç¨‹</h2><ul>
<li><p><img src="http://p1.meituan.net/myvideodistribute/fcc73488cd245a6c48cf067a6dc7641e16278.png" alt="NumbericLiteral å¤§çº²"></p>
</li>
<li><p>NumericLiteral :: </p>
<ul>
<li><p>DecimalLiteral</p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/94398bab367ca56c0aa2435de753041520532.png" alt="DecimalLiteral å¤§çº²"></p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/40d13f93242ff1f9321411cc7886586f52608.png" alt="DecimalLiteral è¯¦æƒ…"></p>
</li>
<li><p>DecimalIntegerLiteral . DecimalDigits(opt) ExponentPart(opt)</p>
<ul>
<li><p>DecimalIntegerLiteral</p>
<blockquote>
<p>(0)</p>
</blockquote>
<blockquote>
<p>([1-9][0-9]*)</p>
</blockquote>
</li>
<li><p>.</p>
<blockquote>
<p>.</p>
</blockquote>
</li>
<li><p>DecimalDigits</p>
<blockquote>
<p>[0-9]*</p>
</blockquote>
</li>
<li><p>ExponentPart</p>
<blockquote>
<p>(e|E)(\+|\-)?([0-9])*</p>
</blockquote>
</li>
<li><p>å¯ä»¥æ¨å¯¼å‡º</p>
<blockquote>
<p>/^((0)|([1-9][0-9]*))?.?([0-9]*)((e|E)?(\+|\-)?([0-9]*))?$/</p>
</blockquote>
</li>
</ul>
</li>
<li><p>. DecimalDigits ExponentPart(opt)</p>
<ul>
<li><p>å¯ä»¥æ¨å¯¼å‡º</p>
<blockquote>
<p>/^<strong>((0)|([1-9][0-9]*))?</strong>.?([0-9]*)(((e|E)?(\+|\-)?([0-9])*)*)$/</p>
</blockquote>
</li>
</ul>
</li>
<li><p>DecimalIntegerLiteral ExponentPart(opt)</p>
<blockquote>
<p>/^((0)|([1-9][0-9]*))?<strong>.?</strong>([0-9]<em>)((e|E)?(\+|\-)?([0-9]\</em>))?$/</p>
</blockquote>
</li>
<li><p>æœ€ç»ˆ</p>
<blockquote>
<p>/^((0)|([1-9][0-9]*))?.?([0-9]*)((e|E)?(\+|\-)?([0-9]*))?$/</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p>BinaryIntegerLiteral </p>
<ul>
<li><p><img src="http://p1.meituan.net/myvideodistribute/5a2e4c4c84c80cf794281290420928d78942.png" alt="BinaryIntegerLiteral å¤§çº²"></p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/22c6b076cfe8b42d71003893bed4059512350.png" alt="BinaryIntegerLiteral è¯¦æƒ…"></p>
<blockquote>
<p>/^0(b|B)(0|1)+$/</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p>OctalIntegerLiteral </p>
<ul>
<li><p><img src="http://p1.meituan.net/myvideodistribute/40145f430e5560e16f117863419eceea12195.png" alt="OctalIntegerLiteral å¤§çº²"></p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/3049a1ac2a5071c0bcebae1e31db9a5512369.png" alt="OctalIntegerLiteral è¯¦æƒ…"></p>
<blockquote>
<p>/^0(O|o)[0-7]+$/</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p>HexIntegerLiteral</p>
<ul>
<li><p><img src="http://p1.meituan.net/myvideodistribute/cfe61ed151be1f9e1ab58a860cc6c8638397.png" alt="HexIntegerLiteral å¤§çº²"></p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/75544696fc619ce55f6555d0fddd5a0617749.png" alt="HexIntegerLiteral è¯¦æƒ…"></p>
<blockquote>
<p>/^0(x|X)([0-9a-fA-F])+$/</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>ç®€å•æ€»ç»“</p>
<blockquote>
<p>/^(((0)|([1-9][0-9]*))?.?([0-9]*)((e|E)?(\+|\-)?([0-9]*))?)|(0(b|B)(0|1)+)|(0(O|o)[0-7]+)|(0(x|X)([0-9a-fA-F])+)$/</p>
</blockquote>
</li>
<li><p>ç®€åŒ–</p>
<blockquote>
<p> /^((((0)|([1-9]\d*))?.?(\d*)((e|E)?(\+|\-)?(\d*))?)|(0(b|B)(0|1)+)|(0(O|o)[0-7]+)|(0(x|X)([0-9a-fA-F])+))$/</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">/^((((<span class="number">0</span>)|([<span class="number">1</span><span class="number">-9</span>]\d*))?.?(\d*)((e|E)?(\+|\-)?(\d*))?)|(<span class="number">0</span>(b|B)(<span class="number">0</span>|<span class="number">1</span>)+)|(<span class="number">0</span>(O|o)[<span class="number">0</span><span class="number">-7</span>]+)|(<span class="number">0</span>(x|X)([<span class="number">0</span><span class="number">-9</span>a-fA-F])+))$/</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="ç»“æœæµ‹è¯•"><a href="#ç»“æœæµ‹è¯•" class="headerlink" title="ç»“æœæµ‹è¯•"></a>ç»“æœæµ‹è¯•</h2><ul>
<li>åå…­è¿›åˆ¶æ•°ï¼š 0x0233acdfACDF<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/6b7064f71909191efad66a7a6899e17551930.png" alt="åå…­è¿›åˆ¶æ•°"></li>
</ul>
</li>
<li>å…«è¿›åˆ¶æ•°ï¼š0o023657<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/a65a14040f2a483733b92a78ca7cb76956176.png" alt="å…«è¿›åˆ¶æ•°"></li>
</ul>
</li>
<li>äºŒè¿›åˆ¶æ•°ï¼š 0b01010111<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/33e2f75a6f02ec627a4aa16f56c9d59251733.png" alt="äºŒè¿›åˆ¶æ•°"></li>
</ul>
</li>
<li>æµ®ç‚¹æ•°ï¼š.2373736<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/facf9ed43fe79a6e05525c9597f1014054052.png" alt="æµ®ç‚¹æ•°"></li>
</ul>
</li>
<li>IEEE 754ï¼š1.2e+32<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/28058fac862347153c3d605fbb37272952996.png" alt="IEEE 754"></li>
</ul>
</li>
<li>ç‰¹æ®Šæƒ…å†µ .0<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/5d38329b0247e224ac893957ae24e9a150951.png" alt="ç‰¹æ®Šæƒ…å†µ"></li>
</ul>
</li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
        <tag>æ­£åˆ™è¡¨è¾¾å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>Reg -- String</title>
    <url>/2020/04/21/Reg-String/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>


<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>æ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŒ¹é…æ‰€æœ‰ å­—ç¬¦ä¸² å­—é¢é‡<a id="more"></a>


</li>
</ul>
<h2 id="å®è·µè¿‡ç¨‹"><a href="#å®è·µè¿‡ç¨‹" class="headerlink" title="å®è·µè¿‡ç¨‹"></a>å®è·µè¿‡ç¨‹</h2><ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/42c12116bea0d20ad46f3eaaec710ee419568.png" alt="StringLiteral å¤§çº²"></p>
</li>
<li><p>StringLiteral ::</p>
<ul>
<li><p>DoubleStringCharacters</p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/03c05dd8a9fd5b8b621593fe039e4e6c16908.png" alt="DoubleStringCharacters å¤§çº²"></p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/ef23a0f824e9fc948b61da6c4a8d2a4729602.png" alt="DoubleStringCharacter è¯¦æƒ…"></p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/9004c303c8ebdbb8e38c00e7597b2c5b10649.png" alt="SourceCharacter è¯¦æƒ…"></p>
<blockquote>
<p>\\u[0-9a-fA-F]{4}</p>
</blockquote>
</li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/25a7c00f444aaead5b3a187d09ab280a16997.png" alt="EscapeSequence è¯¦æƒ…"></p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/ef30597fe4124e22ae7fcf243d9712a310845.png" alt="CharacterEscapeSequence è¯¦æƒ…"></p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/b495509fe89ca78a7d2f5f06831d45c79074.png" alt="SingleEscapeCharacter è¯¦æƒ…"></p>
<blockquote>
<p>â€˜â€œ\\bfnrtv</p>
</blockquote>
</li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/7ce330d5a54c7c8ac927771ee7a0540814453.png" alt="NonEscapeCharacter è¯¦æƒ…"></p>
<ul>
<li><p><img src="http://p1.meituan.net/myvideodistribute/f3d3a1b2fba86ebd4b8b6ab2959302e610550.png" alt="EscapeCharacter è¯¦æƒ…"></p>
<blockquote>
<p>â€˜â€œ\\bfnrtv0-9xu </p>
</blockquote>
</li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/8c027b4dfef1876ad432fd62b6ecc4a59724.png" alt="LineTerminator è¯¦æƒ…"></p>
<blockquote>
<p>\n\r\u2028\u2029</p>
</blockquote>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/02a7f707581cb217ab5025d7a48e67e829247.png" alt="LineTerminator ç ç‚¹"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>CharacterEscapeSequence</strong>æ€»ç»“ä¸ºï¼š</p>
<blockquote>
<p>â€˜â€œ\\bfnrtv0-9xu\n\r\u2028\u2029</p>
</blockquote>
</li>
<li><p><img src="http://p1.meituan.net/myvideodistribute/9207083723607a9faa4f0a560599dde17694.png" alt="HexEscapeSequence è¯¦æƒ…"></p>
</li>
<li><p><strong>HexEscapeSequence</strong>æ€»ç»“ä¸ºï¼š</p>
<blockquote>
<p>\\x[0-9a-fA-F]{2}</p>
</blockquote>
</li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/545f52e053421a0e9c5e3b231a96276d10075.png" alt="UnicodeEscapeSequence è¯¦æƒ…"></p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/8bb8c713ee753fd2844aea95e3ecde417620.png" alt="Hex4Digits è¯¦æƒ…"></li>
</ul>
</li>
<li><p><strong>UnicodeEscapeSequence</strong>æ€»ç»“ä¸ºï¼š</p>
<blockquote>
<p> \\u[0-9a-fA-F]{4}</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>EscapeSequence</strong>æ€»ç»“ä¸ºï¼š</p>
<blockquote>
<p>(â€˜â€œ\\bfnrtv0-9xu\n\r\u2028\u2029])|(\\x[0-9a-fA-F]{2})|(\\u[0-9a-fA-F]{4})</p>
</blockquote>
</li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/bd86a4d39c1ae8d719eca6afbd9dcb147948.png" alt="LineContinuation è¯¦æƒ…"></p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/e8b4e35d4653ecb6a0f89d848085f69b14054.png" alt="LineTerminatorSequence è¯¦æƒ…"></li>
</ul>
</li>
<li><p><strong>LineContinuation</strong>æ€»ç»“ä¸ºï¼š</p>
<blockquote>
<p>\\\n\r\u\2028]2029</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>DoubleStringCharacters</strong>æ€»ç»“ä¸ºï¼š</p>
<blockquote>
<p>â€œ(?:(\\(â€˜â€œ\\bfnrtv0-9xu\n\r\u2028\u2029])|(\\x[0-9a-fA-F]{2})|(\\u[0-9a-fA-F]{4}))|(\\\n\r\u\2028]2029))*â€</p>
</blockquote>
</li>
<li><p>SingleStringCharacters</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/6d2e2b31ed15050de59907d5537b9e9219247.png" alt="SingleStringCharacters å¤§çº²"></li>
</ul>
</li>
<li><p><strong>SingleStringCharacters</strong>æ€»ç»“ä¸ºï¼š</p>
<blockquote>
<p>â€˜(?:(\\(â€˜â€œ\\bfnrtv0-9xu\n\r\u2028\u2029])|(\\x[0-9a-fA-F]{2})|(\\u[0-9a-fA-F]{4}))|(\\\n\r\u\2028]2029))*â€™</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>StringLiteral</strong>æ€»ç»“ä¸ºï¼š</p>
<blockquote>
<p>(^â€(?:(\\(â€˜â€œ\\bfnrtv0-9xu\n\r\u2028\u2029])|(\\x[0-9a-fA-F]{2})|(\\u[0-9a-fA-F]{4}))|(\\\n\r\u\2028]2029))*â€$)|(^â€™(?:(\\(â€˜â€œ\\bfnrtv0-9xu\n\r\u2028\u2029])|(\\x[0-9a-fA-F]{2})|(\\u[0-9a-fA-F]{4}))|(\\\n\r\u\2028]2029))*â€™$)</p>
</blockquote>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(^<span class="string">"(?:(\\('"</span>\\bfnrtv0<span class="number">-9</span>xu\n\\r\u2028\u2029])|(\x[<span class="number">0</span><span class="number">-9</span>a-fA-F]&#123;<span class="number">2</span>&#125;)|(\u[<span class="number">0</span><span class="number">-9</span>a-fA-F]&#123;<span class="number">4</span>&#125;))|(\\\n\r\u\<span class="number">2028</span>]<span class="number">2029</span>))*<span class="string">"$)|(^'(?:(\\('"</span>\\bfnrtv0<span class="number">-9</span>xu\n\\r\u2028\u2029])|(\x[<span class="number">0</span><span class="number">-9</span>a-fA-F]&#123;<span class="number">2</span>&#125;)|(\u[<span class="number">0</span><span class="number">-9</span>a-fA-F]&#123;<span class="number">4</span>&#125;))|(\\\n\r\u\<span class="number">2028</span>]<span class="number">2029</span>))*<span class="string">'$)</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
        <tag>æ­£åˆ™è¡¨è¾¾å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>Toy-Browser-DAY5</title>
    <url>/2020/05/24/Toy-Browser-DAY5/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>


<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>implementation of a toy-browser ğŸ™†</li>
<li>æœ€æœ«ç¯‡ï¼šæµè§ˆå™¨çš„ç»˜åˆ¶ï¼Œå®Œç»“ toy-browser âœŠ</li>
<li><img src="http://p0.meituan.net/myvideodistribute/5c3903a71266e72d2e3f21a276c0efad94997.png" alt="DOM with Position"></li>
</ul>
<a id="more"></a>

<h2 id="ç¬¬ä¸€æ­¥ï¼šç»˜åˆ¶å•ä¸ªå…ƒç´ "><a href="#ç¬¬ä¸€æ­¥ï¼šç»˜åˆ¶å•ä¸ªå…ƒç´ " class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šç»˜åˆ¶å•ä¸ªå…ƒç´ "></a>ç¬¬ä¸€æ­¥ï¼šç»˜åˆ¶å•ä¸ªå…ƒç´ </h2><ul>
<li><p>ç»˜åˆ¶éœ€è¦ä¾èµ–ä¸€ä¸ªå›¾å½¢ç¯å¢ƒ</p>
</li>
<li><p>è¿™é‡Œé‡‡ç”¨ npm package â€“ images</p>
</li>
<li><p>ç»˜åˆ¶å…ˆåœ¨ä¸€ä¸ª viewport ä¸Šè¿›è¡Œ</p>
</li>
<li><p>æš‚æ—¶åªå¤„ç†ç»˜åˆ¶å±æ€§ï¼šbackground-color</p>
</li>
<li><p>render1.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> images = <span class="built_in">require</span>(<span class="string">'images'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">viewport, element</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (element.style) &#123;</span><br><span class="line">    <span class="keyword">const</span> img = images(element.style.width, element.style.height)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (element.style[<span class="string">"background-color"</span>]) &#123;</span><br><span class="line">      <span class="keyword">let</span> color = element.style[<span class="string">"background-color"</span>] || <span class="string">"rgb(0,0,0)"</span></span><br><span class="line">      color.match(<span class="regexp">/rgb\((\d+),(\d+),(\d+)\)/</span>)</span><br><span class="line">      <span class="comment">// .fill(red, green, blue[, alpha])</span></span><br><span class="line">      img.fill(<span class="built_in">Number</span>(<span class="built_in">RegExp</span>.$<span class="number">1</span>), <span class="built_in">Number</span>(<span class="built_in">RegExp</span>.$<span class="number">2</span>), <span class="built_in">Number</span>(<span class="built_in">RegExp</span>.$<span class="number">3</span>), <span class="number">1</span>)</span><br><span class="line">      viewport.draw(img, element.style.left || <span class="number">0</span>, element.style.top || <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = render</span><br></pre></td></tr></table></figure>
</li>
<li><p>client.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// ... some code</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ... some code</span></span><br><span class="line">	</span><br><span class="line">  <span class="keyword">let</span> dom = parser.parseHTML(response.body)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> viewport = images(<span class="number">800</span>, <span class="number">600</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç»˜åˆ¶ cls1 å…ƒç´ ç‚¹ï¼Œrgb(0, 255, 0)</span></span><br><span class="line">  render(viewport, dom.children[<span class="number">0</span>].children[<span class="number">3</span>].children[<span class="number">1</span>].children[<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">  viewport.save(<span class="string">"viewport.jpg"</span>)</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/c8641c2200150079f9f29c91b1102ac83945.png" alt="è¿è¡Œç»“æœ"></li>
</ul>
</li>
<li><p><a href="https://github.com/Ele-Peng/toy-browser/blob/master/render1.js" target="_blank" rel="noopener">render1.js å®Œæ•´ä»£ç -ç‚¹å‡»ä¸€ä¸‹</a></p>
</li>
</ul>
<h2 id="ç¬¬äºŒæ­¥ï¼šç»˜åˆ¶-DOM"><a href="#ç¬¬äºŒæ­¥ï¼šç»˜åˆ¶-DOM" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šç»˜åˆ¶ DOM"></a>ç¬¬äºŒæ­¥ï¼šç»˜åˆ¶ DOM</h2><ul>
<li><p>é€’å½’è°ƒç”¨å­å…ƒç´ çš„ç»˜åˆ¶æ–¹æ³•å®Œæˆ DOM æ ‘çš„æ„å»º</p>
</li>
<li><p>render2.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> images = <span class="built_in">require</span>(<span class="string">'images'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">viewport, element</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (element.style) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// some code</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (element.children) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> child <span class="keyword">of</span> element.children) &#123;</span><br><span class="line">      render(viewport, child)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = render</span><br></pre></td></tr></table></figure></li>
<li><p>å¿½ç•¥ä¸€äº›ä¸éœ€è¦ç»˜åˆ¶çš„èŠ‚ç‚¹</p>
</li>
<li><p>å®é™…æµè§ˆå™¨ä¸­ï¼Œæ–‡å­—ç»˜åˆ¶æ˜¯éš¾ç‚¹ï¼Œéœ€è¦ä¾èµ–å­—ä½“åº“ï¼Œè¿™é‡Œå¿½ç•¥</p>
</li>
<li><p>å®é™…æµè§ˆå™¨ä¸­ï¼Œè¿˜ä¼šå¯¹ä¸€äº›å›¾å±‚åš compositingï¼Œè¿™é‡Œå¿½ç•¥</p>
</li>
<li><p>server.js å°†response Content-Type è®¾ç½®ä¸º text/html</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// some code</span></span><br><span class="line"></span><br><span class="line">res.writeHead(<span class="number">200</span>, &#123; <span class="string">'Content-Type'</span>: <span class="string">'text/html'</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// some code</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/b04d62bb5f32ee07cb640e0b97014fb147655.png" alt="è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<ul>
<li><a href="https://github.com/Ele-Peng/toy-browser/blob/master/render2.js" target="_blank" rel="noopener">render2.js å®Œæ•´ä»£ç  ç‚¹å‡»ä¸€ä¸‹</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li><a href="https://github.com/Ele-Peng/toy-browser" target="_blank" rel="noopener">toy-browser å®Œæ•´ä»£ç  ç‚¹å‡»ä¸€ä¸‹</a></li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>æµè§ˆå™¨</category>
      </categories>
      <tags>
        <tag>æµè§ˆå™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>convertNumberToString</title>
    <url>/2020/04/25/convertNumberToString/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>æ˜¯çš„æˆ‘è¦æŠ˜è…¾ä¸€ä¸‹ Javascript convertNumberToString äº†ğŸ™†</li>
<li><a href="https://ele-peng.github.io/2020/04/24/convertStringToNumber/" target="_blank" rel="noopener">convertStringToNumber å®ç°</a></li>
</ul>
<a id="more"></a>
<h2 id="å®è·µå‡†å¤‡"><a href="#å®è·µå‡†å¤‡" class="headerlink" title="å®è·µå‡†å¤‡"></a>å®è·µå‡†å¤‡</h2><ul>
<li><p>é¦–å…ˆæˆ‘ä»¬ä¾æ—§éœ€è¦ç®€å•æ¢³ç†ä¸€ä¸‹æˆ‘ä»¬çš„å®è·µè¿‡ç¨‹ï¼Œå†æ ¹æ® <a href="https://www.ecma-international.org/publications/standards/Ecma-262.htm" target="_blank" rel="noopener">ECMAScript-262</a> æ ‡å‡†P61å®Œå–„å®è·µ</p>
</li>
<li><p>input: @params: { num } è¾“å…¥éœ€è¦è½¬æ¢çš„number, { radix } è½¬æ¢çš„æŒ‡å®šåŸºæ•°</p>
</li>
<li><p>å¯¹ input-num çš„ç‰¹æ®Šå¤„ç†</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/e0405830e24314df04f89a21078cc64198443.png" alt="input-num çš„ç‰¹æ®Šå¤„ç†"></li>
</ul>
</li>
<li><p>ç®€å•ç®—æ³•å¤„ç†</p>
<ul>
<li>è·å–ç¬¦å·ä½<ul>
<li>- è´Ÿ æ˜¾ç¤º</li>
<li>+ æ­£ ä¸æ˜¾ç¤º</li>
</ul>
</li>
<li>åè¿›åˆ¶</li>
<li>äºŒè¿›åˆ¶</li>
<li>å…«è¿›åˆ¶</li>
<li>åå…­è¿›åˆ¶</li>
</ul>
</li>
<li><p>output: return resStr</p>
</li>
</ul>
<h2 id="å®è·µè¿‡ç¨‹"><a href="#å®è·µè¿‡ç¨‹" class="headerlink" title="å®è·µè¿‡ç¨‹"></a>å®è·µè¿‡ç¨‹</h2><ul>
<li><p>ç»è¿‡ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬ä»£ç å¯ä»¥å…ˆå†™æˆ</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convertNumberToString</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> formatNum = <span class="built_in">Number</span>(num) <span class="comment">// å¤„ç†Numberä¸ºåè¿›åˆ¶</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(formatNum)) <span class="keyword">return</span> <span class="string">'NaN'</span></span><br><span class="line">    <span class="keyword">if</span> (isZero(formatNum)) <span class="keyword">return</span> <span class="string">'0'</span></span><br><span class="line">    <span class="keyword">const</span> sign = getSign(formatNum)</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">isFinite</span>(formatNum)) <span class="keyword">return</span> sign + <span class="string">'Infinity'</span></span><br><span class="line">    <span class="keyword">return</span> convertDecimalNumberToString(formatNum)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(err)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>input number çš„ç‰¹æ®Šå¤„ç†</p>
<ul>
<li><p>If m is NaN, return the String â€œNaNâ€.</p>
<blockquote>
<p>if (isNaN(formatNum)) return â€˜NaNâ€™</p>
</blockquote>
</li>
<li><p>If m is +0 or -0, return the String â€œ0â€.</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (isZero(formatNum)) <span class="keyword">return</span> <span class="string">'0'</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isZero</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="number">1</span> / num === <span class="literal">Infinity</span> || <span class="number">1</span> / num === -<span class="literal">Infinity</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>If m is less than zero, return the string-concatenation of â€œ-â€œ and ! NumberToString(-m).</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> sign = getSign(formatNum)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSign</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (num === -<span class="literal">Infinity</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"-"</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num === <span class="literal">Infinity</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line">  &#125; <span class="comment">// ç‰¹æ®Šæƒ…å†µ 0 å‰é¢å·²ç»å¤„ç†</span></span><br><span class="line">  <span class="keyword">return</span> num / <span class="built_in">Math</span>.abs(num) === <span class="number">1</span> ? <span class="string">""</span> : <span class="string">"-"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>If m is +âˆ, return the String â€œInfinityâ€.</p>
<blockquote>
<p>if (!isFinite(formatNum)) return sign + â€˜Infinityâ€™</p>
</blockquote>
</li>
</ul>
</li>
<li><p>å¸¸è§„ Decimal Number å¤„ç†</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convertDecimalNumberToString</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> radix = <span class="number">10</span></span><br><span class="line">  <span class="keyword">let</span> int = <span class="built_in">Math</span>.floor(num)</span><br><span class="line">  <span class="keyword">let</span> float = (num - int) * <span class="number">100</span> / <span class="number">100</span></span><br><span class="line">  <span class="keyword">let</span> resInt = <span class="string">''</span></span><br><span class="line">  <span class="keyword">let</span> resFloat = <span class="string">''</span></span><br><span class="line">  <span class="comment">// æ•´æ•°éƒ¨åˆ† å–ä½™ï¼Œé™¤ä»¥åŸºæ•°</span></span><br><span class="line">  <span class="keyword">while</span> (int &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    resInt = <span class="built_in">String</span>(int % radix) + resInt</span><br><span class="line">    int = <span class="built_in">Math</span>.floor(int / radix)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (float) &#123;</span><br><span class="line">    resFloat = <span class="string">'.'</span></span><br><span class="line">    <span class="comment">// å°æ•°éƒ¨åˆ†ï¼Œä¹˜ä»¥åŸºæ•°ï¼Œå–æ•´</span></span><br><span class="line">    <span class="keyword">while</span> (float &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      resFloat = resFloat + <span class="built_in">Math</span>.floor(float * radix)</span><br><span class="line">      float -= <span class="built_in">Math</span>.floor(float * radix)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> resInt + resFloat</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="æµ‹è¯•ç”¨ä¾‹"><a href="#æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹"></a>æµ‹è¯•ç”¨ä¾‹</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(convertNumberToString(-<span class="literal">Infinity</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'toString'</span>, -<span class="literal">Infinity</span>.toString())</span><br><span class="line"><span class="built_in">console</span>.log(convertNumberToString(+<span class="literal">Infinity</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'toString'</span>, +<span class="literal">Infinity</span>.toString())</span><br><span class="line"><span class="built_in">console</span>.log(convertNumberToString(<span class="number">120.11112</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'toString'</span>, <span class="number">120.11112</span>.toString())</span><br><span class="line"><span class="built_in">console</span>.log(convertNumberToString(<span class="number">120</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'toString'</span>, (<span class="number">120</span>).toString())</span><br></pre></td></tr></table></figure>
<ul>
<li>æµ‹è¯•æˆªå›¾<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/b741d6a87bab9c52f01871781745689124911.png" alt="æµ‹è¯•æˆªå›¾"></li>
</ul>
</li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å†™çš„ converNumbertoString é‡åˆ°æµ®ç‚¹æ•°ï¼Œå°±å¤±çµäº†ï¼Œæœ‰æƒ³åˆ°è¯´ ç”¨ toStringï¼Œç„¶åæ­£åˆ™åŒ¹é…å‡ºå°æ•°ç‚¹åé¢çš„æµ®ç‚¹æ•°ï¼Œèˆå…¥ç›¸åº”ä½æ•°ï¼Œä½†æ˜¯è¿™æ ·ï¼Œå°±ç”¨åˆ°äº† toString æ–¹æ³•ï¼Œä¼¼ä¹ä¸æˆ‘çš„æœ€åˆæƒ³æ³•å®ç° convertNumbertToString æ­»é”äº† ğŸ™ƒ</li>
<li>å¤§å®¶æœ‰å…¶ä»–çš„ä¸ç”¨ toString å®è·µï¼Œæ¬¢è¿è¯„è®ºå‘Šè¯‰æˆ‘å‘€~</li>
<li><a href="https://github.com/Ele-Peng/Frontend-01-Template/blob/master/week03/convertNumberToString.html" target="_blank" rel="noopener">ä»£ç åœ°å€</a></li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€æœªå®Œã€‘react-hooks</title>
    <url>/2020/04/13/react-hooks/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>è®°å½•å­¦ä¹  react-hooks è¿‡ç¨‹ä¸­çš„æ€è€ƒğŸ¤”<a id="more"></a>

</li>
</ul>
<h2 id="ä¸»è¦æ¦‚å¿µ"><a href="#ä¸»è¦æ¦‚å¿µ" class="headerlink" title="ä¸»è¦æ¦‚å¿µ"></a>ä¸»è¦æ¦‚å¿µ</h2><ul>
<li><p>react 16.8 æ¨å‡º</p>
</li>
<li><p>èƒ½å¤Ÿåœ¨å‡½æ•°ç»„ä»¶å†…éƒ¨ä½¿ç”¨ state å’Œç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</p>
</li>
<li><p>å®šä¹‰ç»„ä»¶</p>
<ul>
<li>class</li>
<li>F(x) + react-hooks(çµæ´»ã€å¯æµ‹è¯•ã€ä»£ç å¤ç”¨)</li>
</ul>
</li>
<li><p>ä»€ä¹ˆæ˜¯ hooks ?</p>
<ul>
<li>å…è®¸ä½ hookä¸€äº›ä¸šåŠ¡é€»è¾‘åˆ°ç»„ä»¶å†…éƒ¨ state å’Œ render å‡½æ•°ä¸Š</li>
<li>hooks å…è®¸æˆ‘ä»¬å»æ“ä½œè¿™ä¸ªå†…éƒ¨stateäº†</li>
<li>æ›´å¥½çš„å»å…³æ³¨åˆ†ç¦»å’Œä»£ç å¤ç”¨(ä¼ ç»Ÿ HOCï¼Œå‡½æ•°ä½œä¸ºå­ç»„ä»¶)ï¼Œå°†ç›¸å…³ä»£ç </li>
</ul>
</li>
<li><p>Why Hooks?</p>
<ul>
<li>Mixins<ul>
<li>å‘½åç©ºé—´è€¦åˆ</li>
<li>é™æ€æ£€æŸ¥</li>
<li>ç»„ä»¶å‚æ•°ä¸æ¸…æ™°</li>
</ul>
</li>
<li>HOC<ul>
<li>è§£å†³å‘½åç©ºé—´è§£è€¦</li>
<li>å¯¹ Class è¿›è¡Œé™æ€æ£€æŸ¥</li>
<li>ç»„ä»¶å‚æ•°ä¸æ¸…æ™°</li>
<li>ç»„ä»¶å®ä¾‹å¢åŠ </li>
</ul>
</li>
<li>Hooks<ul>
<li>å‘½åç©ºé—´è§£è€¦</li>
<li>é™æ€æ£€æŸ¥</li>
<li>ç»„ä»¶å‚æ•°æ¸…æ™°</li>
<li>å•ç»„ä»¶å®ä¾‹</li>
</ul>
</li>
</ul>
</li>
<li><p>ä¸‰ä¸ªåŸºç¡€ hooks</p>
<ul>
<li>useState<ul>
<li>å…è®¸æ“ä½œç»„ä»¶çš„å†…éƒ¨çŠ¶æ€</li>
<li>å¦‚æœè¦æ ¹æ®ä¹‹å‰çš„çŠ¶æ€å†³å®šä¸‹ä¸€ä¸ªçŠ¶æ€<ul>
<li>å‚æ•°å¯ä»¥å†™æˆä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æ¥å—çš„å‚æ•°å°±æ˜¯ä¹‹å‰çš„çŠ¶æ€ï¼ŒprevState =&gt; nowState</li>
</ul>
</li>
</ul>
</li>
<li>useEffect<ul>
<li>ä½¿ç”¨å‰¯ä½œç”¨</li>
<li>æŒ‡å®šä¸€ä¸ªå‡½æ•°åœ¨æ¯æ¬¡renderå®Œï¼Œå»æ‰§è¡Œä»€ä¹ˆæ ·çš„é€»è¾‘</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ï¼Œä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„æ˜¯å½“å‰é—­åŒ…ä¸­çš„ä»»ä½•å˜é‡<ul>
<li>åªæœ‰å½“æ•°ç»„ä¸­çš„å‘ç”Ÿå˜åŒ–ï¼Œæ‰ä¼šè°ƒç”¨å›è°ƒå‡½æ•°</li>
<li>å‡½æ•°ç»„ä»¶å†…éƒ¨ï¼Œå¾ˆå®¹æ˜“ç›‘å¬propså˜åŒ–</li>
</ul>
</li>
<li>å¯ä»¥åœ¨ useEffect å›è°ƒå‡½æ•°ä¸­ï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œä½œä¸ºç»„å»ºé”€æ¯æ—¶çš„ä¸€ä¸ªå›è°ƒï¼Œå…è®¸æ‰§è¡Œä¸€äº›èµ„æºå›æ”¶çš„é€»è¾‘</li>
<li><strong>useCallback</strong><ul>
<li>å°†å›è°ƒå‡½æ•°è¿›è¡Œä¸€ä¸ªç¼“å­˜ï¼Œåªæœ‰åœ¨éœ€è¦æ—¶æ‰ä¼šè¿”å›ä¸€ä¸ªæ–°çš„äº‹ä»¶å¤„ç†å‡½æ•°</li>
<li>useEffect å’Œ useCallbackï¼Œç°åœ¨éƒ½æœ‰ä¸€ä¸ªçº¦å®šï¼Œå›è°ƒå‡½æ•°å†…å¦‚æœä½¿ç”¨äº†å¤–éƒ¨é—­åŒ…ä¸­çš„å˜é‡ï¼Œé‚£ä¹ˆéƒ½åº”è¯¥åœ¨ç¬¬äºŒä¸ªå‚æ•°ä¸­è¿›è¡Œå£°æ˜<ul>
<li>eslint-plugin-react-hooks<ul>
<li>â€œreact-hooks/rules-of-hooksâ€: â€œerrorâ€<ul>
<li>ç¡®ä¿å¯¹hooksçš„è°ƒç”¨ï¼Œéƒ½å‘ç”Ÿåœ¨é¡¶å±‚ä½œç”¨åŸŸ</li>
</ul>
</li>
<li>â€œreact-hooks/exhaustive-depsâ€: â€œwarnâ€<ul>
<li>å¿…é¡»æä¾› useEffect å’Œ useCallback ç­‰hooks çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå£°æ˜å›è°ƒå‡½æ•°ä¾èµ–çš„å˜é‡</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>useContext</li>
</ul>
</li>
<li><p>è‡ªå®šä¹‰ hooks</p>
</li>
<li><p>é¢å¤– hooks</p>
<ul>
<li><p>useReducer</p>
<ul>
<li><p><a href="https://fed.taobao.org/blog/taofed/do71ct/use-the-react-hooks-instead-of-the-redux/?spm=taofed.bloginfo.blog.3.707f5ac8tD5Gxz" target="_blank" rel="noopener">ç®€å•é¡¹ç›®ï¼šä½¿ç”¨ Hooksï¼šuseReducer ä»£æ›¿ Redux</a></p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> providers <span class="keyword">from</span> <span class="string">'./providers'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ® Provider ç»„åˆå™¨</span></span><br><span class="line"><span class="keyword">const</span> ProvidersComposer = <span class="function">(<span class="params">props</span>) =&gt;</span> (</span><br><span class="line">  props.providers.reduceRight(<span class="function">(<span class="params">children, Parent</span>) =&gt;</span> (</span><br><span class="line">    &lt;Parent&gt;&#123;children&#125;&lt;<span class="regexp">/Parent&gt;</span></span><br><span class="line"><span class="regexp">  ), props.children)</span></span><br><span class="line"><span class="regexp">);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const Provider = (props) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;ProvidersComposer providers=&#123;providers&#125;&gt;</span></span><br><span class="line"><span class="regexp">      &#123;props.children&#125;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>ProvidersComposer&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Provider;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>useCallback</p>
</li>
<li><p>useMemo</p>
</li>
<li><p>useRef</p>
</li>
<li><p>useImperativeHandle</p>
</li>
<li><p>useLayoutEffect</p>
</li>
<li><p>useDebugValue</p>
</li>
</ul>
</li>
</ul>
<h2 id="react-hooks-æ”¹å†™-TO-DO-Lists"><a href="#react-hooks-æ”¹å†™-TO-DO-Lists" class="headerlink" title="react-hooks æ”¹å†™ TO DO Lists"></a>react-hooks æ”¹å†™ TO DO Lists</h2><h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>react</category>
      </categories>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€æœªå®Œã€‘å‰ç«¯æ€§èƒ½ç›‘æ§</title>
    <url>/2020/04/16/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>è®°å½• æ€§èƒ½ç›‘æ§ æ–¹é¢çš„å­¦ä¹ è¿‡ç¨‹ğŸ¤”</li>
</ul>
<a id="more"></a>

<h2 id="å­¦ä¹ è¿‡ç¨‹"><a href="#å­¦ä¹ è¿‡ç¨‹" class="headerlink" title="å­¦ä¹ è¿‡ç¨‹"></a>å­¦ä¹ è¿‡ç¨‹</h2><h3 id="å¤§å‰ç«¯æ—¶ä»£å‰ç«¯å˜åŒ–"><a href="#å¤§å‰ç«¯æ—¶ä»£å‰ç«¯å˜åŒ–" class="headerlink" title="å¤§å‰ç«¯æ—¶ä»£å‰ç«¯å˜åŒ–"></a>å¤§å‰ç«¯æ—¶ä»£å‰ç«¯å˜åŒ–</h3><ul>
<li>Gmail SPA</li>
<li>Angular/React/Vue MVVM/å·¥ç¨‹åŒ–</li>
<li>weex/react native è·¨ç«¯</li>
<li>Node å…¨æ ˆ</li>
</ul>
<h3 id="å‰ç«¯å˜åŒ–ç»™ç›‘æ§å¸¦æ¥äº†ä»€ä¹ˆæ ·çš„æ”¹å˜"><a href="#å‰ç«¯å˜åŒ–ç»™ç›‘æ§å¸¦æ¥äº†ä»€ä¹ˆæ ·çš„æ”¹å˜" class="headerlink" title="å‰ç«¯å˜åŒ–ç»™ç›‘æ§å¸¦æ¥äº†ä»€ä¹ˆæ ·çš„æ”¹å˜"></a>å‰ç«¯å˜åŒ–ç»™ç›‘æ§å¸¦æ¥äº†ä»€ä¹ˆæ ·çš„æ”¹å˜</h3><ul>
<li>ä¼ ç»Ÿç›‘æ§æ¨¡å¼èƒ½å¦ä½¿ç”¨äºæ–°çš„æŠ€æœ¯ï¼Ÿæ¯”å¦‚ PV ç»Ÿè®¡<ul>
<li>å¯¼è‡´ PV ä¸‹é™çš„åŸå› å’Œè§£æ³•</li>
<li>åŸå› <ul>
<li>ä¸šå†…è·¯ç”±æ›¿ä»£äº†è¯·æ±‚æ–°çš„é¡µé¢</li>
</ul>
</li>
<li>è§£æ³•<ul>
<li>å“ˆå¸Œè·¯ç”±ï¼šç›‘å¬ hash change å˜åŒ–ä¸ŠæŠ¥ PV</li>
<li>éå“ˆå¸Œè·¯ç”±(Angular): è½»é‡ hack pushState å’Œ replaceState</li>
</ul>
</li>
<li>æ¡ˆä¾‹<ul>
<li>ä¸‹æ‹‰åˆ·æ–°</li>
<li>æ»šå±åˆ†é¡µ</li>
<li>é˜¿é‡Œäº‘é‚®åå°ä¸€ç›´å¼€ç€ï¼Œæ¯å‘¨ä¸Šç™¾æ¬¡æŸ¥çœ‹</li>
<li>æœªå…³é—­çš„æµè§ˆå™¨ Ta bå‡ å°æ—¶åå†æ¬¡æµè§ˆ</li>
<li>æŸ¥æ‰¾ä¿¡æ¯æ—¶ï¼Œæµè§ˆå™¨ Tab ä¹‹é—´å¿«é€Ÿåˆ‡æ¢</li>
</ul>
</li>
</ul>
</li>
<li>SPAæ¨¡å¼ä¸‹é¦–å±å¦‚ä½•è®¡ç®—ï¼Ÿ<ul>
<li>ç¬¬ä¸€é˜¶æ®µï¼šè‡ªå®šä¹‰æ‰“ç‚¹æ—¶æœŸ<ul>
<li>é¡µå¤´å’Œé¦–å±domå¤„åˆ†åˆ«é€šè¿‡ new Date() æ‰“ç‚¹</li>
</ul>
</li>
<li>ç¬¬äºŒé˜¶æ®µï¼šW3Cæ ‡å‡†æ—¶æœŸ<ul>
<li>Navigaion Timing API</li>
</ul>
</li>
<li>ç¬¬ä¸‰é˜¶æ®µï¼šSPAç››è¡Œå¯¼è‡´w3cæ ‡å‡†å¤±å»åŸæ¥çš„æ„ä¹‰</li>
<li>ç°é˜¶æ®µï¼šç”¨æˆ·æ„Ÿå®˜æŒ‡æ ‡FMP<ul>
<li>FMPï¼šä¸»è¦å†…å®¹å¯è§æ—¶é—´</li>
<li>çŒœæƒ³ï¼šä¸»è¦å†…å®¹ = å…ƒç´ å¢é‡æœ€å¤§çš„ç‚¹ ï¼ˆçŒœæƒ³ä¸æˆç«‹ï¼‰<ul>
<li>ä»€ä¹ˆåŸå› å¯¼è‡´çŒœæƒ³ä¸æˆç«‹ï¼Ÿ<ul>
<li>å…ƒç´ æ˜¯å¦å¯è§</li>
<li>æ¯ä¸ªå…ƒç´ å¯¹é¡µé¢çš„å½±å“æ˜¯å¦ç­‰æ•ˆï¼Ÿ â€“&gt; æƒé‡</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>ä¸‹ä¸€é˜¶æ®µï¼šW3C/paint-timing é¦–å±åŠ è½½æ—¶é—´è®¡ç®—å·²ç»åœ¨ææ¡ˆä¸­</li>
</ul>
</li>
<li>è·¨ç«¯å¼€å‘ç»™ç›‘æ§å¸¦æ¥ä»€ä¹ˆæŒ‘æˆ˜ï¼Ÿ</li>
<li>å‰ç«¯ç›‘æ§çš„ä¸ŠæŠ¥æ¨¡å¼åœ¨ Node.js ç«¯æ˜¯å¦åˆç†ï¼Ÿ</li>
</ul>
<h3 id="å‰ç«¯ç›‘æ§çš„æœ€ä½³å®è·µ"><a href="#å‰ç«¯ç›‘æ§çš„æœ€ä½³å®è·µ" class="headerlink" title="å‰ç«¯ç›‘æ§çš„æœ€ä½³å®è·µ"></a>å‰ç«¯ç›‘æ§çš„æœ€ä½³å®è·µ</h3><ul>
<li>ä¸»åŠ¨ç›‘æ§</li>
<li>æ€§èƒ½æ ·æœ¬åˆ†å¸ƒ &amp; æ…¢ä¼šè¯<ul>
<li>æ…¢ä¼šè¯è¿½è¸ª</li>
</ul>
</li>
<li>æœç´¢æŠ¥é”™æ˜ç»†</li>
<li>å‡ºé”™è¡Œä¸ºè¿˜åŸ</li>
</ul>
<h3 id="é˜¿é‡Œäº‘ARMSå‰ç«¯ç›‘æ§ç³»ç»Ÿæ¶æ„"><a href="#é˜¿é‡Œäº‘ARMSå‰ç«¯ç›‘æ§ç³»ç»Ÿæ¶æ„" class="headerlink" title="é˜¿é‡Œäº‘ARMSå‰ç«¯ç›‘æ§ç³»ç»Ÿæ¶æ„"></a>é˜¿é‡Œäº‘ARMSå‰ç«¯ç›‘æ§ç³»ç»Ÿæ¶æ„</h3><h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>æ€§èƒ½ç›‘æ§</category>
      </categories>
      <tags>
        <tag>æ€§èƒ½ç›‘æ§</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åº-æ°”æ³¡æ¡†</title>
    <url>/2020/04/05/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E6%B0%94%E6%B3%A1%E6%A1%86%20Popover/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>è®°å½•åŸºäº<a href="https://developers.weixin.qq.com/community/develop/doc/000e4e7103c3c090e517e0cdb5b806" target="_blank" rel="noopener">å¾®ä¿¡å°ç¨‹åº-æ°”æ³¡æ¡†</a>å®ç°ä¸­äº§ç”Ÿçš„é—®é¢˜åŠæ€è€ƒ</li>
</ul>
<hr>
<h2 id="é—®é¢˜æˆªå›¾"><a href="#é—®é¢˜æˆªå›¾" class="headerlink" title="é—®é¢˜æˆªå›¾"></a>é—®é¢˜æˆªå›¾</h2><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzlkMGY1NmUxOTVkNzFjMjAyYzVkYzI0OGMxMzg0NmUxMTQ3MTQucG5n?x-oss-process=image/format,png" alt="popoveré—®é¢˜æˆªå›¾"></p>
<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><ul>
<li>æ¨¡æ‹Ÿå™¨æ˜¾ç¤ºæ­£å¸¸ï¼Œä½†åœ¨çœŸæœºä¸Šç‚¹å‡»åï¼Œæ°”æ³¡æ¡†çš„ç®­å¤´å¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œä¸”ç‚¹å‡»åŒä¸€çº§åˆ«åŒºåŸŸï¼Œèƒ½åˆ©ç”¨è¦†ç›–æ¶ˆé™¤ç®­å¤´ã€‚ã€æ˜¯ä¸æ˜¯ä¸€ä¸ªå¾ˆå¯çˆ±çš„bugï¼Ÿ<a id="more"></a>

</li>
</ul>
<h2 id="é—®é¢˜è§£å†³è¿‡ç¨‹è®°å½•"><a href="#é—®é¢˜è§£å†³è¿‡ç¨‹è®°å½•" class="headerlink" title="é—®é¢˜è§£å†³è¿‡ç¨‹è®°å½•"></a>é—®é¢˜è§£å†³è¿‡ç¨‹è®°å½•</h2><ul>
<li><p>å®šä½é—®é¢˜å‘ç”Ÿçš„åŸå› èŒƒå›´</p>
<ul>
<li>æ ·å¼<ul>
<li>æ ·å¼åœ¨åˆ¤æ–­æ˜¾ç¤ºæ¡ä»¶(wx:if=â€â€œ)ç”Ÿæ•ˆåï¼Œä»ç„¶æ¸²æŸ“</li>
<li>å¦å®šåŸå› <ul>
<li>æŸ¥è¯¢ä»£ç å‘ç°ï¼Œæ•´ä¸ªæ ·å¼èƒŒæ™¯çš„è®¾å®šæ˜¯åœ¨::beforeä¼ªå…ƒç´ é€‰æ‹©å™¨ä¸­</li>
<li>ä¸”æ˜¾ç¤ºæ¡ä»¶ç”Ÿæ•ˆï¼Œåœ¨è°ƒè¯•å™¨ä¸­å·²æ²¡æœ‰è¯¥å…ƒç´ ï¼Œä½†ä»æ˜¾ç¤º</li>
</ul>
</li>
</ul>
</li>
<li>é€»è¾‘<ul>
<li>ä¼šä¸ä¼šæ˜¯ç»„ä»¶åœ¨æ¸²æŸ“æ—¶ï¼Œå¤šæ¸²æŸ“ä¸€ä»½ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ¤æ–­æ¡ä»¶è¿›è¡Œå¼€å…³æ—¶ï¼Œåªæ˜¯å¯¹å…¶ä¸­ä¸€ä¸ªè¿›è¡Œäº†æ“ä½œ</li>
<li>æ€€ç–‘ä¾æ®<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzk5ZjcwMDAwZmViM2IwYzc0MWJmNjFiYzE5YTUwMDIxMjYyMTI3LnBuZw?x-oss-process=image/format,png" alt="popoveré—®é¢˜ä¾æ®æˆªå›¾"></li>
<li>ä¸Šå›¾å¯è§ï¼šåœ¨popoverç»„ä»¶ä¸‹ï¼Œæœ‰2ä¸ªé€šè¿‡&lt;slot&gt;æ’å…¥çš„ç›¸åŒå†…å®¹</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>å¼€å§‹è§£å†³é—®é¢˜</p>
<ul>
<li>æŸ¥è¯¢å®˜æ–¹å…³äº<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html" target="_blank" rel="noopener">slot</a>æ–¹é¢çš„ä»‹ç»<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2JjMTE0ZmI0YTdhOWZkY2ZlYzU3ZDE5ZWQyYWY0YzI3MzE1NTU4LnBuZw?x-oss-process=image/format,png" alt="å®˜æ–¹slotåŸºç¡€ä¾‹å­"></li>
</ul>
</li>
<li>åŸºäºå®˜æ–¹åŸºç¡€ä»£ç ï¼Œå¤ç°é—®é¢˜<ul>
<li>äº§ç”Ÿä¸€ä¸ªchild-tagç»„ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­ç¼–å†™  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// components/child-tag.js.js</span></span><br><span class="line">Component(&#123;</span><br><span class="line">  options: &#123;</span><br><span class="line">    multipleSlots: <span class="literal">true</span> <span class="comment">// åœ¨ç»„ä»¶å®šä¹‰æ—¶çš„é€‰é¡¹ä¸­å¯ç”¨å¤šslotæ”¯æŒ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„å±æ€§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  properties: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  relations: &#123;</span><br><span class="line">    <span class="string">'./component-tag-name'</span>: &#123;</span><br><span class="line">      type: <span class="string">'parent'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„åˆå§‹æ•°æ®</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  data: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  methods: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li>ä¸component-tag-nameç»‘å®šå½¢æˆçˆ¶å­ç»„ä»¶  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// components/component-tag-name.js</span></span><br><span class="line">Component(&#123;</span><br><span class="line">  options: &#123;</span><br><span class="line">    multipleSlots: <span class="literal">true</span> <span class="comment">// åœ¨ç»„ä»¶å®šä¹‰æ—¶çš„é€‰é¡¹ä¸­å¯ç”¨å¤šslotæ”¯æŒ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  relations: &#123;</span><br><span class="line">    <span class="string">'./child-tag'</span>: &#123;</span><br><span class="line">      type: <span class="string">'child'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„å±æ€§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  properties: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„åˆå§‹æ•°æ®</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  data: &#123;</span><br><span class="line">    visible: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li>å¹¶å°†index.htmlä¸­è¿›è¡Œè°ƒç”¨  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼•ç”¨ç»„ä»¶çš„é¡µé¢æ¨¡ç‰ˆ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"primary"</span> <span class="attr">bindtap</span>=<span class="string">"onTap"</span>&gt;</span>222<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">my-component</span> <span class="attr">id</span>=<span class="string">"component"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">view</span> <span class="attr">slot</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">			è¿™é‡Œæ˜¯æ’å…¥åˆ°ç»„ä»¶slot name="content"ä¸­çš„å†…å®¹</span><br><span class="line">			<span class="tag">&lt;<span class="name">child-component</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">view</span> <span class="attr">slot</span>=<span class="string">"child"</span>&gt;</span>è¿™é‡Œæ˜¯æ’å…¥åˆ°ç»„ä»¶slot name="child"ä¸­çš„å†…å®¹<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">child-component</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>ä½†æ˜¯å…¶ç»“æ„æ ‘ä»ç„¶éå¸¸æ­£å¸¸ï¼Œå¹¶æ²¡æœ‰å‡ºç°é‚£ä¸ªæ‰€è°“çš„â€æ‹·è´â€ç»„ä»¶<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzcwNTRhNjJkYmM2MGEyNmU5ZGI1ODYzNzNjOGY2OTgyMzg3NTI0LnBuZw?x-oss-process=image/format,png" alt="æ”¹å†™v1.1åçš„ç»“æ„æ ‘æˆªå›¾"></li>
<li>ä»”ç»†å¤ç°äº†å‡ æ¬¡ï¼Œå‘ç°ï¼šå¤šå‡ºæ¥çš„é‚£ä¸ªç»„ä»¶ä¼šæœ‰æ‰€å»¶è¿Ÿã€‚æŠ“ä½è¿™ä¸ªé—®é¢˜ï¼Œæƒ³åˆ°æˆ‘ä»¬åœ¨onReadyä¸­ï¼Œæ³¨å†Œäº†è¯¥ç»„ä»¶ï¼Œäºæ˜¯ï¼Œç»§ç»­æ¨¡æ‹Ÿ</li>
</ul>
</li>
<li>ä¿®æ”¹index.jsä»£ç ï¼Œå¹¶åœ¨component-tag-nameç»„ä»¶æ³¨å†ŒonTapæ–¹æ³•ï¼Œæ§åˆ¶æ˜¾éš  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">onReady() &#123;</span><br><span class="line">  <span class="keyword">this</span>.component = <span class="keyword">this</span>.selectComponent(<span class="string">'#component'</span>)</span><br><span class="line">&#125;,</span><br><span class="line">onTap() &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'onTap'</span>)</span><br><span class="line">  wx.createSelectorQuery().select(<span class="string">'#component'</span>).boundingClientRect(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// è°ƒç”¨è‡ªå®šä¹‰ç»„ä»¶ popover ä¸­çš„ onDisplay æ–¹æ³•</span></span><br><span class="line">      <span class="keyword">this</span>.component.onTap();</span><br><span class="line">  &#125;).exec();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>æœ€ç»ˆå¤ç°<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzhmZjQ3OTNhMjUwYTNjMzlhYjBlOGQxMGJhYTllZmI2NDc1NjIyLnBuZw?x-oss-process=image/format,png" alt="å®˜æ–¹æ¨¡æ‹Ÿæœ€ç»ˆè¿è¡Œæˆªå›¾"></li>
</ul>
</li>
</ul>
</li>
<li>å¾—å‡ºé—®é¢˜æ¥æºï¼š<ul>
<li>åœ¨ç»„ä»¶ä¸­è¿›è¡Œäº†ä¸€æ¬¡setData</li>
</ul>
</li>
<li>æ€è€ƒèƒŒåé—®é¢˜<ul>
<li>åœ¨ç»„ä»¶ä¸­setDataä¸ºä»€ä¹ˆä¼šâ€æ‹·è´â€œä¸€ä»½ç›¸åŒçš„åœ¨é¡µé¢çº§wxmlä¸­ï¼Ÿ</li>
<li>çŒœæƒ³ä¸€ï¼šä»<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/interactive-animation.html#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88" target="_blank" rel="noopener">WXSå“åº”äº‹ä»¶</a>ä¸­ï¼Œæˆ‘éšéšå¾—åˆ°äº†ç­”æ¡ˆ</li>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzZlYWJjYjdjOTliMzAxNWMwOGQwZmM2YWM3ZmMxMGMzNDU5NDAxLnBuZw?x-oss-process=image/format,png" alt="wxsç›¸åº”äº‹ä»¶"></li>
<li>æˆ‘ä»¬åœ¨é¡µé¢çº§é€šè¿‡selectComponentå®ä¾‹åŒ–ç»„ä»¶ï¼Œå¯¹é€‰ä¸­çš„ç»„ä»¶è¿›è¡Œæ“ä½œï¼Œå®˜æ–¹å¯ä»¥é€šè¿‡æ‹·è´ä¸€ä»½ç›¸åŒçš„ç»„ä»¶ï¼Œä½¿æˆ‘ä»¬ä¾¿æ·çš„å°†äº‹ä»¶çš„å¤„ç†ä»2æ¬¡çš„é€»è¾‘å±‚å’Œæ¸²æŸ“å±‚é€šä¿¡ä»¥åŠä¸€æ¬¡æ¸²æŸ“ï¼Œå‡å°‘åˆ°ç›´æ¥å¯¹é¡µé¢ä¸Šå…ƒç´ è¿›è¡Œæ“ä½œï¼Œå³ä¸€æ¬¡é€»è¾‘å±‚å’Œæ¸²æŸ“å±‚é€šä¿¡ä»¥åŠä¸€æ¬¡æ¸²æŸ“ã€‚</li>
<li>çŒœæƒ³äºŒï¼šé—®é¢˜å±‚é¢æ˜¯åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­çš„wxmlï¼Œæ¸²æŸ“æ–¹å¼å¯¹äºè¿™ç§æƒ…å†µå°±æ˜¯è¿™æ ·å¤„ç†çš„ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p>å®˜æ–¹å·²ç»™å‡ºé—®é¢˜åŸå› </p>
<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzJkMWVkZmYyNWIwM2YxZDU2ZGVjYjZhM2NkYjAwMGU5NTE5ODQucG5n?x-oss-process=image/format,png" alt="wxmlé¢æ¿"></li>
</ul>
</li>
</ul>
<h2 id="å¦‚ä½•è§£å†³é—®é¢˜"><a href="#å¦‚ä½•è§£å†³é—®é¢˜" class="headerlink" title="å¦‚ä½•è§£å†³é—®é¢˜"></a>å¦‚ä½•è§£å†³é—®é¢˜</h2><ul>
<li>åœ¨popoverä»¥åŠpopover-itemåŠ å…¥  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">options: &#123;</span><br><span class="line">		    multipleSlots: <span class="literal">true</span> <span class="comment">// åœ¨ç»„ä»¶å®šä¹‰æ—¶çš„é€‰é¡¹ä¸­å¯ç”¨å¤šslotæ”¯æŒ</span></span><br><span class="line">		  &#125;,</span><br></pre></td></tr></table></figure></li>
<li>å°±å¯ä»¥è§£å†³äº†ã€‚æœ€åå»ºè®®slotä¸­å¯ä»¥å†™ä¸Šnameè¿™æ ·ä»£ç å¯èƒ½ä¼šæ›´æ˜“è¯»ã€‚<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2></li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
<hr>
]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
      <tags>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°ç»„ã€é“¾è¡¨ã€è·³è¡¨</title>
    <url>/2020/04/07/%E6%95%B0%E7%BB%84%E3%80%81%E9%93%BE%E8%A1%A8%E3%80%81%E8%B7%B3%E8%A1%A8/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="è·³è¡¨"><a href="#è·³è¡¨" class="headerlink" title="è·³è¡¨"></a>è·³è¡¨</h2><ul>
<li>è¡¥è¶³é“¾è¡¨linked listï¼Œlook up O(n) çš„ç¼ºé™·ï¼Œå‡ç»´æ€æƒ³ï¼Œä»¥ç©ºé—´æ¢æ—¶é—´</li>
<li>æ•°å­¦å½’çº³æ³•</li>
<li>æ‰¾æœ€è¿‘é‡å¤é—®é¢˜</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>ç¼–ç¨‹è¯­è¨€é€šè¯†</title>
    <url>/2020/04/20/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E9%80%9A%E8%AF%86/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="è¯­è¨€æŒ‰è¯­æ³•åˆ†ç±»"><a href="#è¯­è¨€æŒ‰è¯­æ³•åˆ†ç±»" class="headerlink" title="è¯­è¨€æŒ‰è¯­æ³•åˆ†ç±»"></a>è¯­è¨€æŒ‰è¯­æ³•åˆ†ç±»</h2><ul>
<li>éå½¢å¼è¯­è¨€<ul>
<li>ä¸­æ–‡ã€è‹±æ–‡</li>
</ul>
</li>
<li>å½¢å¼è¯­è¨€ï¼ˆä¹”å§†æ–¯åŸºè°±ç³»ï¼‰<strong>è¿½æº¯</strong>19ä¸–çºª50å¹´ä»£<ul>
<li>0å‹ æ— é™åˆ¶æ–‡æ³•</li>
<li>1å‹ ä¸Šä¸‹æ–‡ç›¸å…³æ–‡æ³•</li>
<li>2å‹ ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•<ul>
<li>å¤§éƒ¨åˆ†è®¡ç®—æœºè¯­è¨€ä¸»ä½“ä¸Šéƒ½æ˜¯ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•</li>
<li>æ¯”å¦‚Javascriptå°±æ˜¯ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼Œä¼šåœ¨æŸäº›ç‚¹ï¼Œè¿åä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•åŸåˆ™ï¼ˆgetï¼‰</li>
</ul>
</li>
<li>3å‹ æ­£åˆ™æ–‡æ³•<a id="more"></a>

</li>
</ul>
</li>
</ul>
<h2 id="ç†è§£å½¢å¼è¯­è¨€"><a href="#ç†è§£å½¢å¼è¯­è¨€" class="headerlink" title="ç†è§£å½¢å¼è¯­è¨€"></a>ç†è§£å½¢å¼è¯­è¨€</h2><h3 id="äº§ç”Ÿå¼ï¼ˆBNF-â€“-Backus-Naur-Formï¼‰"><a href="#äº§ç”Ÿå¼ï¼ˆBNF-â€“-Backus-Naur-Formï¼‰" class="headerlink" title="äº§ç”Ÿå¼ï¼ˆBNF â€“ Backus-Naur Formï¼‰"></a>äº§ç”Ÿå¼ï¼ˆBNF â€“ Backus-Naur Formï¼‰</h3><ul>
<li>ç”¨å°–æ‹¬å·æ‹¬èµ·æ¥çš„åç§°æ¥è¡¨ç¤ºè¯­æ³•ç»“æ„å</li>
<li>è¯­æ³•ç»“æ„åˆ†æˆåŸºç¡€ç»“æ„å’Œéœ€è¦ç”¨å…¶ä»–è¯­æ³•ç»“æ„å®šä¹‰çš„å¤åˆç»“æ„<ul>
<li>åŸºç¡€ç»“æ„ç§°ç»ˆç»“ç¬¦</li>
<li>å¤åˆç»“æ„ç§°éç»ˆç»“ç¬¦</li>
</ul>
</li>
<li>å¼•å·å’Œä¸­é—´çš„å­—ç¬¦è¡¨ç¤ºç»ˆç»“ç¬¦</li>
<li>å¯ä»¥æœ‰æ‹¬å·</li>
<li><ul>
<li>è¡¨ç¤ºé‡å¤å¤šæ¬¡</li>
</ul>
</li>
<li>| è¡¨ç¤ºæˆ–</li>
<li><ul>
<li>è¡¨ç¤ºè‡³å°‘ä¸€æ¬¡</li>
</ul>
</li>
</ul>
<h4 id="BNF-è¡¨ç¤º-å››åˆ™è¿ç®—"><a href="#BNF-è¡¨ç¤º-å››åˆ™è¿ç®—" class="headerlink" title="BNF è¡¨ç¤º å››åˆ™è¿ç®—"></a>BNF è¡¨ç¤º å››åˆ™è¿ç®—</h4><ul>
<li><p>åŠ æ³•ï¼Œå…è®¸è¿åŠ </p>
<ul>
<li>&lt;Number&gt;::= â€œ0â€ | â€œ1â€ | â€œ2â€ | â€œ3â€ | â€¦ | â€œ9â€</li>
<li>&lt;DecimalNumber&gt;::= â€œ0â€ | ((â€œ1â€ | â€œ2â€ | â€œ3â€ | â€¦ â€œ9â€) &lt;Number&gt;*)</li>
<li>&lt;AddtiveExpression&gt;::= &lt;DecimalNumber&gt; â€œ+â€ &lt;DecimalNumber&gt;</li>
<li>æ”¯æŒå¤šä¸ªè¿åŠ ï¼Œé‡‡ç”¨é€’å½’ï¼š<ul>
<li>&lt;AddtiveExpression&gt;::= &lt;AddtiveExpression&gt; â€œ+â€ &lt;DecimalNumber&gt;</li>
</ul>
</li>
<li>æœ€ç»ˆï¼š<ul>
<li>&lt;AddtiveExpression&gt;::= &lt;DecimalNumber&gt; | &lt;AddtiveExpression&gt; â€œ+â€ &lt;DecimalNumber&gt;</li>
</ul>
</li>
</ul>
</li>
<li><p>ä¹˜æ³•</p>
<ul>
<li><p>&lt;MultiplecativeExpression&gt;::= &lt;DecimalNumber&gt; | &lt; MultiplecativeExpression&gt; â€œ*â€ &lt;DecimalNumber&gt;</p>
</li>
<li><p>1 + 2 * 3</p>
<ul>
<li><p>åŠ æ³•è¡¨è¾¾å¼ï¼Œæ˜¯ç”±ä¸¤ä¸ªä¹˜æ³•è¡¨è¾¾å¼åŠ èµ·æ¥çš„</p>
</li>
<li><p>1 * 1 + 2 * 3</p>
</li>
<li><p>å› æ­¤<strong>åŠ æ³•è¡¨ç¤ºæˆ</strong></p>
<blockquote>
<p>&lt;AddtiveExpression&gt;::= &lt; MultiplecativeExpression&gt; | &lt; AddtiveExpression&gt; â€œ+â€ &lt;DecimalNumber&gt;</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p>LogicExpression</p>
<blockquote>
<p>&lt;LogicExpression&gt;::= &lt;AddtiveExpression&gt; | </p>
<pre><code>&amp;lt;LogicExpression&amp;gt; &quot;||&quot; &amp;lt;AddtiveExpression&amp;gt; |
&amp;lt;LogicExpression&amp;gt; &quot;&amp;&amp;&quot; &amp;lt;AddtiveExpression&amp;gt;</code></pre></blockquote>
</li>
<li><p>é™¤æ³•</p>
<blockquote>
<p>&lt;MultiplecativeExpression&gt;::= &lt;DecimalNumber&gt; | &lt; MultiplecativeExpression&gt; â€œ/â€œ &lt;DecimalNumber&gt;</p>
</blockquote>
</li>
<li><p>å‡æ³•</p>
<blockquote>
<p>&lt;AddtiveExpression&gt;::= &lt;MultiplecativeExpression&gt; | &lt; AddtiveExpression&gt; â€œ-â€œ &lt;MultiplecativeExpression&gt;</p>
</blockquote>
</li>
<li><p>å¸¦æ‹¬å·çš„å››åˆ™è¿ç®—</p>
<ul>
<li><p>æ‹¬å·</p>
<blockquote>
<p>&lt;PrimaryExpression&lt;::= &lt;DecimalNumber&lt; | â€œ(â€œ | &lt;LogicExpression&lt; | â€œ)â€</p>
</blockquote>
</li>
<li><p>ä¹˜æ³•è¡¨è¾¾å¼ä¾¿å¯ä»¥å˜æˆ</p>
<blockquote>
<p>&lt;MultiplecativeExpression&gt;::= &lt;PrimaryExpression&gt; | &lt; MultiplecativeExpression&gt; â€œ*â€ &lt; PrimaryExpression&gt;</p>
</blockquote>
</li>
<li><p>é™¤æ³•ï¼ŒåŒç†ä¹˜æ³•ï¼Œæ¢ç¬¦å·</p>
<blockquote>
<p>&lt;MultiplecativeExpression&gt;::= &lt;PrimaryExpression&gt; | &lt; MultiplecativeExpression&gt; â€œ/â€œ &lt; PrimaryExpression&gt;</p>
</blockquote>
</li>
<li><p>åŠ å‡</p>
<blockquote>
<p>&lt;AddtiveExpression&gt;::= &lt;MultiplecativeExpression&gt; | &lt; AddtiveExpression&gt; â€œ+â€ &lt;MultiplecativeExpression&gt; | &lt; AddtiveExpression&gt; â€œ-â€œ &lt;MultiplecativeExpression&gt;</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="é€šè¿‡-BNF-ç†è§£å½¢å¼è¯­è¨€ï¼ˆä¹”å§†æ–¯åŸºè°±ç³»ï¼‰"><a href="#é€šè¿‡-BNF-ç†è§£å½¢å¼è¯­è¨€ï¼ˆä¹”å§†æ–¯åŸºè°±ç³»ï¼‰" class="headerlink" title="é€šè¿‡ BNF ç†è§£å½¢å¼è¯­è¨€ï¼ˆä¹”å§†æ–¯åŸºè°±ç³»ï¼‰"></a>é€šè¿‡ BNF ç†è§£å½¢å¼è¯­è¨€ï¼ˆä¹”å§†æ–¯åŸºè°±ç³»ï¼‰</h4><ul>
<li>0å‹ æ— é™åˆ¶æ–‡æ³•<ul>
<li>?::=?</li>
</ul>
</li>
<li>1å‹ ä¸Šä¸‹æ–‡ç›¸å…³æ–‡æ³•<ul>
<li><span style="color: red">?</span>&lt;A&gt;<span style="color:blue">?</span>::=<span style="color: red">?</span>&lt;B&gt;<span style="color:blue">?</span></li>
</ul>
</li>
</ul>
<pre><code>    <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">get</span> a &#123; <span class="keyword">return</span> <span class="number">1</span>&#125;,</span><br><span class="line">  <span class="keyword">get</span>: 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
- 1ï¼‰ç±»ä¼¼å…³é”®å­—ï¼Œ 2ï¼‰get: å±æ€§</code></pre><ul>
<li><p>2å‹ ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•</p>
<ul>
<li>&lt;A&gt;::=?</li>
<li>2 ** 1 ** 2</li>
</ul>
</li>
<li><p>3å‹ æ­£åˆ™æ–‡æ³•ï¼Œåªå…è®¸å·¦é€’å½’ï¼ˆJavascriptåœ¨**å‡ºç°å‰ï¼Œä¸€ç›´éµå¾ªç€å·¦é€’å½’ï¼‰</p>
<ul>
<li><p>&lt;A&gt;::=&lt;A&gt;?</p>
</li>
<li><p>&lt;A&gt;::=?&lt;A&gt;<span style="color: red">x</span></p>
</li>
<li><p>Javascript è¡¨è¾¾å¼å¤§éƒ¨åˆ†åœ¨3å‹</p>
</li>
<li><p>** å³ç»“åˆ</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">2</span> ** <span class="number">2</span> --&gt; <span class="number">4</span></span><br><span class="line"><span class="number">2</span> ** (<span class="number">2</span> ** <span class="number">3</span>) --&gt; <span class="number">256</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>**</p>
<blockquote>
<p>&lt;ExpExpression&gt; = &lt;MulticativeExpression&gt; | &lt;MulticativeExpression&gt; â€œ**â€ &lt;ExpExpression&gt;</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="optional-æ­£åˆ™è¡¨è¾¾å¼-BNF-è¡¨ç¤ºå››åˆ™è¿ç®—"><a href="#optional-æ­£åˆ™è¡¨è¾¾å¼-BNF-è¡¨ç¤ºå››åˆ™è¿ç®—" class="headerlink" title="optional æ­£åˆ™è¡¨è¾¾å¼+ BNF è¡¨ç¤ºå››åˆ™è¿ç®—"></a>optional æ­£åˆ™è¡¨è¾¾å¼+ BNF è¡¨ç¤ºå››åˆ™è¿ç®—</h4><h3 id="å…¶ä»–äº§ç”Ÿå¼"><a href="#å…¶ä»–äº§ç”Ÿå¼" class="headerlink" title="å…¶ä»–äº§ç”Ÿå¼"></a>å…¶ä»–äº§ç”Ÿå¼</h3><ul>
<li>EBNF ABNF Customized<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/1d1c7542767173de3c87f7a9e00a445763429.png" alt="ECMA-Script EBNF"></li>
</ul>
</li>
</ul>
<h3 id="ç°ä»£è¯­è¨€è¯­è¨€çš„ç‰¹ä¾‹"><a href="#ç°ä»£è¯­è¨€è¯­è¨€çš„ç‰¹ä¾‹" class="headerlink" title="ç°ä»£è¯­è¨€è¯­è¨€çš„ç‰¹ä¾‹"></a>ç°ä»£è¯­è¨€è¯­è¨€çš„ç‰¹ä¾‹</h3><ul>
<li>C++ï¼Œ* å¯èƒ½è¡¨ç¤ºä¹˜å·æˆ–è€…æŒ‡é’ˆï¼Œå…·ä½“æ˜¯å“ªä¸ªï¼Œå–å†³äºæ˜Ÿå·å‰é¢çš„æ ‡è¯†ç¬¦æ˜¯å¦è¢«å£°æ˜ä¸ºç±»å‹<ul>
<li>éå½¢å¼è¯è¯­è¨€ï¼Œè¯­æ³•ä¸è¯­ä¹‰ç›¸å…³ï¼Œ* å¯ä»¥åœ¨å¾ˆæ—©ä¹‹å‰å‡ºç°</li>
</ul>
</li>
<li>VBä¸­ï¼Œ &lt; å¯èƒ½æ˜¯å°äºå·ï¼Œä¹Ÿå¯èƒ½æ˜¯ XML ç›´æ¥é‡çš„å¼€å§‹ï¼Œå–å†³äºå½“å‰ä½ç½®æ˜¯å¦å¯ä»¥æ¥å— XML ç›´æ¥é‡<ul>
<li>1å‹ ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•</li>
</ul>
</li>
<li>Pythonï¼Œè¡Œé¦–çš„ tab ç¬¦å’Œç©ºæ ¼ä¼šæ ¹æ®ä¸Šä¸€è¡Œçš„è¡Œé¦–ç©ºç™½ä»¥ä¸€å®šè§„åˆ™è¢«å¤„ç†æˆè™šæ‹Ÿç»ˆç»“ç¬¦ indent æˆ–è€… dedent </li>
<li>Javascriptï¼Œ/ å¯èƒ½æ˜¯é™¤å·ï¼Œä¹Ÿå¯èƒ½æ˜¯æ­£åˆ™è¡¨è¾¾å¼å¼€å¤´ï¼Œå¤„ç†æ–¹å¼ç±»ä¼¼äºVBï¼Œå­—ç¬¦ä¸²æ¨¡æ¿ä¸­ä¹Ÿéœ€è¦ç‰¹æ®Šå¤„ç†},è¿˜æœ‰è‡ªåŠ¨æ’å…¥åˆ†å·è§„åˆ™<ul>
<li>åŒ VB / JSX</li>
</ul>
</li>
</ul>
<h2 id="è¯­è¨€çš„åˆ†ç±»"><a href="#è¯­è¨€çš„åˆ†ç±»" class="headerlink" title="è¯­è¨€çš„åˆ†ç±»"></a>è¯­è¨€çš„åˆ†ç±»</h2><h3 id="å›¾çµå®Œå¤‡æ€§"><a href="#å›¾çµå®Œå¤‡æ€§" class="headerlink" title="å›¾çµå®Œå¤‡æ€§"></a>å›¾çµå®Œå¤‡æ€§</h3><ul>
<li>å›¾çµæœºï¼ˆå‡¡æ˜¯å¯è®¡ç®—çš„ï¼Œéƒ½èƒ½è®¡ç®—å‡ºæ¥ï¼‰</li>
<li>å›¾çµå®Œå¤‡æ€§<ul>
<li>å‘½ä»¤å¼ â€“ å›¾çµæœº<ul>
<li>goto</li>
<li>if å’Œ while</li>
</ul>
</li>
<li>å£°æ˜å¼ â€“ lambda<ul>
<li>é€’å½’</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="åŠ¨æ€ä¸é™æ€"><a href="#åŠ¨æ€ä¸é™æ€" class="headerlink" title="åŠ¨æ€ä¸é™æ€"></a>åŠ¨æ€ä¸é™æ€</h3><ul>
<li>åŠ¨æ€ï¼š<ul>
<li>åœ¨ç”¨æˆ·çš„è®¾å¤‡/åœ¨çº¿æœåŠ¡å™¨ä¸Š</li>
<li>äº§å“å®é™…è¿è¡Œæ—¶</li>
<li>Runtime</li>
</ul>
</li>
<li>é™æ€<ul>
<li>åœ¨ç¨‹åºå‘˜çš„è®¾å¤‡ä¸Š</li>
<li>äº§å“å¼€å‘æ—¶</li>
<li>Compiletime</li>
</ul>
</li>
</ul>
<h4 id="ç±»å‹ç³»ç»Ÿ-In-é™æ€è¯­è¨€"><a href="#ç±»å‹ç³»ç»Ÿ-In-é™æ€è¯­è¨€" class="headerlink" title="ç±»å‹ç³»ç»Ÿ In é™æ€è¯­è¨€"></a>ç±»å‹ç³»ç»Ÿ In é™æ€è¯­è¨€</h4><ul>
<li>åŠ¨æ€ç±»å‹ç³»ç»Ÿå’Œé™æ€ç±»å‹ç³»ç»Ÿ<ul>
<li>ä¸æ˜¯è¯´ Typescript æ‰æœ‰ç±»å‹ç³»ç»Ÿï¼Œè€Œæ˜¯å®ƒæ‰æœ‰é™æ€ç±»å‹ç³»ç»Ÿ</li>
</ul>
</li>
<li>å¼ºç±»å‹å’Œå¼±ç±»å‹<ul>
<li>String + Number<ul>
<li>äº§ç”Ÿäº†éšå¼çš„ç±»å‹è½¬æ¢</li>
</ul>
</li>
<li>String == Boolean</li>
<li>C++ æœ‰éšå¼è½¬æ¢ï¼Œå¼±ç±»å‹</li>
</ul>
</li>
<li>å¤åˆç±»å‹<ul>
<li>ç»“æ„ä½“</li>
<li><strong>å‡½æ•°ç­¾å</strong><ul>
<li>å‚æ•°åˆ—è¡¨ + è¿”å›å€¼ç±»å‹</li>
</ul>
</li>
</ul>
</li>
<li>å­ç±»å‹<ul>
<li>é€†å˜/åå˜<ul>
<li>åå˜ â€“&gt; å‡¡æ˜¯èƒ½ç”¨åˆ°Array&lt;Parent&gt;çš„åœ°æ–¹ï¼Œéƒ½èƒ½ç”¨Array&lt;Child&gt;</li>
<li>é€†å˜ â€“&gt; å‡¡æ˜¯èƒ½ç”¨åˆ°Array&lt;Child&gt;çš„åœ°æ–¹ï¼Œéƒ½èƒ½ç”¨Array&lt;Parent&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="ä¸€èˆ¬å‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€"><a href="#ä¸€èˆ¬å‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€" class="headerlink" title="ä¸€èˆ¬å‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€"></a>ä¸€èˆ¬å‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€</h2><h3 id="Atom"><a href="#Atom" class="headerlink" title="Atom"></a>Atom</h3><h3 id="Expression"><a href="#Expression" class="headerlink" title="Expression"></a>Expression</h3><h3 id="Statement-è¯­å¥"><a href="#Statement-è¯­å¥" class="headerlink" title="Statement è¯­å¥"></a>Statement è¯­å¥</h3><h3 id="Structure"><a href="#Structure" class="headerlink" title="Structure"></a>Structure</h3><h3 id="Program"><a href="#Program" class="headerlink" title="Program"></a>Program</h3>]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€æœªå®Œã€‘è®¡ç®—æœºå›¾å½¢å­¦åˆæ¢</title>
    <url>/2020/04/15/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%88%9D%E6%8E%A2/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li><p>è®°å½• è®¡ç®—æœºå›¾å½¢å­¦ æ–¹é¢çš„å­¦ä¹ è¿‡ç¨‹ğŸ¤”</p>
<a id="more"></a>

</li>
</ul>
<h2 id="ä¸»è¦æ¦‚å¿µ"><a href="#ä¸»è¦æ¦‚å¿µ" class="headerlink" title="ä¸»è¦æ¦‚å¿µ"></a>ä¸»è¦æ¦‚å¿µ</h2><ul>
<li>å‰ç«¯ä¸å›¾å½¢å­¦<ul>
<li>shader</li>
</ul>
</li>
<li>å›¾å½¢å­¦åº”ç”¨åœºæ™¯<ul>
<li>Image<ul>
<li>patternï¼ˆå¤šç”¨äºèƒŒæ™¯ï¼‰</li>
<li>photo</li>
<li>shape</li>
</ul>
</li>
<li>æ¥è‡ªæ•°å­¦çš„å›¾å½¢â€“åˆ†å½¢</li>
<li>æ¥è‡ªç‰©ç†çš„å›¾å½¢â€“å…‰çš„è¡å°„<ul>
<li>ç›¸å˜</li>
<li>ç»¿å¹•<ul>
<li>PNG24 â€“&gt; 2å¼  jpg</li>
</ul>
</li>
<li>3Dæ•ˆæœ<ul>
<li>three.js</li>
<li>babylon.js</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><h2 id="å›¾å½¢å­¦åŸºç¡€è®¾æ–½"><a href="#å›¾å½¢å­¦åŸºç¡€è®¾æ–½" class="headerlink" title="å›¾å½¢å­¦åŸºç¡€è®¾æ–½"></a>å›¾å½¢å­¦åŸºç¡€è®¾æ–½</h2></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>è®¡ç®—æœºå›¾å½¢å­¦</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºå›¾å½¢å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå·±çš„å‰ç«¯çŸ¥è¯†ä½“ç³»</title>
    <url>/2020/04/12/%E8%87%AA%E5%B7%B1%E7%9A%84%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>ç†ä¸€ä¸‹è‡ªå·±çš„æŠ€æœ¯ä½“ç³»å§</li>
</ul>
<a id="more"></a>

<h2 id="æŠ€æœ¯ä½“ç³»è„‘å›¾"><a href="#æŠ€æœ¯ä½“ç³»è„‘å›¾" class="headerlink" title="æŠ€æœ¯ä½“ç³»è„‘å›¾"></a>æŠ€æœ¯ä½“ç³»è„‘å›¾</h2><ul>
<li><img src="http://p0.meituan.net/myvideodistribute/49daa01a2bbdab251434a26a618376c53934435.png" alt="æŠ€æœ¯ä½“ç³»è„‘å›¾"></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS-é€‰æ‹©å™¨</title>
    <url>/2020/05/29/CSS-%E9%80%89%E6%8B%A9%E5%99%A8/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>



<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>CSS é€‰æ‹©å™¨ç›¸å…³çŸ¥è¯†</li>
<li>æœ¬æ¥è¿™ä¸ªå¾ˆæ—©å°±èƒ½å†™å®Œçš„ï¼Œå‘¨äº”å­¦äº†ä¸ªç©ºç¿»ï¼Œå‘¨å…­å»ä¸Šäº†ä¸ªèº«ä½“å¼€å‘åŸºç¡€è¯¾ï¼Œç„¶åå…¨èº«é…¸ç—›ï¼Œé…¸ç—›åˆ°èµ·åºŠéƒ½èµ·ä¸æ¥çš„é‚£ç§ï¼Œå°±æ‹–äº†ä¸¤å¤©</li>
<li>ä½†æˆ‘è‡³å°‘æ²¡æœ‰é¸½æ‰ å˜»å˜»å˜» ã€æ‰‹åŠ¨ç‹—å¤´</li>
</ul>
<a id="more"></a>


<h2 id="é€‰æ‹©å™¨è¯­æ³•"><a href="#é€‰æ‹©å™¨è¯­æ³•" class="headerlink" title="é€‰æ‹©å™¨è¯­æ³•"></a>é€‰æ‹©å™¨è¯­æ³•</h2><h3 id="ç®€å•é€‰æ‹©å™¨"><a href="#ç®€å•é€‰æ‹©å™¨" class="headerlink" title="ç®€å•é€‰æ‹©å™¨"></a>ç®€å•é€‰æ‹©å™¨</h3><ul>
<li><p><img src="https://static001.geekbang.org/resource/image/4c/ce/4c9ac78870342dc802137ea9c848c0ce.png" alt="ç®€å•é€‰æ‹©å™¨ç»“æ„å›¾"></p>
</li>
<li><p>é’ˆå¯¹æŸä¸€ç‰¹å¾åˆ¤æ–­æ˜¯å¦é€‰ä¸­å…ƒç´ ã€‚</p>
</li>
<li><p>*</p>
</li>
<li><p>div svg|a</p>
<ul>
<li><p><a href="http://www.w3.org/2000/svg" target="_blank" rel="noopener">SVG</a></p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>JS Bin<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"100"</span> <span class="attr">height</span>=<span class="string">"28"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 100 28"</span> <span class="attr">version</span>=<span class="string">"1.1"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">desc</span>&gt;</span>Example link01 - a link on an ellipse</span><br><span class="line">  <span class="tag">&lt;/<span class="name">desc</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">xlink:href</span>=<span class="string">"http://www.w3.org"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">y</span>=<span class="string">"100%"</span>&gt;</span>name<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void 0;"</span>&gt;</span>name<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
  <figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@namespace</span> svg url(<span class="attribute">http:</span>//www.w3.org/<span class="number">2000</span>/svg);</span><br><span class="line"><span class="keyword">@namespace</span> html url(<span class="attribute">http:</span>//www.w3.org/<span class="number">1999</span>/xhtml);</span><br><span class="line">svg|a &#123;</span><br><span class="line">  <span class="selector-tag">stroke</span><span class="selector-pseudo">:blue</span>;</span><br><span class="line">  <span class="selector-tag">stroke-width</span><span class="selector-pseudo">:1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">html|a &#123;</span><br><span class="line">  <span class="selector-tag">font-size</span><span class="selector-pseudo">:40px</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>.cls</p>
</li>
<li><p>#id</p>
</li>
<li><p>[attr=value]</p>
<ul>
<li>[attr]<ul>
<li>ç›´æ¥åœ¨æ–¹æ‹¬å·ä¸­æ”¾å…¥å±æ€§åï¼Œæ˜¯æ£€æŸ¥å…ƒç´ æ˜¯å¦å…·æœ‰è¿™ä¸ªå±æ€§ï¼Œåªè¦å…ƒç´ æœ‰è¿™ä¸ªå±æ€§ï¼Œä¸è®ºå±æ€§æ˜¯ä»€ä¹ˆå€¼ï¼Œéƒ½å¯ä»¥è¢«é€‰ä¸­</li>
<li><img src="http://p0.meituan.net/myvideodistribute/ee7f5620eec48d0a237b15ed61a83404257138.png" alt="[attr]"></li>
</ul>
</li>
<li>[attr=val]<ul>
<li>ç²¾ç¡®åŒ¹é…ï¼Œæ£€æŸ¥ä¸€ä¸ªå…ƒç´ å±æ€§çš„å€¼æ˜¯å¦æ˜¯ val</li>
<li><img src="http://p0.meituan.net/myvideodistribute/1adfecc2daa770b4192909740af66b1d259781.png" alt="[attr=val]"></li>
</ul>
</li>
<li>[att~=val]<ul>
<li>å¤šç§åŒ¹é…ï¼Œæ£€æŸ¥ä¸€ä¸ªå…ƒç´ çš„å€¼æ˜¯å¦æ˜¯è‹¥å¹²å€¼ä¹‹ä¸€ï¼Œè¿™é‡Œçš„ val ä¸æ˜¯ä¸€ä¸ªå•ä¸€çš„å€¼äº†ï¼Œå¯ä»¥æ˜¯ç”¨ç©ºæ ¼åˆ†éš”çš„ä¸€ä¸ªåºåˆ—</li>
<li><img src="http://p0.meituan.net/myvideodistribute/b61188491bb578e4f96ef97baa6b263c264908.png" alt="[att~=val]"></li>
</ul>
</li>
<li>[att|=val]<ul>
<li>å¼€å¤´åŒ¹é…ï¼Œæ£€æŸ¥ä¸€ä¸ªå…ƒç´ çš„å€¼æ˜¯å¦æ˜¯ä»¥ val å¼€å¤´ï¼Œå®ƒè·Ÿç²¾ç¡®åŒ¹é…çš„åŒºåˆ«æ˜¯å±æ€§åªè¦ä»¥ val å¼€å¤´å³å¯ï¼Œåé¢å†…å®¹ä¸ç®¡ï¼ˆçº¢åœˆåœˆå‡ºçš„æ˜¯ç”Ÿæ•ˆæ ·å¼ï¼‰</li>
<li><img src="http://p0.meituan.net/myvideodistribute/4f1459c9d673adf7ac337f06569ec688330483.png" alt="[att|=val]"></li>
</ul>
</li>
</ul>
</li>
<li><p>ä¼ªç±»é€‰æ‹©å™¨</p>
<ul>
<li><p>æ ‘ç»“æ„å…³ç³»ä¼ªç±»é€‰æ‹©å™¨</p>
<ul>
<li><p>:root</p>
<ul>
<li>è¡¨ç¤ºæ ‘çš„æ ¹å…ƒç´ </li>
</ul>
</li>
<li><p>:empty</p>
<ul>
<li><p>è¡¨ç¤ºæ²¡æœ‰å­èŠ‚ç‚¹çš„å…ƒç´ </p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="comment">&lt;!-- I will be lime. --&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span>I will be pink.<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- I will be pink in older browsers because of the whitespace around this comment. --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="comment">&lt;!-- I will be pink in all browsers because of the non-collapsible whitespace and elements around this comment. --&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
  <figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">	  <span class="attribute">background</span>: pink;</span><br><span class="line">	  <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">	  <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="selector-class">.box</span><span class="selector-pseudo">:empty</span> &#123;</span><br><span class="line">	  <span class="attribute">background</span>: lime;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><img src="" alt=":empty ä¼ªç±»è¿è¡Œç»“æœ"></p>
</li>
</ul>
</li>
<li><p>:nth-child å’Œ :nth-last-child</p>
<ul>
<li><img src="https://static001.geekbang.org/resource/image/1e/a9/1ebdba2978a22c13844d108318b271a9.png" alt="nth-child å’Œ :nth-last-child"></li>
</ul>
</li>
<li><p>:nth-last-child</p>
<ul>
<li>ä»åå¾€å‰æ•°</li>
</ul>
</li>
<li><p>:first-child :last-child</p>
<ul>
<li>åˆ†åˆ«è¡¨ç¤ºç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ </li>
</ul>
</li>
<li><p>:only-child</p>
<ul>
<li>æŒ‰å­—é¢æ„æ€ç†è§£å³å¯ï¼Œé€‰ä¸­å”¯ä¸€ä¸€ä¸ªå­å…ƒç´ </li>
</ul>
</li>
</ul>
</li>
<li><p>é“¾æ¥ä¸è¡Œä¸ºä¼ªç±»é€‰æ‹©å™¨ï¼ˆé“¾æ¥ä¸è¡Œä¸ºæ˜¯ç¬¬ä¸€æ‰¹è®¾è®¡å‡ºæ¥çš„ä¼ªç±»ï¼Œä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ä¸€æ‰¹ï¼‰</p>
<ul>
<li>:any-link<ul>
<li>è¡¨ç¤ºä»»æ„çš„é“¾æ¥ï¼ŒåŒ…æ‹¬ aã€area å’Œ link æ ‡ç­¾éƒ½å¯èƒ½åŒ¹é…åˆ°è¿™ä¸ªä¼ªç±»</li>
</ul>
</li>
<li>:link<ul>
<li>è¡¨ç¤ºæœªè®¿é—®è¿‡çš„é“¾æ¥</li>
</ul>
</li>
<li>:visited<ul>
<li>è¡¨ç¤ºå·²ç»è®¿é—®è¿‡çš„é“¾æ¥</li>
</ul>
</li>
<li>:hover<ul>
<li>è¡¨ç¤ºé¼ æ ‡æ‚¬åœåœ¨ä¸Šçš„å…ƒç´ </li>
</ul>
</li>
<li>:active<ul>
<li>è¡¨ç¤ºç”¨æˆ·æ­£åœ¨æ¿€æ´»è¿™ä¸ªå…ƒç´ ï¼Œå¦‚ç”¨æˆ·æŒ‰ä¸‹æŒ‰é’®ï¼Œé¼ æ ‡è¿˜æœªæŠ¬èµ·æ—¶ï¼Œè¿™ä¸ªæŒ‰é’®å°±å¤„äºæ¿€æ´»çŠ¶æ€</li>
</ul>
</li>
<li>:focus<ul>
<li>è¡¨ç¤ºç„¦ç‚¹è½åœ¨è¿™ä¸ªå…ƒç´ ä¹‹ä¸Š</li>
</ul>
</li>
<li>:target<ul>
<li>ç”¨äºé€‰ä¸­æµè§ˆå™¨ URL çš„ hash éƒ¨åˆ†æ‰€æŒ‡ç¤ºçš„å…ƒç´ </li>
</ul>
</li>
</ul>
</li>
<li><p>é€»è¾‘ä¼ªç±»é€‰æ‹©å™¨</p>
<ul>
<li>:not<ul>
<li>ä½†ç›®å‰è¿˜æ²¡æœ‰çœ‹åˆ°æµè§ˆå™¨å®ç°å®ƒ</li>
</ul>
</li>
</ul>
</li>
<li><p>å…¶å®ƒä¼ªç±»é€‰æ‹©å™¨</p>
<ul>
<li>å›½é™…åŒ–ï¼šç”¨äºå¤„ç†å›½é™…åŒ–å’Œå¤šè¯­è¨€é—®é¢˜ã€‚<ul>
<li>dir</li>
<li>lang</li>
</ul>
</li>
<li>éŸ³é¢‘ / è§†é¢‘ï¼šç”¨äºåŒºåˆ†éŸ³è§†é¢‘æ’­æ”¾çŠ¶æ€ã€‚<ul>
<li>play</li>
<li>pause</li>
</ul>
</li>
<li>æ—¶åºï¼šç”¨äºé…åˆè¯»å±è½¯ä»¶ç­‰æ—¶åºæ€§å®¢æˆ·ç«¯çš„ä¼ªç±»ã€‚<ul>
<li>current</li>
<li>past</li>
<li>future</li>
</ul>
</li>
<li>è¡¨æ ¼ï¼šç”¨äºå¤„ç† table çš„åˆ—çš„ä¼ªç±»ã€‚<ul>
<li>nth-col</li>
<li>nth-last-col</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>ä¼ªå…ƒç´ é€‰æ‹©å™¨</p>
<ul>
<li>::first-line<ul>
<li>è¡¨ç¤ºå…ƒç´ çš„ç¬¬ä¸€è¡Œ</li>
<li>first-line è‹¥æœ‰ float ï¼Œåˆ™ä¼šè„±ç¦»æ–‡æ¡£æµå‡ºå»ï¼Œç„¶ååˆé€‰ä¸­ç¬¬ä¸€è¡Œï¼Œåˆè„±ç¦»æ–‡æ¡£æµå‡ºå»å¾ªç¯äº†</li>
</ul>
</li>
<li>::first-letter<ul>
<li>è¡¨ç¤ºå…ƒç´ çš„ç¬¬ä¸€ä¸ªå­—æ¯</li>
<li>CSS æ ‡å‡†åªè¦æ±‚ ::first-line å’Œ ::first-letter å®ç°æœ‰é™çš„å‡ ä¸ª CSS å±æ€§ï¼Œéƒ½æ˜¯æ–‡æœ¬ç›¸å…³ï¼Œè¿™äº›å±æ€§æ˜¯ä¸‹é¢è¿™äº›<ul>
<li><img src="https://static001.geekbang.org/resource/image/6e/48/6e050ee9f7a0b1657388271cceb0c548.png" alt="å®ç°æœ‰é™çš„å‡ ä¸ª CSS å±æ€§"></li>
</ul>
</li>
</ul>
</li>
<li>::before<ul>
<li>è¡¨ç¤ºåœ¨å…ƒç´ å†…å®¹ä¹‹å‰æ’å…¥ä¸€ä¸ªè™šæ‹Ÿçš„å…ƒç´ </li>
</ul>
</li>
<li>::after<ul>
<li>åˆ™è¡¨ç¤ºåœ¨å…ƒç´ å†…å®¹ä¹‹åæ’å…¥</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="å¤åˆé€‰æ‹©å™¨"><a href="#å¤åˆé€‰æ‹©å™¨" class="headerlink" title="å¤åˆé€‰æ‹©å™¨"></a>å¤åˆé€‰æ‹©å™¨</h3><ul>
<li>è¿ç»­å†™åœ¨ä¸€èµ·çš„ç®€å•é€‰æ‹©å™¨ï¼Œé’ˆå¯¹å…ƒç´ è‡ªèº«ç‰¹å¾é€‰æ‹©å•ä¸ªå…ƒç´ </li>
<li>&lt;ç®€å•é€‰æ‹©å™¨&gt;&lt;ç®€å•é€‰æ‹©å™¨&gt;&lt;ç®€å•é€‰æ‹©å™¨&gt;</li>
<li>* æˆ–è€… div å¿…é¡»å†™åœ¨æœ€å‰é¢</li>
</ul>
<h3 id="å¤æ‚é€‰æ‹©å™¨"><a href="#å¤æ‚é€‰æ‹©å™¨" class="headerlink" title="å¤æ‚é€‰æ‹©å™¨"></a>å¤æ‚é€‰æ‹©å™¨</h3><ul>
<li>ç”±â€œï¼ˆç©ºæ ¼ï¼‰â€â€œ &gt;â€â€œ ~â€â€œ +â€â€œ ||â€ç­‰ç¬¦å·è¿æ¥çš„å¤åˆé€‰æ‹©å™¨ï¼Œæ ¹æ®çˆ¶å…ƒç´ æˆ–è€…å‰åºå…ƒç´ æ£€æŸ¥å•ä¸ªå…ƒç´ </li>
<li>&lt;å¤åˆé€‰æ‹©å™¨&gt;&lt;sp&gt;&lt;å¤åˆé€‰æ‹©å™¨&gt;<ul>
<li>å­å­™</li>
<li>åä»£ï¼Œè¡¨ç¤ºé€‰ä¸­æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„åä»£èŠ‚ç‚¹</li>
</ul>
</li>
<li>&lt;å¤åˆé€‰æ‹©å™¨&gt;â€&gt;â€&lt;å¤åˆé€‰æ‹©å™¨&gt;<ul>
<li>å­é€‰æ‹©å™¨ï¼Œåªèƒ½é€‰æ‹©å­ä¸€çº§</li>
<li>å­ä»£ï¼Œè¡¨ç¤ºé€‰ä¸­ç¬¦åˆæ¡ä»¶çš„å­èŠ‚ç‚¹</li>
</ul>
</li>
<li>&lt;å¤åˆé€‰æ‹©å™¨&gt;â€~â€&lt;å¤åˆé€‰æ‹©å™¨&gt;<ul>
<li>sibling</li>
<li>åç»§ï¼Œè¡¨ç¤ºé€‰ä¸­æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„åç»§èŠ‚ç‚¹ï¼Œåç»§èŠ‚ç‚¹å³è·Ÿå½“å‰èŠ‚ç‚¹å…·æœ‰åŒä¸€ä¸ªçˆ¶å…ƒç´ ï¼Œå¹¶å‡ºç°åœ¨å®ƒä¹‹åçš„èŠ‚ç‚¹</li>
</ul>
</li>
<li>&lt;å¤åˆé€‰æ‹©å™¨&gt;â€+â€&lt;å¤åˆé€‰æ‹©å™¨&gt;<ul>
<li>sibling</li>
<li>ç›´æ¥åç»§ï¼Œè¡¨ç¤ºé€‰ä¸­ç¬¦åˆæ¡ä»¶çš„ç›´æ¥åç»§èŠ‚ç‚¹ï¼Œç›´æ¥åç»§èŠ‚ç‚¹å³ nextSlibling</li>
</ul>
</li>
<li>&lt;å¤åˆé€‰æ‹©å™¨&gt;â€||â€&lt;å¤åˆé€‰æ‹©å™¨&gt;<ul>
<li>selectors-4</li>
<li>table é‡Œé€‰ä¸­ä¸€åˆ—</li>
<li>åˆ—é€‰æ‹©å™¨ï¼Œè¡¨ç¤ºé€‰ä¸­å¯¹åº”åˆ—ä¸­ç¬¦åˆæ¡ä»¶çš„å•å…ƒæ ¼</li>
</ul>
</li>
</ul>
<h3 id="é€‰æ‹©å™¨åˆ—è¡¨"><a href="#é€‰æ‹©å™¨åˆ—è¡¨" class="headerlink" title="é€‰æ‹©å™¨åˆ—è¡¨"></a>é€‰æ‹©å™¨åˆ—è¡¨</h3><ul>
<li>ä»¥ comma åˆ†éš”çš„å¤æ‚é€‰æ‹©å™¨åºåˆ—ï¼Œè¡¨ç¤ºâ€œæˆ–â€çš„å…³ç³»</li>
</ul>
<h2 id="é€‰æ‹©å™¨ä¼˜å…ˆçº§"><a href="#é€‰æ‹©å™¨ä¼˜å…ˆçº§" class="headerlink" title="é€‰æ‹©å™¨ä¼˜å…ˆçº§"></a>é€‰æ‹©å™¨ä¼˜å…ˆçº§</h2><ul>
<li><a href="http://www.standardista.com/css3/css-specificity/" target="_blank" rel="noopener">å›¾è§£ css-specificity</a></li>
<li><a href="https://www.w3.org/TR/2018/WD-selectors-4-20181121/#specificity-rules" target="_blank" rel="noopener">w3 css-specificity</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity" target="_blank" rel="noopener">MDN css-specificity</a></li>
<li>ç»“è®ºï¼š<strong>[ inline-element,    id,    class | pseudo | attr,    type ]<br>:not ä¼ªç±»ä¸å‚ä¸è®¡ç®—</strong></li>
<li>exercise<ul>
<li>div#a.b .c[id=x]<ul>
<li>[0,1,3,1]</li>
</ul>
</li>
<li>#a:not(#b)<ul>
<li>[0,2,0,0]</li>
</ul>
</li>
<li>*.a<ul>
<li>[0,0,1,0]</li>
</ul>
</li>
<li>div.a<ul>
<li>[0,0,1,1]</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="ä¼˜åŒ–-toy-browser-CSS-selector-match"><a href="#ä¼˜åŒ–-toy-browser-CSS-selector-match" class="headerlink" title="ä¼˜åŒ– toy-browser CSS selector match"></a>ä¼˜åŒ– toy-browser CSS selector match</h2><ul>
<li><p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥å…ˆè§‚å¯Ÿ</p>
<ul>
<li>toy-browser æ˜¯æ ¹æ® space æ‹†åˆ†é€‰æ‹©å™¨çš„ã€‚é‚£ä¹ˆé€‰æ‹©å™¨æˆ‘ä»¬éœ€è¦å¤„ç†ç‰¹æ®Šæƒ…å†µåªæœ‰ <ul>
<li>#id.cls1.cls2.cl3</li>
<li>.cls1#id.cls2</li>
<li>div.cls1.cls2</li>
<li>.cls1.cls2</li>
</ul>
</li>
<li>ç±»å‹é€‰æ‹©å™¨æœ‰ä¸”åªæœ‰ä¸€ä¸ªï¼ˆä¸€å¯¹èµ·æ­¢æ ‡ç­¾ï¼Œä¸€ä¸ªç±»å‹ä¸Šåªèƒ½æœ‰ä¸€ä¸ªå”¯ä¸€ idï¼Œè¡¨ç¤ºä¸€ä¸ªå…ƒç´ ï¼‰</li>
<li>idé€‰æ‹©å™¨æœ‰ä¸”åªæœ‰ä¸€ä¸ªï¼ˆä¸€å¯¹èµ·æ­¢æ ‡ç­¾ï¼Œå³ä¸€ä¸ªç±»å‹ï¼Œè¡¨ç¤ºä¸€ä¸ªå…ƒç´ ï¼‰<ul>
<li>å› ä¸ºæ²¡æœ‰æ ‡è¯†ç¬¦ï¼Œåªèƒ½å‡ºç°åœ¨å¼€å¤´</li>
<li>div.cls1.cls2</li>
<li>ä¸å¯èƒ½ä¸º<ul>
<li>.cls1div.cls2</li>
</ul>
</li>
</ul>
</li>
<li>class é€‰æ‹©å™¨å¯ä»¥æœ‰å¤šä¸ª</li>
</ul>
</li>
<li><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç¬¬ä¸€æ­¥ï¼Œå…ˆå¤„ç† id é€‰æ‹©å™¨ + ç±»å‹é€‰æ‹©å™¨ç‰¹æ®Šæƒ…å†µ</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">match</span>(<span class="params">element, selector</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!selector || !element.attributes) </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> regId = <span class="regexp">/(#\w+)+/g</span></span><br><span class="line">  <span class="keyword">let</span> resId = selector.match(regId)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (resId &amp;&amp; resId[<span class="number">0</span>].charAt(<span class="number">0</span>) == <span class="string">"#"</span>) &#123; <span class="comment">// idé€‰æ‹©å™¨æœ‰æ ‡è¯†ç¬¦#ï¼Œå› æ­¤å¯ä»¥å‡ºç°åœ¨ä»»æ„ä½ç½®ï¼Œéœ€è¦ç”¨æ­£åˆ™å»åŒ¹é…</span></span><br><span class="line">    <span class="keyword">const</span> attr = element.attributes.filter(<span class="function"><span class="params">attr</span> =&gt;</span> attr.name === <span class="string">"id"</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> (attr &amp;&amp; attr.value === resId[<span class="number">0</span>].replace(<span class="string">"#"</span>, <span class="string">''</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(selector.charAt(<span class="number">0</span>) !== <span class="string">"#"</span> &amp;&amp; selector.charAt(<span class="number">0</span>) !== <span class="string">"."</span>)&#123; <span class="comment">// åªéœ€è¦åˆ¤æ–­é€‰æ‹©å™¨å¼€å¤´æ˜¯ä¸æ˜¯ é id é€‰æ‹©å™¨æ ‡è¯†ç¬¦ # æˆ–è€… class é€‰æ‹©å™¨æ ‡è¯†ç¬¦ .</span></span><br><span class="line">    <span class="keyword">if</span> (element.tagName === selector) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å¤„ç†å¤š class é€‰æ‹©å™¨æƒ…å†µ</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">match</span>(<span class="params">element, selector</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// some code ...</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> regClass = <span class="regexp">/(\.\w+)+/g</span></span><br><span class="line">  <span class="keyword">let</span> resClass = selector.match(regClass)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// some code ...</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (resClass) &#123;</span><br><span class="line">    <span class="keyword">let</span> resClassArr = [] <span class="comment">// style class selectoræ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; resClass.length; i ++) &#123; <span class="comment">// å¤„ç† .cls1#id.cls2 åŒ¹é…å‡ºæ¥ [".cls1", ".cls2"] æƒ…å†µ</span></span><br><span class="line">      <span class="keyword">let</span> tempArr = resClass[i].split(<span class="string">'.'</span>)	      <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt; tempArr.length; j ++) &#123; <span class="comment">// ç´¢å¼•ä»1å¼€å§‹ï¼Œå› ä¸º ["", "cls1", "cls2"]</span></span><br><span class="line">        resClassArr.push(tempArr[j])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> classAttr = element.attributes.filter(<span class="function"><span class="params">attr</span> =&gt;</span> attr.name === <span class="string">"class"</span>)</span><br><span class="line">    <span class="keyword">let</span> classAttrRes = []</span><br><span class="line">    <span class="comment">// å…ƒç´  attr class æ•°ç»„ï¼ŒclassAttr:  [ &#123; name: 'class', value: 'c2 c3' &#125; ]</span></span><br><span class="line">    <span class="keyword">if</span> (classAttr &amp;&amp; classAttr[<span class="number">0</span>]) &#123;</span><br><span class="line">      classAttrRes = classAttr[<span class="number">0</span>][<span class="string">"value"</span>].split(<span class="string">" "</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> tempFlag = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; resClassArr.length; i ++) &#123;</span><br><span class="line">      tempFlag = <span class="literal">false</span></span><br><span class="line">      <span class="keyword">let</span> k = <span class="number">0</span></span><br><span class="line">      <span class="keyword">for</span> (; k &lt; classAttrRes.length; k ++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (classAttrRes[k] === resClassArr[i]) &#123; <span class="comment">// æ‹¿ style class selector ä¸ element class attribute è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line">          tempFlag = <span class="literal">true</span></span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (!tempFlag &amp;&amp; k === classAttrRes.length) &#123; <span class="comment">// å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ï¼Œå¹¶ä¸”åŒ¹é…åˆ°æœ€åä¸€ä½</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// some code ...</span></span><br><span class="line">    </span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ€åæˆ‘ä»¬åˆ«å¿˜äº†ä¿®æ”¹ specificity çš„è®¡ç®—é€»è¾‘</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">specificity</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> p = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">  <span class="keyword">const</span> selectorParts = selector.split(<span class="string">" "</span>)</span><br><span class="line">  <span class="keyword">let</span> regClass = <span class="regexp">/(\.\w+)+/g</span></span><br><span class="line">  <span class="keyword">let</span> resClass = selector.match(regClass)</span><br><span class="line">  <span class="keyword">if</span> (resClass &amp;&amp; resClass.length) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; resClass.length; i ++) &#123;</span><br><span class="line">      <span class="keyword">let</span> tempArr = resClass[i].split(<span class="string">'.'</span>)</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt; tempArr.length; j ++) &#123;</span><br><span class="line">        p[<span class="number">2</span>] ++</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> part <span class="keyword">of</span> selectorParts) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> regId = <span class="regexp">/(#\w+)+/g</span></span><br><span class="line">    <span class="keyword">let</span> resId = part.match(regId)</span><br><span class="line">    <span class="keyword">if</span> (resId &amp;&amp; resId[<span class="number">0</span>].charAt(<span class="number">0</span>) == <span class="string">"#"</span>) &#123;</span><br><span class="line">      p[<span class="number">1</span>] += <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (part.charAt(<span class="number">0</span>) !== <span class="string">"#"</span> &amp;&amp; part.charAt(<span class="number">0</span>) !== <span class="string">"."</span>)&#123;</span><br><span class="line">      p[<span class="number">3</span>] += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'selector'</span>, selector)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'p'</span>, p)</span><br><span class="line">  <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ç”¨ä¾‹ä¸€</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">maaa</span>=<span class="string">a</span> &gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">		<span class="selector-id">#container</span>&#123;</span></span><br><span class="line"><span class="css">		  <span class="selector-tag">width</span><span class="selector-pseudo">:500px</span>;</span></span><br><span class="line"><span class="css">		  <span class="selector-tag">height</span><span class="selector-pseudo">:300px</span>;</span></span><br><span class="line"><span class="css">		  <span class="selector-tag">display</span><span class="selector-pseudo">:flex</span>;</span></span><br><span class="line"><span class="css">		  <span class="selector-tag">background-color</span><span class="selector-pseudo">:rgb(255</span>,255,255);</span></span><br><span class="line">		&#125;</span><br><span class="line"><span class="css">		<span class="selector-id">#container</span> <span class="selector-id">#myid</span>&#123;</span></span><br><span class="line"><span class="css">			<span class="selector-tag">width</span><span class="selector-pseudo">:200px</span>;</span></span><br><span class="line"><span class="css">			<span class="selector-tag">height</span><span class="selector-pseudo">:100px</span>;</span></span><br><span class="line"><span class="css">			<span class="selector-tag">background-color</span><span class="selector-pseudo">:rgb(255</span>,0,0)</span></span><br><span class="line">		&#125;</span><br><span class="line"><span class="css">		<span class="selector-id">#container</span> <span class="selector-class">.c1</span>&#123;</span></span><br><span class="line"><span class="css">			<span class="selector-tag">flex</span><span class="selector-pseudo">:1</span>;</span></span><br><span class="line"><span class="css">			<span class="selector-tag">background-color</span><span class="selector-pseudo">:rgb(0</span>,255,0)</span></span><br><span class="line">		&#125;</span><br><span class="line"><span class="css">		<span class="selector-id">#container</span> <span class="selector-class">.c2</span><span class="selector-id">#myid</span><span class="selector-class">.c3</span>&#123;</span></span><br><span class="line"><span class="css">			<span class="selector-tag">width</span><span class="selector-pseudo">:200px</span>;</span></span><br><span class="line"><span class="css">			<span class="selector-tag">height</span><span class="selector-pseudo">:100px</span>;</span></span><br><span class="line"><span class="css">			<span class="selector-tag">background-color</span><span class="selector-pseudo">:rgb(0</span>,0,255)</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myid"</span> <span class="attr">class</span>=<span class="string">"c2 c3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œæˆªå›¾<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/4d585e3777f3371a9fd976dce2698bc6163838.png" alt="è¿è¡Œæˆªå›¾"></li>
</ul>
</li>
<li>css specificity è®¡ç®—æˆªå›¾<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/8566a8d6a4fcb229b6a1005946fd686647911.png" alt="css specificity è®¡ç®—æˆªå›¾"></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>æµ‹è¯•ç”¨ä¾‹äºŒ</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;html maaa=a &gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">	  &lt;style&gt;</span><br><span class="line">		#container&#123;</span><br><span class="line">		  width:<span class="number">500</span>px;</span><br><span class="line">		  height:<span class="number">300</span>px;</span><br><span class="line">		  display:flex;</span><br><span class="line">		  background-color:rgb(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		#container #myid&#123;</span><br><span class="line">			width:<span class="number">200</span>px;</span><br><span class="line">			height:<span class="number">100</span>px;</span><br><span class="line">			background-color:rgb(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		#container .c1&#123;</span><br><span class="line">			flex:<span class="number">1</span>;</span><br><span class="line">			background-color:rgb(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		#container.wrapper .c3.c2&#123;</span><br><span class="line">			width:<span class="number">200</span>px;</span><br><span class="line">			height:<span class="number">100</span>px;</span><br><span class="line">			background-color:rgb(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp">	&lt;/</span>head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">	  &lt;div id=<span class="string">"container"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"wrapper"</span>&gt;</span><br><span class="line">	    &lt;div id=<span class="string">"myid"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"c2 c3"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">	    &lt;div class="c1"&gt;&lt;/</span>div&gt;</span><br><span class="line">	  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">	&lt;/</span>body&gt;</span><br><span class="line">   &lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œæˆªå›¾<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/c73ede6bb822726ff171e2b7dbaa5fdb156331.png" alt="è¿è¡Œæˆªå›¾"></li>
</ul>
</li>
<li>css specificity è®¡ç®—æˆªå›¾<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/af1f074f1e418a539ce900efdfa3498a44257.png" alt="css specificity è®¡ç®—æˆªå›¾"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li><a href="https://github.com/Ele-Peng/toy-browser" target="_blank" rel="noopener">å®Œæ•´ä»£ç åœ°å€-ç‚¹å‡»ä¸€ä¸‹</a></li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML-XMLä¸SGMLï¼ŒDOM &amp; CSSOM</title>
    <url>/2020/06/06/HTML-XML%E4%B8%8ESGML/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>


<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>æ°¸ä¸å†é¸½ï¼Œæ˜¯ä¸å¯èƒ½çš„</li>
<li>è¡¥åˆ°ç¬¬äºŒå¤©çš„ 12:37</li>
</ul>
<a id="more"></a>

<h2 id="HTML-çš„å®šä¹‰ï¼šXML-ä¸-SGML"><a href="#HTML-çš„å®šä¹‰ï¼šXML-ä¸-SGML" class="headerlink" title="HTML çš„å®šä¹‰ï¼šXML ä¸ SGML"></a>HTML çš„å®šä¹‰ï¼šXML ä¸ SGML</h2><h3 id="DTD-ä¸-XML-namespace"><a href="#DTD-ä¸-XML-namespace" class="headerlink" title="DTD ä¸ XML namespace"></a>DTD ä¸ XML namespace</h3><ul>
<li><a href="https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd" target="_blank" rel="noopener">https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd</a><ul>
<li><a href="https://www.w3.org/TR/xhtml1/DTD/xhtml-lat1.ent" target="_blank" rel="noopener">https://www.w3.org/TR/xhtml1/DTD/xhtml-lat1.ent</a><ul>
<li>&amp;nbsp; \u00A0 â€œ â€œ (no-break space = non-breaking space)</li>
<li>&lt;!ENTITY nbsp    â€œ&amp;#160;â€&gt; &lt;!â€“ no-break space = non-breaking space, U+00A0 ISOnum â€“&gt;</li>
</ul>
</li>
<li><a href="https://www.w3.org/TR/xhtml1/DTD/xhtml-symbol.ent" target="_blank" rel="noopener">https://www.w3.org/TR/xhtml1/DTD/xhtml-symbol.ent</a> Mathematical, Greek and Symbolic characters for XHTML</li>
<li><a href="https://www.w3.org/TR/xhtml1/DTD/xhtml-special.ent" target="_blank" rel="noopener">https://www.w3.org/TR/xhtml1/DTD/xhtml-special.ent</a> Special characters for XHTML<ul>
<li>html å±æ€§ä¸­ä¸èƒ½ä½¿ç”¨ &quot;, éœ€è¦è½¬ä¹‰<ul>
<li>&lt;!ENTITY quot    â€œ&amp;#34;â€&gt; &lt;!â€“  quotation mark, U+0022 ISOnum â€“&gt; &quot;</li>
</ul>
</li>
<li>html ä¸­ä¸èƒ½ä½¿ç”¨ &amp;, éœ€è¦è½¬ä¹‰<ul>
<li>&lt;!ENTITY amp    â€œ&amp;#38;#38;â€&gt; &lt;!â€“  ampersand, U+0026 ISOnum â€“&gt; &amp;</li>
</ul>
</li>
<li>html ä¸­ä¸èƒ½ä½¿ç”¨ &lt;, éœ€è¦è½¬ä¹‰<ul>
<li>&lt;!ENTITY lt    â€œ&amp;#38;#60;â€&gt; &lt;!â€“  less-than sign, U+003C ISOnum â€“&gt; &lt;</li>
</ul>
</li>
<li>html ä¸­ä¸èƒ½ä½¿ç”¨ &gt;, éœ€è¦è½¬ä¹‰<ul>
<li>&lt;!ENTITY gt    â€œ&amp;#62;â€&gt; &lt;!â€“  greater-than sign, U+003E ISOnum â€“&gt; &gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="http://www.w3.org/1999/xhtml" target="_blank" rel="noopener">http://www.w3.org/1999/xhtml</a></li>
</ul>
<h2 id="HTML-æ ‡ç­¾-è¯­ä¹‰"><a href="#HTML-æ ‡ç­¾-è¯­ä¹‰" class="headerlink" title="HTML æ ‡ç­¾ - è¯­ä¹‰"></a>HTML æ ‡ç­¾ - è¯­ä¹‰</h2><h3 id="ä¸º-wiki-ç¼–å†™-HTML"><a href="#ä¸º-wiki-ç¼–å†™-HTML" class="headerlink" title="ä¸º wiki ç¼–å†™ HTML"></a>ä¸º wiki ç¼–å†™ HTML</h3><ul>
<li><a href="http://static001.geekbang.org/static/time/quote/World_Wide_Web-Wikipedia.html" target="_blank" rel="noopener">ç¤ºä¾‹ wiki</a></li>
</ul>
<h2 id="HTML-è¯­æ³•"><a href="#HTML-è¯­æ³•" class="headerlink" title="HTML - è¯­æ³•"></a>HTML - è¯­æ³•</h2><h3 id="åˆæ³•å…ƒç´ "><a href="#åˆæ³•å…ƒç´ " class="headerlink" title="åˆæ³•å…ƒç´ "></a>åˆæ³•å…ƒç´ </h3><ul>
<li>Element: &lt;tagname&gt;â€¦&lt;/tagname&gt;</li>
<li>Text: text</li>
<li>Comment: &lt;!â€“ comments â€“&gt;</li>
<li>DocumentType: <!Doctype html></li>
<li>ProcessingInstruction: <?a 1?> <ul>
<li>é¢„å¤„ç†</li>
</ul>
</li>
<li>CDATA: <![CDATA[]]></li>
</ul>
<h3 id="å­—ç¬¦å¼•ç”¨"><a href="#å­—ç¬¦å¼•ç”¨" class="headerlink" title="å­—ç¬¦å¼•ç”¨"></a>å­—ç¬¦å¼•ç”¨</h3><ul>
<li>&amp;#160; &amp;nbsp;</li>
<li>&amp;amp;</li>
<li>&amp;lt;</li>
<li>&amp;gt;</li>
<li>&amp;quot;</li>
</ul>
<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><h3 id="å¯¼èˆªç±»æ“ä½œ"><a href="#å¯¼èˆªç±»æ“ä½œ" class="headerlink" title="å¯¼èˆªç±»æ“ä½œ"></a>å¯¼èˆªç±»æ“ä½œ</h3><ul>
<li>parentNode</li>
<li>childNodes<ul>
<li>living collection ä¼šè¢«å®æ—¶ä¿®æ”¹</li>
</ul>
</li>
<li>firstChild</li>
<li>lastChild</li>
<li>nextSibling</li>
<li>previousSibling</li>
</ul>
<h3 id="ä¿®æ”¹æ“ä½œ"><a href="#ä¿®æ”¹æ“ä½œ" class="headerlink" title="ä¿®æ”¹æ“ä½œ"></a>ä¿®æ”¹æ“ä½œ</h3><ul>
<li>æ‰€æœ‰çš„ DOM é»˜è®¤æœ‰ä¸”åªæœ‰ä¸€ä¸ªçˆ¶å…ƒç´ <ul>
<li>ä¸èƒ½è¢«ä¸¤æ¬¡æ’å…¥ DOM æ ‘ä¸­ã€‚</li>
<li>å°†ä¸€ä¸ª DOM å…ƒç´ ï¼Œæ’å…¥åˆ° a ä½ç½®ï¼Œå†è°ƒç”¨æ’å…¥åˆ° b ä½ç½®ï¼Œä¼šé»˜è®¤çš„å…ˆä» a ä½ç½® remove å‡ºæ¥</li>
<li><img src="http://p1.meituan.net/myvideodistribute/fa6ba8388663f1d63bc4d062f05c7da8276923.png" alt="ChildNodes living collection"></li>
</ul>
</li>
<li>appendChild</li>
<li>insertBefore</li>
<li>removeChild</li>
<li>replaceChild</li>
</ul>
<h3 id="é«˜çº§æ“ä½œ"><a href="#é«˜çº§æ“ä½œ" class="headerlink" title="é«˜çº§æ“ä½œ"></a>é«˜çº§æ“ä½œ</h3><ul>
<li>compareDocumentPosition æ˜¯ä¸€ä¸ªç”¨äºæ¯”è¾ƒä¸¤ä¸ªèŠ‚ç‚¹ä¸­å…³ç³»çš„å‡½æ•°</li>
<li>contains æ£€æŸ¥ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªèŠ‚ç‚¹çš„å‡½æ•°</li>
<li>isEqualNode æ£€æŸ¥ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦å®Œå…¨ç›¸åŒ</li>
<li>isSameNode æ£€æŸ¥ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå®é™…ä¸Šåœ¨ JS ä¸­å¯ä»¥ç”¨ ===</li>
<li>cloneNode å¤åˆ¶ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœä¼ å…¥å‚æ•° trueï¼Œåˆ™ä¼šè¿åŒå­å…ƒç´ åšæ·±æ‹·è´</li>
</ul>
<h2 id="Event-å†’æ³¡ä¸æ•è·"><a href="#Event-å†’æ³¡ä¸æ•è·" class="headerlink" title="Event: å†’æ³¡ä¸æ•è·"></a>Event: å†’æ³¡ä¸æ•è·</h2><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener" target="_blank" rel="noopener">addEventListener MDN</a></li>
<li><img src="http://p0.meituan.net/myvideodistribute/46f706af50150735f325d6b6c7ac7c77150662.png" alt="å†’æ³¡ä¸æ•è·"></li>
</ul>
<h2 id="Range-API"><a href="#Range-API" class="headerlink" title="Range API"></a>Range API</h2><h4 id="æŠŠä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰å­å…ƒç´ é€†åº"><a href="#æŠŠä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰å­å…ƒç´ é€†åº" class="headerlink" title="æŠŠä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰å­å…ƒç´ é€†åº"></a>æŠŠä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰å­å…ƒç´ é€†åº</h4><h3 id="Range-ç”¨æ³•"><a href="#Range-ç”¨æ³•" class="headerlink" title="Range ç”¨æ³•"></a>Range ç”¨æ³•</h3><ul>
<li>var range = new Range()</li>
<li>range.setStart(element, 9)</li>
<li>range.setEnd(element, 4)</li>
<li>var range = document.getSelection().getRangeAt(0)</li>
<li>var fragment = range.extractContents()</li>
<li>range.insertNode(document.createTextNode(â€œaaaâ€))</li>
</ul>
<h3 id="Range-API-1"><a href="#Range-API-1" class="headerlink" title="Range API"></a>Range API</h3><ul>
<li>range.setStartBefore</li>
<li>range.setEndBefore</li>
<li>range.setStartAfter</li>
<li>range.setEndAfter</li>
<li>range.selectNode</li>
<li>range.selectNodeContents</li>
<li>ç»“è®ºï¼šrange æ›´ä¸ºç²¾ç»†æ“ä½œ DOMï¼Œæ‰¹é‡æ“ä½œ DOM</li>
</ul>
<h2 id="CSSOM"><a href="#CSSOM" class="headerlink" title="CSSOM"></a>CSSOM</h2><h3 id="document-styleSheets"><a href="#document-styleSheets" class="headerlink" title="document.styleSheets"></a>document.styleSheets</h3><ul>
<li>document.styleSheets</li>
<li>æ¡ˆä¾‹</li>
</ul>
<h3 id="Rules"><a href="#Rules" class="headerlink" title="Rules"></a>Rules</h3><ul>
<li>document.styleSheets[0].cssRules</li>
<li>document.styleSheets[0].insertRule(â€œp{color: pink;}â€, 0)</li>
<li>document.styleSheets[0].removeRule(0)</li>
</ul>
<h3 id="Rule"><a href="#Rule" class="headerlink" title="Rule"></a>Rule</h3><ul>
<li>CSSStyleRule<ul>
<li>selectorText String</li>
<li>style k-v ç»“æ„</li>
</ul>
</li>
<li>CSSCharsetRule</li>
<li>CSSImportRule</li>
<li>CSSMediaRule</li>
<li>CSSFontFaceRule</li>
<li>CSSPageRule</li>
<li>CSSNamespaceRule</li>
<li>CSSKeyframesRule</li>
<li>CSSKeyframeRule</li>
<li>CSSSupportRule</li>
<li>â€¦</li>
</ul>
<h3 id="getComputedStyle"><a href="#getComputedStyle" class="headerlink" title="getComputedStyle"></a>getComputedStyle</h3><ul>
<li>window.getComputedStyle(elt, pseudoElt)<ul>
<li>elt æƒ³è¦è·å–çš„å…ƒç´ </li>
<li>pseudoElt å¯é€‰ï¼Œä¼ªå…ƒç´ </li>
</ul>
</li>
</ul>
<h3 id="CSSOM-View"><a href="#CSSOM-View" class="headerlink" title="CSSOM View"></a>CSSOM View</h3><h4 id="çª—å£API"><a href="#çª—å£API" class="headerlink" title="çª—å£API"></a>çª—å£API</h4><p>çª—å£ API ç”¨äºæ“ä½œæµè§ˆå™¨çª—å£çš„ä½ç½®ã€å°ºå¯¸ç­‰</p>
<ul>
<li>moveTo(x, y) çª—å£ç§»åŠ¨åˆ°å±å¹•çš„ç‰¹å®šåæ ‡ï¼›</li>
<li>moveBy(x, y) çª—å£ç§»åŠ¨ç‰¹å®šè·ç¦»ï¼›</li>
<li>resizeTo(x, y) æ”¹å˜çª—å£å¤§å°åˆ°ç‰¹å®šå°ºå¯¸ï¼›</li>
<li>resizeBy(x, y) æ”¹å˜çª—å£å¤§å°ç‰¹å®šå°ºå¯¸ã€‚</li>
<li>open()</li>
</ul>
<pre><code><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> childWindow = <span class="built_in">window</span>.open(<span class="string">"about:blank"</span>, <span class="string">"_blank"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> childWindow = <span class="built_in">window</span>.open(<span class="string">"about:blank"</span>, <span class="string">"_blank"</span>, <span class="string">"width=100,height=100,left=100,top=100"</span>)</span><br><span class="line"></span><br><span class="line">childWindow.moveBy(<span class="number">-50</span>, <span class="number">-50</span>)</span><br><span class="line"></span><br><span class="line">childWindow.resizeBy(<span class="number">50</span>, <span class="number">50</span>)</span><br></pre></td></tr></table></figure></code></pre><h4 id="æ»šåŠ¨API"><a href="#æ»šåŠ¨API" class="headerlink" title="æ»šåŠ¨API"></a>æ»šåŠ¨API</h4><p>è§†å£æ»šåŠ¨ API(å¯è§†åŒºåŸŸï¼Œç”± window å¯¹è±¡æ“ä½œ)</p>
<ul>
<li>scrollX æ˜¯è§†å£çš„å±æ€§ï¼Œè¡¨ç¤º X æ–¹å‘ä¸Šçš„å½“å‰æ»šåŠ¨è·ç¦»ï¼Œæœ‰åˆ«å pageXOffsetï¼›</li>
<li>scrollY æ˜¯è§†å£çš„å±æ€§ï¼Œè¡¨ç¤º Y æ–¹å‘ä¸Šçš„å½“å‰æ»šåŠ¨è·ç¦»ï¼Œæœ‰åˆ«å pageYOffsetï¼›</li>
<li>scroll(x, y) ä½¿å¾—é¡µé¢æ»šåŠ¨åˆ°ç‰¹å®šçš„ä½ç½®ï¼Œæœ‰åˆ«å scrollToï¼Œæ”¯æŒä¼ å…¥é…ç½®å‹å‚æ•° {top, left}ï¼›</li>
<li>scrollBy(x, y) ä½¿å¾—é¡µé¢æ»šåŠ¨ç‰¹å®šçš„è·ç¦»ï¼Œæ”¯æŒä¼ å…¥é…ç½®å‹å‚æ•° {top, left}ã€‚</li>
</ul>
<p>å…ƒç´ æ»šåŠ¨ API(å…ƒç´ æ»šåŠ¨ APIï¼Œåœ¨ Element ç±»ä¸Š)</p>
<ul>
<li>scrollTop å…ƒç´ çš„å±æ€§ï¼Œè¡¨ç¤º Y æ–¹å‘ä¸Šçš„å½“å‰æ»šåŠ¨è·ç¦»ã€‚</li>
<li>scrollLeft å…ƒç´ çš„å±æ€§ï¼Œè¡¨ç¤º X æ–¹å‘ä¸Šçš„å½“å‰æ»šåŠ¨è·ç¦»ã€‚</li>
<li>scrollWidth å…ƒç´ çš„å±æ€§ï¼Œè¡¨ç¤ºå…ƒç´ å†…éƒ¨çš„æ»šåŠ¨å†…å®¹çš„å®½åº¦ï¼Œä¸€èˆ¬æ¥è¯´ä¼šå¤§äºç­‰äºå…ƒç´ å®½åº¦ã€‚</li>
<li>scrollHeight å…ƒç´ çš„å±æ€§ï¼Œè¡¨ç¤ºå…ƒç´ å†…éƒ¨çš„æ»šåŠ¨å†…å®¹çš„é«˜åº¦ï¼Œä¸€èˆ¬æ¥è¯´ä¼šå¤§äºç­‰äºå…ƒç´ é«˜åº¦ã€‚</li>
<li>scroll(x, y) ä½¿å¾—å…ƒç´ æ»šåŠ¨åˆ°ç‰¹å®šçš„ä½ç½®ï¼Œæœ‰åˆ«å scrollToï¼Œæ”¯æŒä¼ å…¥é…ç½®å‹å‚æ•° {top, left}ã€‚scrollBy(x, y) ä½¿å¾—å…ƒç´ æ»šåŠ¨åˆ°ç‰¹å®šçš„ä½ç½®ï¼Œæ”¯æŒä¼ å…¥é…ç½®å‹å‚æ•° {top, left}ã€‚</li>
<li>scrollIntoView(arg) æ»šåŠ¨å…ƒç´ æ‰€åœ¨çš„çˆ¶å…ƒç´ ï¼Œä½¿å¾—å…ƒç´ æ»šåŠ¨åˆ°å¯è§åŒºåŸŸï¼Œå¯ä»¥é€šè¿‡ arg æ¥æŒ‡å®šæ»šåˆ°ä¸­é—´ã€å¼€å§‹æˆ–è€…å°±è¿‘ã€‚</li>
</ul>
<pre><code><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.scroll(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.scroll(<span class="number">0</span>, <span class="number">50</span>) <span class="comment">// æ»šåŠ¨è‡³ (0, 50)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.scrollBy(<span class="number">0</span>, <span class="number">50</span>) <span class="comment">// æ»šåŠ¨ç»å¯¹å€¼</span></span><br></pre></td></tr></table></figure></code></pre><h4 id="å¸ƒå±€API"><a href="#å¸ƒå±€API" class="headerlink" title="å¸ƒå±€API"></a>å¸ƒå±€API</h4><p>å…¨å±€å°ºå¯¸ä¿¡æ¯</p>
<ul>
<li>window.innerHeight, window.innerWidth è¿™ä¸¤ä¸ªå±æ€§è¡¨ç¤ºè§†å£çš„å¤§å°ã€‚</li>
<li>window.outerWidth, window.outerHeight è¿™ä¸¤ä¸ªå±æ€§è¡¨ç¤ºæµè§ˆå™¨çª—å£å æ®çš„å¤§å°ï¼Œå¾ˆå¤šæµè§ˆå™¨æ²¡æœ‰å®ç°ï¼Œä¸€èˆ¬æ¥è¯´è¿™ä¸¤ä¸ªå±æ€§æ— å…³ç´§è¦ã€‚</li>
<li>window.devicePixelRatio è¿™ä¸ªå±æ€§éå¸¸é‡è¦ï¼Œè¡¨ç¤ºç‰©ç†åƒç´ å’Œ CSS åƒç´ å•ä½çš„å€ç‡å…³ç³»ï¼ŒRetina å±è¿™ä¸ªå€¼æ˜¯ 2ï¼Œåæ¥ä¹Ÿå‡ºç°äº†ä¸€äº› 3 å€çš„ Android å±ã€‚</li>
<li>window.screen ï¼ˆå±å¹•å°ºå¯¸ç›¸å…³çš„ä¿¡æ¯ï¼‰<ul>
<li>window.screen.width, window.screen.height è®¾å¤‡çš„å±å¹•å°ºå¯¸ã€‚</li>
<li>window.screen.availWidth, window.screen.availHeight è®¾å¤‡å±å¹•çš„å¯æ¸²æŸ“åŒºåŸŸå°ºå¯¸ï¼Œä¸€äº› Android æœºå™¨ä¼šæŠŠå±å¹•çš„ä¸€éƒ¨åˆ†é¢„ç•™åšå›ºå®šæŒ‰é’®ï¼Œæ‰€ä»¥æœ‰è¿™ä¸¤ä¸ªå±æ€§ï¼Œå®é™…ä¸Šä¸€èˆ¬æµè§ˆå™¨ä¸ä¼šå®ç°çš„è¿™ä¹ˆç»†è‡´ã€‚</li>
<li>window.screen.colorDepth, window.screen.pixelDepth è¿™ä¸¤ä¸ªå±æ€§æ˜¯å›ºå®šå€¼ 24ï¼Œåº”è¯¥æ˜¯ä¸ºäº†ä»¥åé¢„ç•™ã€‚</li>
</ul>
</li>
</ul>
<p>å…ƒç´ çš„å¸ƒå±€ä¿¡æ¯</p>
<ul>
<li>getClientRects(),ä¼šè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œé‡Œé¢åŒ…å«å…ƒç´ å¯¹åº”çš„æ¯ä¸€ä¸ªç›’æ‰€å æ®çš„å®¢æˆ·ç«¯çŸ©å½¢åŒºåŸŸï¼Œè¿™é‡Œæ¯ä¸€ä¸ªçŸ©å½¢åŒºåŸŸå¯ä»¥ç”¨ x, y, width, height æ¥è·å–å®ƒçš„ä½ç½®å’Œå°ºå¯¸;</li>
<li>getBoundingClientRect(),å®ƒè¿”å›å…ƒç´ å¯¹åº”çš„æ‰€æœ‰ç›’çš„åŒ…è£¹çš„çŸ©å½¢åŒºåŸŸï¼Œéœ€è¦æ³¨æ„ï¼Œè¿™ä¸ª API è·å–çš„åŒºåŸŸä¼šåŒ…æ‹¬å½“ overflow ä¸º visible æ—¶çš„å­å…ƒç´ åŒºåŸŸã€‚</li>
</ul>
<pre><code><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">getClientRects() <span class="comment">// ä¼ªå…ƒç´ ä¸ä¼šè¢«è®¡å…¥</span></span><br><span class="line"></span><br><span class="line">getBoundingClientRect()</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.innerHeight</span><br><span class="line"><span class="comment">// ç­‰åŒäº document.documentElement.getBoundingClientRect().height</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.innerWidth</span><br><span class="line"><span class="comment">// ç­‰åŒäº document.documentElement.getBoundingClientRect().width</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.outerHeight</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.outerWidth</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.devicePixelRatio</span><br></pre></td></tr></table></figure></code></pre><h2 id="æ‰€æœ‰-API"><a href="#æ‰€æœ‰-API" class="headerlink" title="æ‰€æœ‰ API"></a>æ‰€æœ‰ API</h2><ul>
<li><a href="https://github.com/Ele-Peng/toy-browser/blob/master/html-apis.html" target="_blank" rel="noopener">å®Œæ•´ä»£ç -ç‚¹å‡»ä¸€ä¸‹</a></li>
<li><a href="https://github.com/Ele-Peng/Frontend-01-Template/blob/master/week10/WebAPI.xmind" target="_blank" rel="noopener">Web APIs</a></li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://github.com/yangdengcheng/Frontend-01-Template/blob/master/week10/NOTE.md" target="_blank" rel="noopener">æ¨ç™»ç¨‹ CSSOM Note</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>OOP-é¢å‘å¯¹è±¡</title>
    <url>/2020/04/09/OOP-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>æ˜¨å¤© Mentor è¯´ä»¥åè¦å¼€å§‹ç”¨ React Hooksï¼ˆæˆ‘è¿˜æ²¡æœ‰æ¶‰è¶³ ï¼‰å†™ç‚¹ä¸œè¥¿ï¼Œè¿›è€Œè°ˆè®ºåˆ° React ç”Ÿæ€ä¸€ç›´æƒ³æ¨å±•å¼€æ¥çš„çš„å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼Œæˆ‘ä¸ç”±å¾—æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼šéƒ½è¯´ Javascript ä¸æ˜¯å…¸å‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒå¹¶ä¸å…·å¤‡å®Œæ•´çš„ OOP è¯¥æœ‰çš„ç‰¹æ€§ï¼Œå®ƒè™½å¼•è¿›äº† class è¯­æ³•ç³–ï¼Œä½†åªæ˜¯è®©å¯¹è±¡åŸå‹å†™æ³•æ›´åŠ åƒé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€çš„å†™æ³•ï¼Œé‚£é¢å‘å¯¹è±¡åˆ°åº•å¯ä»¥ç†è§£ä¸ºä»€ä¹ˆ ? ğŸ¤” ä»¥åŠå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³åœ¨æ¨ä»€ä¹ˆï¼ŸJavascript å®šä½ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>ç®€å•è®°å½•ä¸€ä¸‹è‡ªå·±å…³äºè¿™ä¸ªé—®é¢˜çš„æ€è€ƒ<a id="more"></a>

</li>
</ul>
<h2 id="OOP-Wikipedia"><a href="#OOP-Wikipedia" class="headerlink" title="OOP Wikipedia"></a>OOP Wikipedia</h2><h3 id="æ¢è®¨çš„æ˜¯é¢å‘å¯¹è±¡"><a href="#æ¢è®¨çš„æ˜¯é¢å‘å¯¹è±¡" class="headerlink" title="æ¢è®¨çš„æ˜¯é¢å‘å¯¹è±¡"></a>æ¢è®¨çš„æ˜¯é¢å‘å¯¹è±¡</h3><h4 id="å¯¹è±¡çš„è‡ªç„¶å®šä¹‰"><a href="#å¯¹è±¡çš„è‡ªç„¶å®šä¹‰" class="headerlink" title="å¯¹è±¡çš„è‡ªç„¶å®šä¹‰"></a>å¯¹è±¡çš„è‡ªç„¶å®šä¹‰</h4><ul>
<li>åœ¨ã€Šé¢å‘å¯¹è±¡åˆ†æä¸è®¾è®¡ã€‹è¿™æœ¬ä¹¦ä¸­ï¼ŒGrady Booch æ›¿æˆ‘ä»¬åšäº†æ€»ç»“ï¼Œä»–è®¤ä¸ºï¼Œä»äººç±»çš„è®¤çŸ¥è§’åº¦æ¥è¯´ï¼Œå¯¹è±¡åº”è¯¥æ˜¯ä¸‹åˆ—äº‹ç‰©ä¹‹ä¸€ï¼š<ul>
<li>ä¸€ä¸ªå¯ä»¥è§¦æ‘¸æˆ–è€…å¯ä»¥çœ‹è§çš„ä¸œè¥¿ï¼›</li>
<li>äººçš„æ™ºåŠ›å¯ä»¥ç†è§£çš„ä¸œè¥¿ï¼›</li>
<li>å¯ä»¥æŒ‡å¯¼æ€è€ƒæˆ–è¡ŒåŠ¨ï¼ˆè¿›è¡Œæƒ³è±¡æˆ–æ–½åŠ åŠ¨ä½œï¼‰çš„ä¸œè¥¿ã€‚</li>
</ul>
</li>
<li>æœ‰äº†å¯¹è±¡çš„è‡ªç„¶å®šä¹‰åï¼Œæˆ‘ä»¬å°±å¯ä»¥æè¿°ç¼–ç¨‹è¯­è¨€ä¸­çš„å¯¹è±¡äº†ã€‚åœ¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œè®¾è®¡è€…ä¹Ÿåˆ©ç”¨å„ç§ä¸åŒçš„è¯­è¨€ç‰¹æ€§æ¥æŠ½è±¡æè¿°å¯¹è±¡ï¼Œæœ€ä¸ºæˆåŠŸçš„æµæ´¾æ˜¯ä½¿ç”¨â€œç±»â€çš„æ–¹å¼æ¥æè¿°å¯¹è±¡ï¼Œè¿™è¯ç”Ÿäº†è¯¸å¦‚ C++ã€Java ç­‰æµè¡Œçš„ç¼–ç¨‹è¯­è¨€ã€‚</li>
<li>è€Œ JavaScript æ—©å¹´å´é€‰æ‹©äº†ä¸€ä¸ªæ›´ä¸ºå†·é—¨çš„æ–¹å¼ï¼šåŸå‹</li>
</ul>
<blockquote>
<p>â€œåŸºäºç±»â€å¹¶éé¢å‘å¯¹è±¡çš„å”¯ä¸€å½¢æ€</p>
</blockquote>
<h4 id="å¯¹è±¡çš„æœ¬è´¨ç‰¹å¾"><a href="#å¯¹è±¡çš„æœ¬è´¨ç‰¹å¾" class="headerlink" title="å¯¹è±¡çš„æœ¬è´¨ç‰¹å¾"></a>å¯¹è±¡çš„æœ¬è´¨ç‰¹å¾</h4><ul>
<li>å¯¹è±¡çš„æœ¬è´¨ç‰¹å¾ï¼ˆå‚è€ƒ Grandy Boochã€Šé¢å‘å¯¹è±¡åˆ†æä¸è®¾è®¡ã€‹ï¼‰ã€‚æ€»ç»“æ¥çœ‹ï¼Œå¯¹è±¡æœ‰å¦‚ä¸‹å‡ ä¸ªç‰¹ç‚¹ã€‚<ul>
<li>å¯¹è±¡å…·æœ‰å”¯ä¸€æ ‡è¯†æ€§ï¼š</li>
<li>å³ä½¿å®Œå…¨ç›¸åŒçš„ä¸¤ä¸ªå¯¹è±¡ï¼Œä¹Ÿå¹¶éåŒä¸€ä¸ªå¯¹è±¡ã€‚</li>
<li>å¯¹è±¡æœ‰çŠ¶æ€ï¼šå¯¹è±¡å…·æœ‰çŠ¶æ€ï¼ŒåŒä¸€å¯¹è±¡å¯èƒ½å¤„äºä¸åŒçŠ¶æ€ä¹‹ä¸‹ã€‚å¯¹è±¡å…·æœ‰è¡Œä¸ºï¼šå³å¯¹è±¡çš„çŠ¶æ€ï¼Œå¯èƒ½å› ä¸ºå®ƒçš„è¡Œä¸ºäº§ç”Ÿå˜è¿ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>JavaScript ä¸­å¯¹è±¡ç‹¬æœ‰çš„ç‰¹è‰²æ˜¯ï¼šå¯¹è±¡å…·æœ‰é«˜åº¦çš„åŠ¨æ€æ€§ï¼Œè¿™æ˜¯å› ä¸º JavaScript èµ‹äºˆäº†ä½¿ç”¨è€…åœ¨è¿è¡Œæ—¶ä¸ºå¯¹è±¡æ·»æ”¹çŠ¶æ€å’Œè¡Œä¸ºçš„èƒ½åŠ›ã€‚</p>
</blockquote>
<h3 id="æˆ‘ä»¬å¯ä»¥æƒ³æƒ³ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å°è£…æˆå¯¹è±¡ï¼Ÿ"><a href="#æˆ‘ä»¬å¯ä»¥æƒ³æƒ³ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å°è£…æˆå¯¹è±¡ï¼Ÿ" class="headerlink" title="æˆ‘ä»¬å¯ä»¥æƒ³æƒ³ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å°è£…æˆå¯¹è±¡ï¼Ÿ"></a>æˆ‘ä»¬å¯ä»¥æƒ³æƒ³ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å°è£…æˆå¯¹è±¡ï¼Ÿ</h3><ul>
<li><p>æˆ‘çš„ç†è§£æ˜¯ï¼šæˆ‘ä»¬éœ€è¦å‡å°‘æˆ‘ä»¬çš„æ“ä½œç²’åº¦ï¼Œæ¯ä¸ªæ“ä½œéƒ½å»è½å®åˆ° bit æ•°æ®æ˜¯éå¸¸åºå¤§çš„ï¼Œå‡å°‘é—®é¢˜æ±‚è§£å¤æ‚åº¦</p>
</li>
<li><p>wiki ä¸Šå…³äº object ç‰¹æ€§ä¹Ÿç»™åˆ°äº†æ”¯æŒ</p>
</li>
<li><p>A feature of objects is an objectâ€™s procedures that can <strong>access</strong> and <strong>often modify the data fields</strong> of the object with which they are associated (objects have a notion of â€œthisâ€ or â€œselfâ€).</p>
<ul>
<li><p>å¯ä»¥å’Œé¢å‘è¿‡ç¨‹ (Procedure Oriented) æ”¾åœ¨ä¸€èµ·è¯´ã€‚</p>
</li>
<li><p>é¦–å…ˆ OOP æ˜¯ä¸€ä¸ªå¾ˆè‡ªç„¶çš„æ€æƒ³ï¼Œåœ¨Cè¯­è¨€ä¸­ä¹Ÿèƒ½å†™å‡º<strong>ç¬¦åˆ</strong>é¢å‘å¯¹è±¡æ€æƒ³çš„ä»£ç </p>
  <figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Cè¯­è¨€ä¾‹å­</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> *name;  <span class="comment">//å§“å</span></span><br><span class="line">    <span class="keyword">int</span> num;  <span class="comment">//å­¦å·</span></span><br><span class="line">    <span class="keyword">int</span> age;  <span class="comment">//å¹´é¾„</span></span><br><span class="line">    <span class="keyword">char</span> group;  <span class="comment">//æ‰€åœ¨å­¦ä¹ å°ç»„</span></span><br><span class="line">    <span class="keyword">float</span> score;  <span class="comment">//æˆç»©</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">GetStudentName</span><span class="params">(struct Student* stu)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ç•¥</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SetStudentName</span><span class="params">(struct Student* stu, <span class="keyword">char</span>* newName)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ç•¥</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">s1</span>, <span class="title">s2</span>, <span class="title">s3</span>, <span class="title">s4</span>;</span> <span class="comment">// åˆ›å»ºäº†å¤šä¸ªå­¦ç”Ÿ</span></span><br><span class="line">    SetStudentName(&amp;s1, <span class="string">"å°æ˜"</span>);</span><br><span class="line">    SetStudentName(&amp;s2, <span class="string">"å°çº¢"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>å…¶æ¬¡ OOP é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œåœ¨åšä¸€ä»¶ä»€ä¹ˆäº‹æƒ…ï¼Ÿ</p>
<ul>
<li><p>åœ¨é¢å¯¹å¤æ‚æ€§ä¸šåŠ¡éœ€æ±‚ä¸­ï¼Œé¢å‘å¯¹è±¡æ€æƒ³å¯ä»¥å°†ä¸šåŠ¡å…ˆè¿›è¡Œåˆ†æï¼Œå¦‚æœä¸šåŠ¡éœ€æ±‚å…¨æ–°æ— å…³è”ï¼Œé‚£æˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨é‡Œé¢å°è£…å¯¹åº”çš„æ–¹æ³•ï¼›å¦‚æœä¸šåŠ¡éœ€æ±‚åªæ˜¯ä¸€æ¡å»¶å±•çº¿ï¼ˆæ¯”å¦‚ç‰¹å®šèŠ‚å‡æ—¥æ‰“æŠ˜ï¼‰ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ç»§æ‰¿ç°æœ‰å¯¹è±¡ï¼Œå¹¶å¯¹ç°æœ‰å¯¹è±¡çš„æŸäº›æ–¹æ³•ï¼ˆdiscountï¼‰ï¼Œè¿›è¡Œç‰¹å®šæ“ä½œï¼Œå³å¤šæ€ï¼šç”¨ç»Ÿä¸€çš„æ–¹æ³•å¯¹ä¸åŒçš„å¯¹è±¡è¿›è¡ŒåŒæ ·çš„æ“ä½œã€‚</p>
  <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">override</span> fun <span class="title">discount</span><span class="params">(price: Double)</span>: Double </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (!isCouple()) <span class="keyword">return</span> price</span><br><span class="line">       <span class="keyword">if</span> (price &gt; <span class="number">99</span>) &#123;</span><br><span class="line">           val lucky = Random().nextInt(gifts.<span class="built_in">size</span>)</span><br><span class="line">           <span class="built_in">println</span>(<span class="string">"Congratulations on getting $&#123;gifts[lucky]&#125;!"</span>)</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> price * <span class="number">0.77</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è€Œé¢å¯¹è¿™ç§é¢‘ç¹æ“ä½œæ•°æ®å•å…ƒçš„ä½¿ç”¨é¢å‘è¿‡ç¨‹ç¼–ç¨‹æ€æƒ³ï¼Œå¯èƒ½ä¼šåœ¨ç°æœ‰å¯¹è±¡åŠ ä¸Šåˆ¤æ–­ï¼Œä¸‡ä¸€èŠ‚å‡æ—¥è¿˜è¦åšå…¶ä»–çš„ä¸šåŠ¡ï¼Œåˆ¤æ–­åªä¼šè¶Šæ¥è¶Šå¤šã€‚è¿™å°±ä¸æˆ‘ä»¬ Nicklaus Wirth æå‡ºçš„ï¼š<strong>ç¨‹åº = æ•°æ®ç»“æ„ + ç®—æ³•</strong>ï¼Œè¶Šæ¥è¶Šå‰²è£‚ã€‚</li>
</ul>
</li>
<li><p>åœ¨æˆ‘ç°åœ¨çš„æµ…è–„æ€è€ƒçœ‹æ¥ï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³æ¯”è¾ƒå¹¿æ³›çš„ Object-based å®ç°æ˜¯æƒ³å…ˆè®©ä¸åŒå¯¹è±¡ä»¥å°½å¯èƒ½çš„ç»Ÿä¸€ç‰¹æ€§è¿›è¡Œå½’ç»„ï¼Œå½¢æˆâ€œå¤§å¯¹è±¡â€ï¼Œç„¶åå„ä¸ªå¯¹è±¡å˜æˆäº†è¿™ä¸ªå¤§å¯¹è±¡ä¸­è¡ç”Ÿå‡ºæ¥çš„åŸºç±»ï¼Œå¹¶åœ¨çˆ¶ç±»æ´¾ç”Ÿå‡ºæ¥çš„å¯¹è±¡ä¸­ï¼Œå»å®ç°å„è‡ªè§£å†³é—®é¢˜çš„å…·ä½“æ–¹æ³•ã€‚è¿™æ ·å½“æˆ‘ä»¬åœ¨æ‹¿åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨å»ç®¡å®ƒçš„å†…éƒ¨å®ç°ï¼Œæˆ‘ä»¬æ ¹æ®ç±»å‹å°±å¯ä»¥çŸ¥é“å®ƒèƒ½åšä»€ä¹ˆäº‹ï¼Œè¿™æ¯”æˆ‘ä»¬æ‰‹åŠ¨å»ä¸€æ­¥ä¸€æ­¥æ‰§è¡Œè¦å…ˆè¿›ç‚¹ã€‚<strong>è®©å¯¹è±¡æœ‰å¤šæ€æ€§ï¼ŒæŠŠä¸åŒå¯¹è±¡ä»¥åŒä¸€ç‰¹æ€§æ¥å½’ç»„ï¼Œç»Ÿä¸€å¤„ç†ã€‚è‡³äºæ‰€è°“ç»§æ‰¿ç­‰æ¦‚å¿µï¼Œæ˜¯å®ç°çš„ç»†èŠ‚</strong>ã€‚</p>
</li>
</ul>
</li>
</ul>
<h2 id="prototype-based-programming"><a href="#prototype-based-programming" class="headerlink" title="prototype-based programming"></a>prototype-based programming</h2><ul>
<li><p>Languages with abstract data type support which may be used to <strong>resemble OO programming</strong>, but <strong>without all features of object-orientation</strong>. This includes object-based and <strong>prototype-based languages</strong>. Examples: JavaScript, Lua, Modula-2, CLU.</p>
</li>
<li><p>The Document Object Model of HTML, XHTML, and XML documents on the Internet has bindings to the popular JavaScript/ECMAScript language. <strong>JavaScript is perhaps the best known prototype-based programming language, which employs cloning from prototypes rather than inheriting from a class (contrast to class-based programming)</strong>. </p>
</li>
<li><p>æˆ‘ä»¬åœ¨å¤§æ¦‚äº†è§£äº† OOP æ€æƒ³åï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­çœ‹çœ‹ OOPç¼–ç¨‹æ€æƒ³çš„å¦ä¸€ç§å®ç°â€œç±»OOPâ€â€“åŸºäºåŸå‹ç¼–ç¨‹ Javascript å®ç°</p>
</li>
<li><p>æˆ‘ä»¬å¯ä»¥å…ˆä» ECMA-262 è§„èŒƒä¸­æ‰¾åˆ°å…³äº Object çš„å®šä¹‰</p>
<ul>
<li>â€œObjects are created by using constructors in <strong>new expressions</strong>.â€</li>
<li>â€œEach constructor is a function that has a property named <strong>â€˜prototypeâ€™ that is used to implement prototype-based inheritance and shared properties</strong>.â€</li>
<li>â€œEvery object created by a constructor has an implicit reference (called the objectâ€™s prototype) to the value of its constructorâ€™s â€˜prototypeâ€™ property. Furthermore, a prototype may have a non-null implicit reference to its prototype, and so on; this is called the prototype chain. When a reference is made to a property in an object, that reference is to the property of that name in the first object in the prototype chain that contains a property of that name. In other words, first the object mentioned directly is examined for such a property; if that object contains the named property, that is the property to which the reference refers; if that object does not contain the named property, the prototype for that object is examined next; and so on.â€</li>
<li><img src="http://p0.meituan.net/myvideodistribute/54f432d1395e59da48e0e7935ffd7665110363.png" alt="ECMAåŸå‹é“¾"></li>
<li></li>
</ul>
</li>
<li><p>åŒæ—¶ Douglas Crockford å…³äº <a href="https://crockford.com/javascript/prototypal.html" target="_blank" rel="noopener">prototypal inheritance</a></p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">       F.prototype = o;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>â€œThe object function untangles JavaScriptâ€™s constructor pattern, achieving true prototypal inheritance. It takes an old object as a parameter and returns an empty new object that inherits from the old one. If we attempt to obtain a member from the new object, and it lacks that key, then the old object will supply the member. Objects inherit from objects.â€</li>
<li>â€œWhat could be more object oriented than that?â€ ğŸ˜</li>
</ul>
</li>
<li><p>ä¹Ÿæœ‰æ–°çš„å¯¹ Object çš„æ€è€ƒ</p>
<ul>
<li>â€œIn JavaScript, <strong>an object is an associative array</strong>, augmented with a prototype (see below); each string key provides the name for an object property, and there are two syntactical ways to specify such a name: dot notation (obj.x = 10) and bracket notation (obj[â€˜xâ€™] = 10). A property may be added, rebound, or deleted at run-time. Most properties of an object (and any property that belongs to an objectâ€™s prototype inheritance chain) can be enumerated using a forâ€¦in loop.â€</li>
</ul>
</li>
</ul>
<h2 id="Functional-programming"><a href="#Functional-programming" class="headerlink" title="Functional programming"></a>Functional programming</h2><ul>
<li>Functional programming has its origins in lambda calculus.It is a programming paradigm â€”- a style of building the structure and elements of computer programs â€“ that treats computation as the evaluation of mathematical functions and avoids changing-state and mutable data.</li>
<li>One of the key motivations for the development of functional programming is making a program easier to understand by eliminating changes in state that <strong>do not depend on function inputs</strong> which are called side effects.</li>
<li>side effects include modifying a non-local variable, modifying a static local variable, modifying a mutable argument passed by reference, performing I/O or calling other side-effect functions.</li>
<li>referential transparency<ul>
<li>the same language expression can result in different values at different times depending on the state of the executing program.</li>
<li>Consider C assignment statement x = x * 10, this changes the value assigned to the variable x. Let us say that the initial value of x was 1, then two consecutive evaluations of the variable x yields 10 and 100 respectively. Clearly, replacing x = x * 10 with either 10 or 100 gives a program with different meaning, and so the expression is not referentially transparent. In fact, assignment statements are never referentially transparent.</li>
<li>Absence of side effects is a necessary, but not sufficient, condition for referential transparency. <strong>Referential transparency means that an expression (such as a function call) can be replaced with its value</strong>. This requires that the expression is pure, that is to say the expression must be deterministic (always give the same value for the same input) and side-effect free.</li>
</ul>
</li>
</ul>
<h2 id="ä¸ªäººæ€»ç»“"><a href="#ä¸ªäººæ€»ç»“" class="headerlink" title="ä¸ªäººæ€»ç»“"></a>ä¸ªäººæ€»ç»“</h2><ul>
<li>Javasript è¯´å®ƒæ˜¯åŸºäºé¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€æ˜¯ä¸ä¸¥è°¨çš„ï¼Œå‡†ç¡®çš„è¯´ä»–æ˜¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œçš„åŸºäºåŸå‹å®ç°çš„ç¼–ç¨‹è¯­è¨€ã€‚</li>
</ul>
<h2 id="All-Objects-in-Javascript"><a href="#All-Objects-in-Javascript" class="headerlink" title="All Objects in Javascript"></a>All Objects in Javascript</h2><ul>
<li><p>å¯å‚è€ƒ<a href="https://www.ecma-international.org/publications/standards/Ecma-262.htm" target="_blank" rel="noopener">ECMA-Script 262 Chapter18.3 Constructor Properties of the Global Object P399</a> </p>
<table>
<thead>
<tr>
<th>åŸºæœ¬ç±»å‹</th>
<th>Error</th>
<th>æ•°æ®ç»“æ„ &amp; å†…ç½®å¯¹è±¡</th>
<th>TypedArray</th>
</tr>
</thead>
<tbody><tr>
<td>Boolean</td>
<td>Error</td>
<td>Array</td>
<td>Float32Array</td>
</tr>
<tr>
<td>Number</td>
<td>EvalError</td>
<td>ArrayBuffer</td>
<td>Float64Array</td>
</tr>
<tr>
<td>Object</td>
<td>RangeError</td>
<td>DataView</td>
<td>Int8Array</td>
</tr>
<tr>
<td>String</td>
<td>ReferenceError</td>
<td>Date</td>
<td>Int16Array</td>
</tr>
<tr>
<td>Symbol</td>
<td>SyntaxError</td>
<td>Function</td>
<td>Int32Array</td>
</tr>
<tr>
<td></td>
<td>TypeError</td>
<td>Map</td>
<td>Uint8Array</td>
</tr>
<tr>
<td></td>
<td>URIError</td>
<td>Promise</td>
<td>Uint8ClampedArray</td>
</tr>
<tr>
<td></td>
<td></td>
<td>Proxy</td>
<td>Uint16Array</td>
</tr>
<tr>
<td></td>
<td></td>
<td>RegExp</td>
<td>Uint32Array</td>
</tr>
<tr>
<td></td>
<td></td>
<td>Set</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>SharedArrayBuffer</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>WeakMap</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>WeakSet</td>
<td></td>
</tr>
</tbody></table>
</li>
</ul>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects" target="_blank" rel="noopener">å¼•å…¥ Javascript å¯¹è±¡</a></li>
<li><a href="https://software.intel.com/en-us/blogs/2008/08/22/flaws-of-object-oriented-modeling/" target="_blank" rel="noopener">Flaws of Object Oriented Modeling</a></li>
<li><a href="https://books.google.com/books?id=xb-sAQAAQBAJ&printsec=frontcover&dq=isbn:9788090466180&hl=zh-CN&sa=X&ved=0ahUKEwiG-8y8qdroAhWmUt8KHey5Dl0Q6AEIKDAA#v=onepage&q&f=false" target="_blank" rel="noopener">learn object oriented thinking &amp; programming</a></li>
<li><a href="https://books.google.com/books?id=WzsFCAAAQBAJ&printsec=frontcover&dq=isbn:9780735619654&hl=zh-CN&sa=X&ved=0ahUKEwiqzaPSqNroAhVvUd8KHc80CYEQ6AEIKDAA#v=onepage&q&f=false" target="_blank" rel="noopener">Obejct thinking</a></li>
<li><a href="https://en.wikipedia.org/wiki/JavaScript" target="_blank" rel="noopener">Javascript Object-orientation (prototype-based)</a></li>
<li><a href="https://www.codeproject.com/Articles/22769/Introduction-to-Object-Oriented-Programming-Concep" target="_blank" rel="noopener">Introduction to Object Oriented Programming Concepts (OOP) and More</a></li>
<li><a href="https://en.wikipedia.org/wiki/Functional_programming" target="_blank" rel="noopener">Functional_programming wikipedia</a></li>
<li><a href="https://en.wikipedia.org/wiki/Side_effect_(computer_science)" target="_blank" rel="noopener">Side effect wikipedia</a></li>
<li><a href="https://en.wikipedia.org/wiki/Object-oriented_programming" target="_blank" rel="noopener">Object-oriented programming wikipedia</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>æœ‰å¯¹ Object ä»¥åŠå¯¹ reference äº§ç”Ÿçš„ side effects<br>æ–°çš„è®¤è¯†</li>
<li>JavaScript æä¾›äº†å®Œå…¨è¿è¡Œæ—¶çš„å¯¹è±¡ç³»ç»Ÿï¼Œè¿™ä½¿å¾—å®ƒå¯ä»¥æ¨¡ä»¿å¤šæ•°é¢å‘å¯¹è±¡ç¼–ç¨‹èŒƒå¼ï¼ˆåŸºäºç±»å’ŒåŸºäºåŸå‹ï¼‰ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ˜¯æ­£ç»Ÿçš„é¢å‘å¯¹è±¡è¯­è¨€ã€‚</li>
<li>JavaScript è¯­è¨€æ ‡å‡†ä¹Ÿå·²ç»æ˜ç¡®è¯´æ˜ï¼ŒJavaScript æ˜¯ä¸€é—¨é¢å‘å¯¹è±¡çš„è¯­è¨€ã€‚ï¼ˆæ ‡å‡†ä¸­èƒ½è¿™æ ·è¯´ï¼Œæ­£æ˜¯å› ä¸º JavaScript çš„é«˜åº¦åŠ¨æ€æ€§çš„å¯¹è±¡ç³»ç»Ÿï¼‰</li>
</ul>
<ul>
<li>é—­åŒ… closure<ul>
<li>A nested function is a function defined within another function. It is created each time the outer function is invoked. In addition, each nested function forms a lexical closure: The lexical scope of the outer function (including any constant, local variable, or argument value) becomes part of the internal state of each inner function object, even after execution of the outer function concludes.</li>
</ul>
</li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Toy Browser DAY1</title>
    <url>/2020/05/10/Toy-Browser-DAY1/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>



<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>implementation of a toy-browser ğŸ™†</li>
</ul>
<a id="more"></a>


<h2 id="å®è·µè¿‡ç¨‹"><a href="#å®è·µè¿‡ç¨‹" class="headerlink" title="å®è·µè¿‡ç¨‹"></a>å®è·µè¿‡ç¨‹</h2><h3 id="Server-ç«¯å®ç°"><a href="#Server-ç«¯å®ç°" class="headerlink" title="Server ç«¯å®ç°"></a>Server ç«¯å®ç°</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Returns content-type = text/plain</span></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.setHeader(<span class="string">'Content-Type'</span>, <span class="string">'text/html'</span>);</span><br><span class="line">  res.setHeader(<span class="string">'X-Foo'</span>, <span class="string">'bar'</span>);</span><br><span class="line">  res.writeHead(<span class="number">200</span>, &#123; <span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span> &#125;);</span><br><span class="line">  res.end(<span class="string">'ok'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">server.listen(<span class="number">8088</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>When headers have been set with response.setHeader(), they will be merged with any headers passed to response.writeHead(), with the headers passed to <strong>response.writeHead() given precedence</strong>.</p>
</blockquote>
<ul>
<li>writeHead ä¸ setHeader ç›¸æ¯”ï¼Œå…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§</li>
<li>æ‰€ä»¥æœ€ç»ˆçš„è¯·æ±‚ä½“å¤´ â€˜Content-Typeâ€™: â€˜text/plainâ€™</li>
<li>è¿™é‡Œæˆ‘ä»¬è®©å®ƒç›‘å¬ 8088 ç«¯å£ï¼Œå› ä¸ºé»˜è®¤çš„ 80ç«¯å£ï¼Œå¯èƒ½ä¼šå­˜åœ¨å ç”¨</li>
<li>æˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ï¼Œå¯¹ <a href="http://127.0.0.1:8088/" target="_blank" rel="noopener">http://127.0.0.1:8088/</a> è®¿é—®ï¼Œæœ€åæˆ‘ä»¬è¦åˆ©ç”¨ toy-browser ç®€å•æ¨¡æ‹Ÿ<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/aa69465245fc64274c75ac4e5aab244691470.png" alt="æµè§ˆå™¨è¡Œä¸º"></li>
</ul>
</li>
</ul>
<h3 id="Client-ç«¯å®ç°"><a href="#Client-ç«¯å®ç°" class="headerlink" title="Client ç«¯å®ç°"></a>Client ç«¯å®ç°</h3><h4 id="ç¬¬ä¸€ç‰ˆï¼šç®€å•å®ç°"><a href="#ç¬¬ä¸€ç‰ˆï¼šç®€å•å®ç°" class="headerlink" title="ç¬¬ä¸€ç‰ˆï¼šç®€å•å®ç°"></a>ç¬¬ä¸€ç‰ˆï¼šç®€å•å®ç°</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> net = <span class="built_in">require</span>(<span class="string">'net'</span>);</span><br><span class="line"><span class="keyword">const</span> client = net.createConnection(&#123; <span class="attr">port</span>: <span class="number">8088</span> &#125;, () =&gt; &#123;</span><br><span class="line">  <span class="comment">// 'connect' listener.</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'connected to server!'</span>);</span><br><span class="line">  client.write(<span class="string">'POST / HTTP/1.1\r\n'</span>);</span><br><span class="line">  client.write(<span class="string">'HOST: 127.0.0.1\r\n'</span>);</span><br><span class="line">  client.write(<span class="string">'Content-Length: 9\r\n'</span>);</span><br><span class="line">  client.write(<span class="string">'Content-Type: application/x-www-form-urlencoded\r\n'</span>);</span><br><span class="line">  client.write(<span class="string">'\r\n'</span>);</span><br><span class="line">  client.write(<span class="string">'name=elle'</span>);</span><br><span class="line">  client.write(<span class="string">'\r\n'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">client.on(<span class="string">'data'</span>, (data) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data.toString());</span><br><span class="line">  client.end();</span><br><span class="line">&#125;);</span><br><span class="line">client.on(<span class="string">'end'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'disconnected from server'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>æˆ‘ä»¬å¼€å¯æœåŠ¡ç«¯<blockquote>
<p>node server.js</p>
</blockquote>
</li>
</ul>
<ul>
<li>å†å¼€å¯å®¢æˆ·ç«¯<blockquote>
<p>node client.js</p>
</blockquote>
</li>
</ul>
<ul>
<li><p>è¿è¡Œæˆªå›¾</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/5a4f9f936d87d43335d08670a03205a448885.png" alt="client"></li>
<li><img src="http://p1.meituan.net/myvideodistribute/115d90c1e9de7f974d7749988e01c87332973.png" alt="server"></li>
</ul>
</li>
<li><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¯·æ±‚æˆåŠŸçš„å‘å‡ºï¼Œå¹¶ä¸”æœåŠ¡ç«¯ä¹Ÿè¿›è¡Œäº†æ­£ç¡®çš„åé¦ˆã€‚</p>
<ul>
<li>è¯·æ±‚ä½“ï¼šname=elleï¼Œâ€™content-lengthâ€™: â€˜9â€™</li>
</ul>
</li>
</ul>
<h4 id="ç¬¬äºŒç‰ˆï¼šå¯¹-request-è¿›è¡Œç®€å•å°è£…"><a href="#ç¬¬äºŒç‰ˆï¼šå¯¹-request-è¿›è¡Œç®€å•å°è£…" class="headerlink" title="ç¬¬äºŒç‰ˆï¼šå¯¹ request è¿›è¡Œç®€å•å°è£…"></a>ç¬¬äºŒç‰ˆï¼šå¯¹ request è¿›è¡Œç®€å•å°è£…</h4><ul>
<li><p>ç®€å•åˆ†æ request æ„é€ å™¨æ‰€éœ€å†…å®¹</p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/7663a0cff7c034fbeadce907b2e445b588991.png" alt="request"></p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// request line</span></span><br><span class="line">  <span class="comment">// method, url = host + port + path</span></span><br><span class="line"><span class="comment">// headers</span></span><br><span class="line">  <span class="comment">// Content-Type</span></span><br><span class="line">    <span class="comment">// Content-Type: application/x-www-form-urlencoded</span></span><br><span class="line">    <span class="comment">// Content-Type: application/json</span></span><br><span class="line">    <span class="comment">// Content-Type: multipart/form-data</span></span><br><span class="line">    <span class="comment">// Content-Type: text/xml</span></span><br><span class="line">  <span class="comment">// Content-Length</span></span><br><span class="line"><span class="comment">// body: k-v</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>æˆ‘ä»¬å¯ä»¥ç®€å•å†™å‡ºå°è£…åçš„ reqeust</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Request</span> </span>&#123;</span><br><span class="line">    <span class="comment">// request line</span></span><br><span class="line">      <span class="comment">// method, url = host + port + path</span></span><br><span class="line">    <span class="comment">// headers</span></span><br><span class="line">      <span class="comment">// Content-Type</span></span><br><span class="line">        <span class="comment">// Content-Type: application/x-www-form-urlencoded</span></span><br><span class="line">        <span class="comment">// Content-Type: application/json</span></span><br><span class="line">        <span class="comment">// Content-Type: multipart/form-data</span></span><br><span class="line">        <span class="comment">// Content-Type: text/xml</span></span><br><span class="line">      <span class="comment">// Content-Length</span></span><br><span class="line">    <span class="comment">// body: k-v</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(options) &#123;</span><br><span class="line">    <span class="keyword">this</span>.method = options.method || <span class="string">"GET"</span></span><br><span class="line">    <span class="keyword">this</span>.host = options.host</span><br><span class="line">    <span class="keyword">this</span>.port = options.port || <span class="number">80</span></span><br><span class="line">    <span class="keyword">this</span>.path = options.path || <span class="string">"/"</span></span><br><span class="line">    <span class="keyword">this</span>.body = options.body || &#123;&#125;</span><br><span class="line">    <span class="keyword">this</span>.headers = options.headers || &#123;&#125;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.headers[<span class="string">"Content-Type"</span>]) &#123;</span><br><span class="line">      <span class="keyword">this</span>.headers[<span class="string">"Content-Type"</span>] = <span class="string">"application/x-www-form-urlencoded"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.headers[<span class="string">"Content-Type"</span>] === <span class="string">"application/json"</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.bodyText = <span class="built_in">JSON</span>.stringify(<span class="keyword">this</span>.body)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.headers[<span class="string">"Content-Type"</span>] === <span class="string">"application/x-www-form-urlencoded"</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.bodyText = <span class="built_in">Object</span>.keys(<span class="keyword">this</span>.body).map(<span class="function"><span class="params">key</span> =&gt;</span> <span class="string">`<span class="subst">$&#123;key&#125;</span>=<span class="subst">$&#123;<span class="built_in">encodeURIComponent</span>(<span class="keyword">this</span>.body[key])&#125;</span>`</span>).join(<span class="string">'&amp;'</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// calculate Content-Length</span></span><br><span class="line">    <span class="keyword">this</span>.headers[<span class="string">"Content-Length"</span>] = <span class="keyword">this</span>.bodyText.length</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  toString() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.method&#125;</span> <span class="subst">$&#123;<span class="keyword">this</span>.path&#125;</span> HTTP/1.1\r\nHOST: <span class="subst">$&#123;<span class="keyword">this</span>.host&#125;</span>\r\n<span class="subst">$&#123;<span class="built_in">Object</span>.keys(<span class="keyword">this</span>.headers).map(key =&gt; <span class="string">`<span class="subst">$&#123;key&#125;</span>: <span class="subst">$&#123;<span class="keyword">this</span>.headers[key]&#125;</span>`</span>).join(<span class="string">'\r\n'</span>)&#125;</span>\r\n\r\n<span class="subst">$&#123;<span class="keyword">this</span>.bodyText&#125;</span>\r\n`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å†åˆ©ç”¨å°è£…åçš„ request è¿›è¡Œ client è®¿é—®</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> net = <span class="built_in">require</span>(<span class="string">"net"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> client = net.createConnection(&#123;</span><br><span class="line">  host: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">  port: <span class="number">8088</span></span><br><span class="line">&#125;, () =&gt; &#123;</span><br><span class="line">  <span class="comment">// 'connect' listener.</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'connected to server!'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> options = &#123;</span><br><span class="line">    method: <span class="string">"POST"</span>,</span><br><span class="line">    path: <span class="string">"/"</span>,</span><br><span class="line">    host: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    port: <span class="number">8088</span>,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      [<span class="string">"X-Foo2"</span>]: <span class="string">"customed"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    body: &#123;</span><br><span class="line">      name: <span class="string">"elle"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> request = <span class="keyword">new</span> Request(options)</span><br><span class="line">  client.write(request.toString());</span><br><span class="line">&#125;);</span><br><span class="line">client.on(<span class="string">'data'</span>, (data) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data.toString());</span><br><span class="line">  client.end();</span><br><span class="line">&#125;);</span><br><span class="line">client.on(<span class="string">'end'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'disconnected from server'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">client.on(<span class="string">'error'</span>, (err) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">  client.end();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/19807e0f02f52d93b9391645a286cfdf48815.png" alt="å°è£…åçš„request"></li>
</ul>
</li>
</ul>
<h4 id="ç¬¬ä¸‰ç‰ˆï¼šå¯¹-responseParse-è¿›è¡Œå°è£…"><a href="#ç¬¬ä¸‰ç‰ˆï¼šå¯¹-responseParse-è¿›è¡Œå°è£…" class="headerlink" title="ç¬¬ä¸‰ç‰ˆï¼šå¯¹ responseParse è¿›è¡Œå°è£…"></a>ç¬¬ä¸‰ç‰ˆï¼šå¯¹ responseParse è¿›è¡Œå°è£…</h4><ul>
<li><p>ç®€å•åˆ†æ response å†…å®¹æ¡†æ¶</p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/9c17bab40bf615430215e496d9bdfeb5147249.png" alt="responseå†…å®¹æ¡†æ¶"></p>
</li>
<li><p>å¼€å§‹æˆ‘ä»¬çš„çŠ¶æ€æœº constructor ç®€å•ç¼–å†™</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">constructor</span>() &#123;</span><br><span class="line">  <span class="keyword">this</span>.WAITING_STATUS_LINE = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">this</span>.WAITING_STATUS_LINE_END = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">this</span>.WAITING_HEADER_NAME = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">this</span>.WAITING_HEADER_SPACE = <span class="number">3</span>;</span><br><span class="line">  <span class="keyword">this</span>.WAITING_HEADER_VALUE = <span class="number">4</span>;</span><br><span class="line">  <span class="keyword">this</span>.WAITING_HEADER_LINE_END = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">this</span>.WAITING_HEADER_BLOCK_END = <span class="number">6</span>;</span><br><span class="line">  <span class="keyword">this</span>.WAITING_BODY = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_STATUS_LINE;</span><br><span class="line">  <span class="keyword">this</span>.statusLine = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">this</span>.headers = &#123;&#125;;</span><br><span class="line">  <span class="keyword">this</span>.headerName = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">this</span>.headerValue = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">this</span>.bodyParse = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹ response å­—ç¬¦æµè¿›è¡Œå¤„ç†ã€‚å¾ªç¯è¯»å–æµä¸­æ•°æ®</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å­—ç¬¦æµå¤„ç†</span></span><br><span class="line">receive(string) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; string.length; i++) &#123;</span><br><span class="line">      <span class="keyword">this</span>.receiveChar(string.charAt(i));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¯¹æµä¸­å•ä¸ªå­—ç¬¦è¿›è¡Œæ‰«æ</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">receiveChar(char) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_STATUS_LINE) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">'\r'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_STATUS_LINE_END</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.statusLine += char</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">		</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_STATUS_LINE_END) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">'\n'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_HEADER_NAME</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">		</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_HEADER_NAME) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">':'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_HEADER_SPACE</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char === <span class="string">'\r'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_HEADER_BLOCK_END</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.headers[<span class="string">'Transfer-Encoding'</span>] === <span class="string">'chunked'</span>)</span><br><span class="line">        <span class="keyword">this</span>.bodyParse = <span class="keyword">new</span> TrunkedBodyParser();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.headerName += char</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">		</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_HEADER_SPACE) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">' '</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_HEADER_VALUE</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">		</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_HEADER_VALUE) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">'\r'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_HEADER_LINE_END</span><br><span class="line">      <span class="keyword">this</span>.headers[<span class="keyword">this</span>.headerName] = <span class="keyword">this</span>.headerValue</span><br><span class="line">      <span class="keyword">this</span>.headerName = <span class="string">""</span></span><br><span class="line">      <span class="keyword">this</span>.headerValue = <span class="string">""</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.headerValue += char</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">		</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_HEADER_LINE_END) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">'\n'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_HEADER_NAME</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">		</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_HEADER_BLOCK_END) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">'\n'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_BODY</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">		</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_BODY) &#123;</span><br><span class="line">    <span class="keyword">this</span>.bodyParse.receiveChar(char)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç®€å•åˆ†æ server ç«¯çš„ TrunkBody </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">2</span> <span class="comment">// ä¸‹ä¸€è¡Œ trunk é•¿åº¦</span></span><br><span class="line">ok <span class="comment">// trunk å†…å®¹</span></span><br><span class="line"><span class="number">0</span> <span class="comment">// trunk ç»ˆæ­¢ï¼Œå†æ²¡æœ‰å†…å®¹</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>å¼€å§‹æˆ‘ä»¬çš„ TrunkedBodyParser çŠ¶æ€æœº constructor ç®€å•ç¼–å†™</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">constructor</span>() &#123;</span><br><span class="line">  <span class="keyword">this</span>.WAITING_LENGTH = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">this</span>.WAITING_LENGTH_LINE_END = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">this</span>.READING_TRUNK = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">this</span>.WAITING_NEW_LINE = <span class="number">3</span>;</span><br><span class="line">  <span class="keyword">this</span>.WAITING_NEW_LINE_END = <span class="number">4</span>;</span><br><span class="line">  <span class="keyword">this</span>.FINISHED_NEW_LINE = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">this</span>.FINISHED_NEW_LINE_END = <span class="number">6</span>;</span><br><span class="line">  <span class="keyword">this</span>.isFinished = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">this</span>.length = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">this</span>.content = [];</span><br><span class="line">  <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_LENGTH;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>TrunkBody å­—ç¬¦å¤„ç†</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å­—ç¬¦æµå¤„ç†</span></span><br><span class="line">receiveChar(char) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_LENGTH) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">'\r'</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.current = <span class="keyword">this</span>.FINISHED_NEW_LINE</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_LENGTH_LINE_END</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.length *= <span class="number">10</span></span><br><span class="line">      <span class="keyword">this</span>.length += char.charCodeAt(<span class="number">0</span>) - <span class="string">'0'</span>.charCodeAt(<span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">				</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_LENGTH_LINE_END) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">'\n'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.READING_TRUNK</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">				</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.READING_TRUNK) &#123;</span><br><span class="line">    <span class="keyword">this</span>.content.push(char)</span><br><span class="line">    <span class="keyword">this</span>.length --</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.length === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_NEW_LINE</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">				</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_NEW_LINE) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">'\r'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_NEW_LINE_END</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">				</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_NEW_LINE_END) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">'\n'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_LENGTH</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">				</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.FINISHED_NEW_LINE) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">'\r'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.current = <span class="keyword">this</span>.FINISHED_NEW_LINE_END</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">				</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.FINISHED_NEW_LINE_END) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">'\n'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.isFinished = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
















</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/50256a14d9171b06c374dc7e6894efcf61275.png" alt="client"></li>
<li><img src="http://p0.meituan.net/myvideodistribute/23ed78fb0b5598952897249eb5ae2fbb29575.png" alt="server"></li>
</ul>
</li>
</ul>
<h2 id="é”™è¯¯ä¿®æ”¹"><a href="#é”™è¯¯ä¿®æ”¹" class="headerlink" title="é”™è¯¯ä¿®æ”¹"></a>é”™è¯¯ä¿®æ”¹</h2><ul>
<li><img src="http://p0.meituan.net/myvideodistribute/fd4b58c42c99e0f2754c025b6682307650941.png" alt="é”™è¯¯ä¿®æ”¹"></li>
<li>server ç«¯é•¿åº¦è®¡ç®—ä¸æ˜¯åè¿›åˆ¶ï¼Œæ˜¯åå…­è¿›åˆ¶</li>
</ul>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å­—ç¬¦æµå¤„ç†</span></span><br><span class="line">receiveChar(char) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.current === <span class="keyword">this</span>.WAITING_LENGTH) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char === <span class="string">'\r'</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.current = <span class="keyword">this</span>.FINISHED_NEW_LINE</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.current = <span class="keyword">this</span>.WAITING_LENGTH_LINE_END</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.length *= <span class="number">16</span></span><br><span class="line">      <span class="keyword">this</span>.length += <span class="built_in">parseInt</span>(char, <span class="number">16</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ul>
<li><a href="https://nodejs.org/dist/latest-v12.x/docs/api/http.html" target="_blank" rel="noopener">Node.js v12.16.3 Documentation</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li><a href="https://github.com/Ele-Peng/toy-browser" target="_blank" rel="noopener">å®Œæ•´ä»£ç åœ°å€-ç‚¹å‡»ä¸€ä¸‹</a></li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>æµè§ˆå™¨</category>
      </categories>
      <tags>
        <tag>æµè§ˆå™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>UTF8_Encoing</title>
    <url>/2020/04/21/UTF8-Encoing/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>å‘¨ä¸€å’Œå°å§å¦¹ Skady å®è´ç»ƒå®Œèˆåï¼Œäº¤æµäº†ä¸€ä¸ªå°æ—¶æŠ€æœ¯ï¼Œæ˜¯çš„ğŸ™†æˆ‘ä»¬æ²¡æœ‰æ‰¯çš®ï¼Œéš¾å¾—äº¤æµæŠ€æœ¯ã€‚ğŸ¤£å¥¹åœ¨ç©â€œåœ¨Cè¯­è¨€ä¸­ç¼–å†™JSä»£ç ï¼Œç„¶åå†ç¼–è¯‘æˆwasmï¼Œå¯ä»¥åœ¨æµè§ˆå™¨é‡Œè·‘â€ï¼Œæˆ‘ä»¬ç®€å•åœ°äº¤æµäº†ä¸€ä¸‹åº•å±‚å®ç°.<span style="color: #bfbfbf">åº”è¯¥æ˜¯åŸºäº ArrayBuffer çš„</span></li>
<li>ç„¶åä¸çŸ¥æ€ä¹ˆå°±æƒ³åˆ°äº† 0.1 + 0.2 â‰  0.3ï¼Œè¿™ä¸ªç»å…¸é—®é¢˜</li>
<li>æƒ³çœ‹çœ‹å®ƒåœ¨å†…å­˜ä¸­çš„è¡¨ç°</li>
<li>å¹¶è®°å½•ä¸€ä¸‹å°† String å­—ç¬¦ä¸²ï¼Œè½¬æˆå­—èŠ‚æµçš„æ•´ä¸ªå®ç°è¿‡ç¨‹</li>
<li>å¾€ä¸‹çœ‹å§~ ğŸ¤“</li>
</ul>
<a id="more"></a>

<h2 id="å®è·µè¿‡ç¨‹"><a href="#å®è·µè¿‡ç¨‹" class="headerlink" title="å®è·µè¿‡ç¨‹"></a>å®è·µè¿‡ç¨‹</h2><h4 id="æ€»ä½“æ€è·¯"><a href="#æ€»ä½“æ€è·¯" class="headerlink" title="æ€»ä½“æ€è·¯"></a>æ€»ä½“æ€è·¯</h4><ul>
<li>ç»Ÿè®¡å­—ç¬¦ä¸²é•¿åº¦</li>
<li>å¾ªç¯éå†å­—ç¬¦ä¸²ï¼Œè¿›è¡Œç¼–ç </li>
<li>è¾“å‡ºç¼–ç åçš„å­—èŠ‚æµ</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UTF8_Encoding</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">let</span> length = str.length,</span><br><span class="line">        strIndex = <span class="number">-1</span>,</span><br><span class="line">        strEnd = length - <span class="number">1</span>,</span><br><span class="line">        bytes = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(length),</span><br><span class="line">        index = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (strIndex++ &lt; strEnd) &#123;</span><br><span class="line">        bytes[index] = str.charCodeAt(strIndex) &amp; <span class="number">0xFF</span>; <span class="comment">// è®¾ç½®ä¸ºä½8ä½å€¼</span></span><br><span class="line">        index += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bytes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å­—èŠ‚æµæ–‡ä»¶è½¬-String"><a href="#å­—èŠ‚æµæ–‡ä»¶è½¬-String" class="headerlink" title="å­—èŠ‚æµæ–‡ä»¶è½¬ String"></a>å­—èŠ‚æµæ–‡ä»¶è½¬ String</h2><h4 id="æ€»ä½“æ€è·¯-1"><a href="#æ€»ä½“æ€è·¯-1" class="headerlink" title="æ€»ä½“æ€è·¯"></a>æ€»ä½“æ€è·¯</h4><ul>
<li>ç»Ÿè®¡å­—èŠ‚æµé•¿åº¦</li>
<li>å¾ªç¯éå†å­—èŠ‚æµï¼Œè¿›è¡Œè§£ç </li>
<li>è¾“å‡ºè§£ç åçš„å­—èŠ‚æµ</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UTF8_Decoding</span>(<span class="params">bytes</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">""</span>,</span><br><span class="line">        bytesIndex = <span class="number">-1</span>,</span><br><span class="line">        bytesEnd = bytes.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (bytesIndex ++ &lt; bytesEnd) &#123;</span><br><span class="line">        str += <span class="built_in">String</span>.fromCharCode(bytes[bytesIndex]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="æµ‹è¯•æˆªå›¾"><a href="#æµ‹è¯•æˆªå›¾" class="headerlink" title="æµ‹è¯•æˆªå›¾"></a>æµ‹è¯•æˆªå›¾</h4><ul>
<li><img src="http://p0.meituan.net/myvideodistribute/c1770110908275e40343791324f7dfff154914.png" alt="æµ‹è¯•æˆªå›¾"></li>
</ul>
<h2 id="ç±»å‹åŒ–æ•°ç»„"><a href="#ç±»å‹åŒ–æ•°ç»„" class="headerlink" title="ç±»å‹åŒ–æ•°ç»„"></a>ç±»å‹åŒ–æ•°ç»„</h2><ul>
<li><p>ç±»å‹åŒ–æ•°ç»„ä¸­çš„å…ƒç´ éƒ½æ˜¯æ•°å­—ã€‚ä½¿ç”¨æ„é€ å‡½æ•°åœ¨åˆ›å»ºç±»å‹åŒ–æ•°ç»„çš„æ—¶å€™å†³å®šäº†æ•°ç»„ä¸­æ•°å­—ï¼ˆæœ‰ç¬¦å·æˆ–è€…æ— ç¬¦å·æ•´æ•°æˆ–è€…æµ®ç‚¹æ•°ï¼‰çš„ç±»å‹å’Œå¤§å°ï¼ˆä»¥ä½ä¸ºå•ä½ï¼‰</p>
</li>
<li><p>ç±»å‹åŒ–æ•°ç»„æœ‰å›ºå®šçš„é•¿åº¦ã€‚</p>
</li>
<li><p>åœ¨åˆ›å»ºç±»å‹åŒ–æ•°ç»„çš„æ—¶å€™ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ æ€»æ˜¯é»˜è®¤åˆå§‹åŒ–ä¸º0.</p>
</li>
<li><p><strong>ç±»å‹åŒ–æ•°ç»„</strong></p>
<ul>
<li><p><strong>TypedArray</strong> è§†å›¾æ”¯æŒçš„æ•°æ®ç±»å‹ä¸€å…±æœ‰ 9 ç§ï¼ˆ <strong>DataView</strong> è§†å›¾æ”¯æŒé™¤ <strong>Uint8C</strong> ä»¥å¤–çš„å…¶ä»– 8 ç§ï¼‰ã€‚</p>
<table>
<thead>
<tr>
<th>æ•°æ®ç±»å‹</th>
<th>å­—èŠ‚é•¿åº¦</th>
<th>å«ä¹‰</th>
<th>å¯¹åº”çš„ C è¯­è¨€ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>Int8</td>
<td>1</td>
<td>8 ä½å¸¦ç¬¦å·æ•´æ•°</td>
<td>signed char</td>
</tr>
<tr>
<td>Uint8</td>
<td>1</td>
<td>8 ä½ä¸å¸¦ç¬¦å·æ•´æ•°</td>
<td>unsigned char</td>
</tr>
<tr>
<td>Uint8C</td>
<td>1</td>
<td>8 ä½ä¸å¸¦ç¬¦å·æ•´æ•°ï¼ˆè‡ªåŠ¨è¿‡æ»¤æº¢å‡ºï¼‰</td>
<td>unsigned char</td>
</tr>
<tr>
<td>Int16</td>
<td>2</td>
<td>16 ä½å¸¦ç¬¦å·æ•´æ•°</td>
<td>short</td>
</tr>
<tr>
<td>Uint16</td>
<td>2</td>
<td>16 ä½ä¸å¸¦ç¬¦å·æ•´æ•°</td>
<td>unsigned short</td>
</tr>
<tr>
<td>Int32</td>
<td>4</td>
<td>32 ä½å¸¦ç¬¦å·æ•´æ•°</td>
<td>int</td>
</tr>
<tr>
<td>Uint32</td>
<td>4</td>
<td>32 ä½ä¸å¸¦ç¬¦å·çš„æ•´æ•°</td>
<td>unsigned int</td>
</tr>
<tr>
<td>Float32</td>
<td>4</td>
<td>32 ä½æµ®ç‚¹æ•°</td>
<td>float</td>
</tr>
<tr>
<td>Float64</td>
<td>8</td>
<td>64 ä½æµ®ç‚¹æ•°</td>
<td>double</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
<li><p>åœ¨åˆ›å»ºä¸€ä¸ªç±»å‹åŒ–æ•°ç»„çš„æ—¶å€™ï¼Œå¯ä»¥ä¼ é€’æ•°ç»„å¤§å°ç»™æ„é€ å‡½æ•°ï¼Œæˆ–è€…ä¼ é€’ä¸€ä¸ªæ•°ç»„æˆ–è€…ç±»å‹åŒ–æ•°ç»„æ¥ç”¨äºåˆå§‹åŒ–æ•°ç»„å…ƒç´ ã€‚ä¸€æ—¦åˆ›å»ºäº†ç±»å‹åŒ–æ•°ç»„ï¼Œå°±å¯ä»¥åƒæ“ä½œå…¶ä»–ç±»æ•°ç»„å¯¹è±¡é‚£æ ·ï¼Œé€šè¿‡å¸¸è§„çš„ä¸­æ‹¬å·è¡¨ç¤ºæ³•æ¥å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œè¯»/å†™æ“ä½œã€‚</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> bytes = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(<span class="number">1024</span>); <span class="comment">// 1kbå­—èŠ‚ </span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; bytes.length; i ++) <span class="comment">// å¾ªç¯æ•°ç»„çš„æ¯ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; bytes.length; i ++) <span class="comment">// å¾ªç¯æ•°ç»„çš„æ¯ä¸ªå…ƒç´ </span></span><br><span class="line">	bytes[i] = i &amp; <span class="number">0xFF</span>; <span class="comment">// è®¾ç½®ä¸ºç´¢å¼•çš„ä½8ä½å€¼</span></span><br><span class="line"><span class="keyword">var</span> copy = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(bytes); <span class="comment">// åˆ›å»ºæ•°ç»„çš„å‰¯æœ¬</span></span><br><span class="line"><span class="keyword">var</span> ints = <span class="keyword">new</span> <span class="built_in">Int32Array</span>([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// åŒ…å«è¿™4ä¸ªintå€¼çš„ç±»å‹åŒ–æ•°ç»„</span></span><br></pre></td></tr></table></figure></li>
<li><p>ç±»å‹åŒ–æ•°ç»„ï¼šä»–ä»¬éƒ½æ˜¯<strong>åŸºæœ¬å­—èŠ‚å—çš„è§†å›¾</strong>ï¼Œç§°ä¸ºä¸€ä¸ª ArrayBuffer ã€‚ArrayBuffer åªæ˜¯ä¸é€æ˜çš„å­—èŠ‚å—ã€‚å¯ä»¥é€šè¿‡ç±»å‹åŒ–æ•°ç»„è·å–è¿™äº›å­—èŠ‚ï¼Œä½†æ˜¯ ArrayBuffer è‡ªå·±å¹¶ä¸æ˜¯ä¸€ä¸ªç±»å‹åŒ–æ•°ç»„ã€‚å¯ä»¥åƒå¯¹ä»»æ„ Javascript å¯¹è±¡é‚£æ ·ï¼Œä½¿ç”¨æ•°å­—æ•°ç»„ç´¢å¼•æ¥æ“ä½œ ArrayBufferã€‚ä½†æ˜¯ï¼Œè¿™æ ·åšå¹¶<strong>ä¸èƒ½èµ‹äºˆè®¿é—®ç¼“å†²åŒºä¸­å­—èŠ‚çš„æƒé™</strong></p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> bytes = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(<span class="number">8</span>); <span class="comment">// åˆ†é…8ä¸ªå­—èŠ‚</span></span><br><span class="line">bytes[<span class="number">0</span>] = <span class="number">1</span> <span class="comment">// æŠŠç¬¬ä¸€ä¸ªå­—èŠ‚è®¾ç½®ä¸º1</span></span><br><span class="line">bytes.buffer[<span class="number">0</span>] = <span class="number">255</span> <span class="comment">// é”™è¯¯è·å–ï¼Œç¼“å†²åŒºä¸­æ²¡æœ‰ç´¢å¼•å€¼0</span></span><br><span class="line">bytes.buffer[<span class="number">1</span>] = <span class="number">255</span> <span class="comment">// é”™è¯¯è®¾ç½®ç¼“å†²åŒºå­—èŠ‚</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="â€œå­—èŠ‚é¡ºåºâ€"><a href="#â€œå­—èŠ‚é¡ºåºâ€" class="headerlink" title="â€œå­—èŠ‚é¡ºåºâ€"></a>â€œå­—èŠ‚é¡ºåºâ€</h3><ul>
<li><p>å­—èŠ‚ç»„ç»‡æˆæ›´é•¿çš„å­—çš„é¡ºåº</p>
</li>
<li><p>ä¸ºäº†é«˜æ•ˆï¼Œç±»å‹åŒ–æ•°ç»„é‡‡ç”¨åº•å±‚ç¡¬ä»¶çš„åŸç”Ÿé¡ºåºã€‚åœ¨ä½ä½ä¼˜å…ˆ(little-endian)ç³»ç»Ÿä¸­ï¼Œ ArrayBuffer ä¸­æ•°å­—çš„å­—èŠ‚æ˜¯æŒ‰ç…§ä»ä½ä½åˆ°é«˜ä½çš„é¡ºåºæ’åˆ—çš„ã€‚åœ¨é«˜ä½ä¼˜å…ˆ(big-endian)ç³»ç»Ÿä¸­ï¼Œå­—èŠ‚æ˜¯æŒ‰ç…§ä»é«˜ä½åˆ°ä½ä½çš„é¡ºåºæ’åˆ—çš„ã€‚</p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç æ¥æ£€æµ‹ç³»ç»Ÿçš„å­—èŠ‚é¡ºåºï¼š</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœæ•´æ•° Ox00000001 åœ¨å†…å­˜ä¸­è¡¨ç¤ºæˆï¼š 01 00 00 00</span></span><br><span class="line"><span class="comment">// åˆ™è¯´æ˜å½“å‰ç³»ç»Ÿæ˜¯ä½ä½ä¼˜å…ˆç³»ç»Ÿ</span></span><br><span class="line"><span class="comment">// ç›¸åï¼Œåœ¨é«˜ä½ä¼˜å…ˆç³»ç»Ÿä¸­ï¼Œå®ƒä¼šè¡¨ç¤ºæˆï¼š00 00 00 01</span></span><br><span class="line"><span class="keyword">var</span> little_endian = <span class="keyword">new</span> <span class="built_in">Int8Array</span>(<span class="keyword">new</span> <span class="built_in">Int32Array</span>([<span class="number">1</span>]).buffer)[<span class="number">0</span>] === <span class="number">1</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="æ€è€ƒé—®é¢˜-0-1-0-2-â‰ -0-3"><a href="#æ€è€ƒé—®é¢˜-0-1-0-2-â‰ -0-3" class="headerlink" title="æ€è€ƒé—®é¢˜ 0.1 + 0.2 â‰  0.3"></a>æ€è€ƒé—®é¢˜ 0.1 + 0.2 â‰  0.3</h2><ul>
<li>æˆ‘ä»¬å¯ä»¥å…ˆæ¥çœ‹çœ‹ åè¿›åˆ¶å°æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼š<ul>
<li>æ•´æ•°éƒ¨åˆ†ï¼šé™¤ä»¥2ï¼Œå–å‡ºä½™æ•°ï¼Œå•†ç»§ç»­é™¤ä»¥2ï¼Œç›´åˆ°å¾—åˆ°0ä¸ºæ­¢ï¼Œå°†å–å‡ºçš„ä½™æ•°é€†åº</li>
<li>å°æ•°éƒ¨åˆ†ï¼šä¹˜ä»¥2ï¼Œç„¶åå–å‡ºæ•´æ•°éƒ¨åˆ†ï¼Œå°†å‰©ä¸‹çš„å°æ•°éƒ¨åˆ†ç»§ç»­ä¹˜ä»¥2ï¼Œç„¶åå†å–æ•´æ•°éƒ¨åˆ†ï¼Œä¸€ç›´å–åˆ°å°æ•°éƒ¨åˆ†ä¸ºé›¶ä¸ºæ­¢ã€‚å¦‚æœæ°¸è¿œä¸ä¸ºé›¶ï¼Œåˆ™æŒ‰è¦æ±‚ä¿ç•™è¶³å¤Ÿä½æ•°çš„å°æ•°ï¼Œæœ€åä¸€ä½åš0èˆ1å…¥ã€‚å°†å–å‡ºçš„æ•´æ•°é¡ºåºæ’åˆ—ã€‚</li>
<li>æ‰€ä»¥ 0.1 å¯ä»¥è¡¨ç¤ºä¸º<ul>
<li>0.000110011001100110011â€¦</li>
</ul>
</li>
<li>0.2 å¯ä»¥è¡¨ç¤ºä¸º<ul>
<li>0.00110011001100110011â€¦</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 0.1 å’Œ 0.2 éƒ½è½¬åŒ–æˆäºŒè¿›åˆ¶åå†è¿›è¡Œè¿ç®—</span></span><br><span class="line"><span class="number">0.00011001100110011001100110011001100110011001100110011010</span> +</span><br><span class="line"><span class="number">0.0011001100110011001100110011001100110011001100110011010</span> =</span><br><span class="line"><span class="number">0.0100110011001100110011001100110011001100110011001100111</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬æˆåè¿›åˆ¶æ­£å¥½æ˜¯ 0.30000000000000004</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>äºŒè¿›åˆ¶æ•°è½¬æˆ IEEE 754 æ ‡å‡†</p>
<ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/eefbaacb81e66deb742370e27d9e3bb876872.png" alt="IEEE 754 æ ‡å‡†"></p>
</li>
<li><p>ä½¿ç”¨ 64 ä½å›ºå®šé•¿åº¦æ¥è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯æ ‡å‡†çš„double åŒç²¾åº¦æµ®ç‚¹æ•°ã€‚</p>
</li>
<li><p>è¿™æ ·çš„å­˜å‚¨ç»“æ„ä¼˜ç‚¹æ˜¯å¯ä»¥å½’ä¸€åŒ–å¤„ç†æ•´æ•°å’Œå°æ•°ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ã€‚</p>
</li>
<li><p>è¿™64ä¸ªæ¯”ç‰¹åˆå¯åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œå³ï¼š</p>
<ul>
<li>ç¬¬1ä½: æ˜¯ç¬¦å·çš„æ ‡å¿—ä½(S), 0ä»£è¡¨æ­£æ•°ï¼Œ1ä»£è¡¨è´Ÿæ•°</li>
<li>ç¬¬1-11ä½: æŒ‡æ•°ä½(E), å­˜å‚¨æŒ‡æ•°ï¼ˆexponentï¼‰ï¼Œç”¨æ¥è¡¨ç¤ºæ¬¡æ–¹æ•°</li>
<li>ç¬¬12-63ä½: å°¾æ•°(M), è¿™52 ä½æ˜¯å°¾æ•°ï¼Œè¶…å‡ºçš„éƒ¨åˆ†è‡ªåŠ¨è¿›ä¸€èˆé›¶</li>
</ul>
</li>
<li><p>å®é™…æ•°å­—å°±å¯ä»¥ç”¨ä»¥ä¸‹å…¬å¼æ¥è®¡ç®—ï¼š</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/7b2c9fce00cfe3bf57fcede347257af276632.png" alt="IEEE 754æ•°å­¦å…¬å¼"></li>
</ul>
</li>
<li><p>å› æ­¤ 0.1 çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼š    </p>
<blockquote>
<p>0.00011001100110011001100110011001100110011001100110011001100â€¦</p>
</blockquote>
<ul>
<li><p>é¦–å…ˆ 0.1 æ˜¯æ­£æ•°ï¼Œæ ‡å¿—ä½ </p>
<blockquote>
<p>Sign = 0</p>
</blockquote>
</li>
<li><p>å…¶æ¬¡, å°†å°æ•°è½¬åŒ–ä¸ºç§‘å­¦è®¡æ•°æ³•</p>
<blockquote>
<p>1.100110011001100110011001100110011001100110011001100â€¦ * 2^-4</p>
</blockquote>
<ul>
<li><p>ç›¸å¯¹äºï¼Œå°æ•°ç‚¹ç§»äº†4ä½ï¼ŒæŒ‡æ•°å‡4</p>
<blockquote>
<p>exponent = -4 + 1023 = 1019</p>
</blockquote>
<blockquote>
<p>01111111011</p>
</blockquote>
</li>
</ul>
</li>
<li><p>ç”±äºç§‘å­¦è®¡æ•°æ³•, ç¬¬ä¸€ä¸ªæ•°å§‹ç»ˆæ˜¯1, æ‰€ä»¥å¯ä»¥å¿½ç•¥å­˜å‚¨, åªè¦å­˜åé¢çš„52ä½å°±å¯ä»¥äº†</p>
</li>
<li><p><strong>å¦‚æœè¶…è¿‡äº†52ä½, å°±æ˜¯å¯¹ç¬¬53ä½èˆ0è¿›1</strong>ï¼ˆç²¾åº¦è¯¯å·®ï¼‰, ç»“æœä¹Ÿå°±æ˜¯</p>
<blockquote>
<p>1001100110011001100110011001100110011001100110011010</p>
</blockquote>
</li>
</ul>
</li>
<li><p>å› æ­¤ 0.1 çš„ IEEE 754 çš„è¡¨ç¤ºï¼š</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/1ae3cf9f7bda61d8d0849ce05f7657f997288.png" alt="0.1 çš„IEEE 754"></li>
</ul>
</li>
<li><p>åŒç† 0.2 çš„ IEEE 754 çš„è¡¨ç¤ºï¼š</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/0c5d93145800b45b59a3ef23dc2abe4a97936.png" alt="0.2 çš„ IEEE 754"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="æŸ¥çœ‹-0-1-è¡¨ç¤ºæ–¹å¼"><a href="#æŸ¥çœ‹-0-1-è¡¨ç¤ºæ–¹å¼" class="headerlink" title="æŸ¥çœ‹ 0.1 è¡¨ç¤ºæ–¹å¼"></a>æŸ¥çœ‹ 0.1 è¡¨ç¤ºæ–¹å¼</h3><pre><code class="javascript"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="built_in">Float64Array</span>([<span class="number">0.1</span>])
<span class="built_in">console</span>.log(b)
<span class="keyword">let</span> intArr = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(b.buffer)
<span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">7</span>; i &gt;= <span class="number">0</span>; i --) {
    s = intArr[i].toString(<span class="number">2</span>)
    <span class="keyword">while</span>(s.length &lt; <span class="number">8</span>) {
        s = <span class="string">'0'</span> + s
    }
    <span class="built_in">console</span>.log(s)

}</code></pre>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/d996e0a508b796f5a3d4f4866c1bf43064783.png" alt="ä½ä½ä¼˜å…ˆç³»ç»Ÿ"></li>
<li>é¦–å…ˆæˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ä½ä½ä¼˜å…ˆç³»ç»Ÿ(little_endian)</li>
<li><img src="http://p0.meituan.net/myvideodistribute/de79ee3caac77ddad9398cfeaaf3719f227171.png" alt="æŸ¥çœ‹ 0.1 è¡¨ç¤ºæ–¹å¼æˆªå›¾"><ul>
<li>0 â€“&gt; æ ‡å¿—ä½</li>
<li>011111111011 â€“&gt; æŒ‡æ•°ä½</li>
<li>1001{12}1010 â€“&gt; å°¾æ•°</li>
</ul>
</li>
</ul>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ul>
<li>ã€ŠJavascript æƒå¨æŒ‡å—ã€‹22.5ç«  ç±»å‹åŒ–æ•°ç»„å’Œ ArrayBuffer P678</li>
<li><a href="https://cloud.tencent.com/developer/article/1592651" target="_blank" rel="noopener">å½»åº•ææ‡‚Javascript æµ®ç‚¹æ•°</a></li>
<li><a href="http://www.binaryconvert.com/convert_double.html" target="_blank" rel="noopener">äºŒè¿›åˆ¶è½¬æ¢å·¥å…·</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
        <tag>UTF-8</tag>
      </tags>
  </entry>
  <entry>
    <title>Toy-Browser-DAY3</title>
    <url>/2020/05/17/Toy-Browser-DAY3/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>



<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>implementation of a toy-browser ğŸ™†</li>
<li>æˆ‘ä»¬å¼€å§‹è¿›å…¥åˆ° CSS Computing å•¦ï¼ï¼ï¼ğŸ˜˜</li>
<li><img src="http://p0.meituan.net/myvideodistribute/4bb352346db82d88a68035a6ddad906c81827.png" alt="CSS Computing"><a id="more"></a>


</li>
</ul>
<h2 id="å®è·µè®°å½•"><a href="#å®è·µè®°å½•" class="headerlink" title="å®è·µè®°å½•"></a>å®è·µè®°å½•</h2><h3 id="å®è·µå‡†å¤‡"><a href="#å®è·µå‡†å¤‡" class="headerlink" title="å®è·µå‡†å¤‡"></a>å®è·µå‡†å¤‡</h3><blockquote>
<p>npm install css</p>
</blockquote>
<h3 id="ç¬¬ä¸€æ­¥ï¼šæ”¶é›†-CSS-è§„åˆ™"><a href="#ç¬¬ä¸€æ­¥ï¼šæ”¶é›†-CSS-è§„åˆ™" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šæ”¶é›† CSS è§„åˆ™"></a>ç¬¬ä¸€æ­¥ï¼šæ”¶é›† CSS è§„åˆ™</h3><ul>
<li><p>é‡åˆ° style æ ‡ç­¾æ—¶ï¼Œæˆ‘ä»¬æŠŠ CSS è§„åˆ™ä¿å­˜èµ·æ¥</p>
</li>
<li><p>è¿™é‡Œæˆ‘ä»¬è°ƒç”¨ CSS Parser æ¥åˆ†æ CSS è§„åˆ™</p>
</li>
<li><p>è¿™é‡Œæˆ‘ä»¬å¿…é¡»è¦ä»”ç»†ç ”ç©¶æ­¤åº“åˆ†æ CSS è§„åˆ™çš„æ ¼å¼</p>
</li>
<li><p>computeCss1.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> css = <span class="built_in">require</span>(<span class="string">'css'</span>)</span><br><span class="line"></span><br><span class="line">... some code</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ å…¥ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼ŒaddCSSRulesï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠ CSS è§„åˆ™æš‚å­˜åˆ°ä¸€ä¸ªæ•°ç»„é‡Œ</span></span><br><span class="line"><span class="keyword">let</span> rules = []</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addCSSRules</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> ast = css.parse(text)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(ast, <span class="literal">null</span>, <span class="string">"    "</span>))</span><br><span class="line">  rules.push(...ast.stylesheet.rules)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...some code</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">emit</span>(<span class="params">token</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  ... some code</span><br><span class="line">  </span><br><span class="line">   <span class="keyword">else</span> <span class="keyword">if</span> (token.type == <span class="string">"endTag"</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (top.tagName != token.tagName) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Tag start end doesn't match"</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// console.log('pop', stack.pop())</span></span><br><span class="line">      <span class="comment">/** é‡åˆ° style æ ‡ç­¾æ—¶ï¼Œæ‰§è¡Œæ·»åŠ  CCS è§„åˆ™çš„æ“ä½œ */</span></span><br><span class="line">      <span class="keyword">if</span> (top.tagName === <span class="string">"style"</span>) &#123;</span><br><span class="line">        addCSSRules(top.children[<span class="number">0</span>].content)</span><br><span class="line">      &#125;</span><br><span class="line">      stack.pop()</span><br><span class="line">    &#125;</span><br><span class="line">    currentTextNode = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  ... some code</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦å°†æ·»åŠ  CSS è§„åˆ™æ“ä½œè‡³å…ƒç´  popå‰ï¼Œå…ƒç´  push å</p>
<ul>
<li>å…ƒç´  push åï¼Œä¹Ÿå°±æ˜¯ style æ ‡ç­¾çš„å­å…ƒç´ æ–‡æœ¬èŠ‚ç‚¹ï¼Œè¿˜æœªæŒ‚è½½åˆ° style æ ‡ç­¾ä¸Šï¼Œstyles æ ‡ç­¾å­å…ƒç´ è¿˜æ˜¯ç©ºçš„</li>
<li>pop å‰ï¼Œæˆ‘ä»¬å¯ä»¥å–åˆ°è¿™ä¸ªå…ƒç´ </li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/01014f5e30127ef5f2b23dd6b7fa44ac153947.png" alt="ç¬¬ä¸€æ­¥è¿è¡Œç»“æœ"></li>
</ul>
</li>
<li><p>æ–‡æœ¬ç»“æœ</p>
  <figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"stylesheet"</span>,</span><br><span class="line">    <span class="attr">"stylesheet"</span>: &#123;</span><br><span class="line">        <span class="attr">"rules"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"type"</span>: <span class="string">"rule"</span>,</span><br><span class="line">                <span class="attr">"selectors"</span>: [</span><br><span class="line">                    <span class="string">"body div #myid"</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">"declarations"</span>: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">"type"</span>: <span class="string">"declaration"</span>,</span><br><span class="line">                        <span class="attr">"property"</span>: <span class="string">"width"</span>,</span><br><span class="line">                        <span class="attr">"value"</span>: <span class="string">"100px"</span>,</span><br><span class="line">                        <span class="attr">"position"</span>: &#123;</span><br><span class="line">                            <span class="attr">"start"</span>: &#123;</span><br><span class="line">                                <span class="attr">"line"</span>: <span class="number">3</span>,</span><br><span class="line">                                <span class="attr">"column"</span>: <span class="number">9</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">"end"</span>: &#123;</span><br><span class="line">                                <span class="attr">"line"</span>: <span class="number">3</span>,</span><br><span class="line">                                <span class="attr">"column"</span>: <span class="number">20</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">"type"</span>: <span class="string">"declaration"</span>,</span><br><span class="line">                        <span class="attr">"property"</span>: <span class="string">"background-color"</span>,</span><br><span class="line">                        <span class="attr">"value"</span>: <span class="string">"#ff5000"</span>,</span><br><span class="line">                        <span class="attr">"position"</span>: &#123;</span><br><span class="line">                            <span class="attr">"start"</span>: &#123;</span><br><span class="line">                                <span class="attr">"line"</span>: <span class="number">4</span>,</span><br><span class="line">                                <span class="attr">"column"</span>: <span class="number">9</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">"end"</span>: &#123;</span><br><span class="line">                                <span class="attr">"line"</span>: <span class="number">4</span>,</span><br><span class="line">                                <span class="attr">"column"</span>: <span class="number">34</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">"position"</span>: &#123;</span><br><span class="line">                    <span class="attr">"start"</span>: &#123;</span><br><span class="line">                        <span class="attr">"line"</span>: <span class="number">2</span>,</span><br><span class="line">                        <span class="attr">"column"</span>: <span class="number">5</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="attr">"end"</span>: &#123;</span><br><span class="line">                        <span class="attr">"line"</span>: <span class="number">5</span>,</span><br><span class="line">                        <span class="attr">"column"</span>: <span class="number">6</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"type"</span>: <span class="string">"rule"</span>,</span><br><span class="line">                <span class="attr">"selectors"</span>: [</span><br><span class="line">                    <span class="string">"body div img"</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">"declarations"</span>: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">"type"</span>: <span class="string">"declaration"</span>,</span><br><span class="line">                        <span class="attr">"property"</span>: <span class="string">"width"</span>,</span><br><span class="line">                        <span class="attr">"value"</span>: <span class="string">"30px"</span>,</span><br><span class="line">                        <span class="attr">"position"</span>: &#123;</span><br><span class="line">                            <span class="attr">"start"</span>: &#123;</span><br><span class="line">                                <span class="attr">"line"</span>: <span class="number">7</span>,</span><br><span class="line">                                <span class="attr">"column"</span>: <span class="number">9</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">"end"</span>: &#123;</span><br><span class="line">                                <span class="attr">"line"</span>: <span class="number">7</span>,</span><br><span class="line">                                <span class="attr">"column"</span>: <span class="number">19</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">"type"</span>: <span class="string">"declaration"</span>,</span><br><span class="line">                        <span class="attr">"property"</span>: <span class="string">"background-color"</span>,</span><br><span class="line">                        <span class="attr">"value"</span>: <span class="string">"#ff1111"</span>,</span><br><span class="line">                        <span class="attr">"position"</span>: &#123;</span><br><span class="line">                            <span class="attr">"start"</span>: &#123;</span><br><span class="line">                                <span class="attr">"line"</span>: <span class="number">8</span>,</span><br><span class="line">                                <span class="attr">"column"</span>: <span class="number">9</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">"end"</span>: &#123;</span><br><span class="line">                                <span class="attr">"line"</span>: <span class="number">8</span>,</span><br><span class="line">                                <span class="attr">"column"</span>: <span class="number">34</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">"position"</span>: &#123;</span><br><span class="line">                    <span class="attr">"start"</span>: &#123;</span><br><span class="line">                        <span class="attr">"line"</span>: <span class="number">6</span>,</span><br><span class="line">                        <span class="attr">"column"</span>: <span class="number">5</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="attr">"end"</span>: &#123;</span><br><span class="line">                        <span class="attr">"line"</span>: <span class="number">9</span>,</span><br><span class="line">                        <span class="attr">"column"</span>: <span class="number">6</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">"parsingErrors"</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="ç¬¬äºŒæ­¥ï¼šæ·»åŠ è°ƒç”¨"><a href="#ç¬¬äºŒæ­¥ï¼šæ·»åŠ è°ƒç”¨" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šæ·»åŠ è°ƒç”¨"></a>ç¬¬äºŒæ­¥ï¼šæ·»åŠ è°ƒç”¨</h3><ul>
<li><p>å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå…ƒç´ åï¼Œç«‹å³è®¡ç®— CSS</p>
</li>
<li><p>ç†è®ºä¸Šï¼Œå½“æˆ‘ä»¬åˆ†æä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæ‰€æœ‰ CSS è§„åˆ™å·²ç»æ”¶é›†å®Œæ¯•</p>
</li>
<li><p>åœ¨çœŸå®æµè§ˆå™¨ä¸­ï¼Œå¯èƒ½é‡åˆ°å†™åœ¨ body çš„ style æ ‡ç­¾ï¼Œéœ€è¦é‡æ–° CSS è®¡ç®—çš„æƒ…å†µï¼Œè¿™é‡Œæˆ‘ä»¬å¿½ç•¥</p>
</li>
<li><p>computeCSS2.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">...some code</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">computeCSS</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(rules)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"-=-=-=-=-=-=-="</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"compute CSS for Element-=-=-=-=-=-="</span>, element)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"********************************************"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...some code</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">emit</span>(<span class="params">token</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  ... some code</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (token.type == <span class="string">"startTag"</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> element = &#123;</span><br><span class="line">      type: <span class="string">"element"</span>,</span><br><span class="line">      children: [],</span><br><span class="line">      attributes: []</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    element.tagName = token.tagName</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> p <span class="keyword">in</span> token) &#123;</span><br><span class="line">      <span class="keyword">if</span> (p != <span class="string">"type"</span> &amp;&amp; p != <span class="string">"tagName"</span>) &#123;</span><br><span class="line">        element.attributes.push(&#123;</span><br><span class="line">          name: p,</span><br><span class="line">          value: token[p]</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    computeCSS(element)</span><br><span class="line"></span><br><span class="line">    top.children.push(element)</span><br><span class="line">    element.parent = top</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!token.isSelfClosing)</span><br><span class="line">      stack.push(element)</span><br><span class="line">    </span><br><span class="line">    currentTextNode = <span class="literal">null</span></span><br><span class="line">    <span class="comment">// console.log('push', element)</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  ... some code</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿™é‡Œä¸€ä¸ªå…ƒç´ çš„åˆ›å»ºåï¼ŒtagName, å±æ€§éƒ½åŠ å¥½åï¼Œå°±åº”è¯¥æœ‰ä¸€ä¸ª cumputeCSS è¿‡ç¨‹</p>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/634ec08db6e9b90b38c17656be424e2d127292.png" alt="ç¬¬äºŒæ­¥ï¼šæ·»åŠ è°ƒç”¨"></li>
</ul>
</li>
</ul>
<h3 id="ç¬¬ä¸‰æ­¥ï¼šè·å–çˆ¶å…ƒç´ åºåˆ—"><a href="#ç¬¬ä¸‰æ­¥ï¼šè·å–çˆ¶å…ƒç´ åºåˆ—" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šè·å–çˆ¶å…ƒç´ åºåˆ—"></a>ç¬¬ä¸‰æ­¥ï¼šè·å–çˆ¶å…ƒç´ åºåˆ—</h3><ul>
<li><p>åœ¨ computeCss å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»çŸ¥é“å…ƒç´ çš„æ‰€æœ‰çˆ¶å…ƒç´ æ‰èƒ½åˆ¤æ–­å…ƒç´ ä¸è§„åˆ™æ˜¯å¦åŒ¹é…</p>
</li>
<li><p>æˆ‘ä»¬ä»ä¸Šä¸€æ­¥éª¤çš„ stackï¼Œå¯ä»¥è·å–æœ¬å…ƒç´ æ‰€æœ‰çš„çˆ¶å…ƒç´ </p>
</li>
<li><p>å› ä¸ºæˆ‘ä»¬é¦–å…ˆè·å–çš„æ˜¯â€å½“å‰å…ƒç´ â€œï¼Œæ‰€ä»¥æˆ‘ä»¬è·å¾—å’Œè®¡ç®—çˆ¶å…ƒç´ åŒ¹é…çš„é¡ºåºæ˜¯ä»å†…å‘å¤–</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/68af300e9e207b8a190b7c3893f17ff036554.png" alt="ä»å†…å‘å¤– CSS åŒ¹é…"></li>
</ul>
</li>
<li><p>computeCSS3.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">...some code</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">computeCSS</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">     <span class="keyword">const</span> elements = stack.slice().reverse()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...some code</span><br></pre></td></tr></table></figure></li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/706c9c25bc5a46f41f8bc11ba2a6854e250838.png" alt="ç¬¬ä¸‰æ­¥è¿è¡Œç»“æœ"></li>
</ul>
</li>
<li><p>stack.slice() æ‹·è´åŸæ•°ç»„ï¼Œä¸åœ¨ stack ä¸­æ“ä½œï¼Œé˜²å¾¡å¼ç¼–ç¨‹é¿å…å½±å“ stack</p>
</li>
</ul>
<h3 id="ç¬¬å››æ­¥ï¼šæ‹†åˆ†é€‰æ‹©å™¨"><a href="#ç¬¬å››æ­¥ï¼šæ‹†åˆ†é€‰æ‹©å™¨" class="headerlink" title="ç¬¬å››æ­¥ï¼šæ‹†åˆ†é€‰æ‹©å™¨"></a>ç¬¬å››æ­¥ï¼šæ‹†åˆ†é€‰æ‹©å™¨</h3><ul>
<li><p>é€‰æ‹©å™¨ä¹Ÿè¦ä»å½“å‰å…ƒç´ ä»å¤–æ’åˆ—</p>
</li>
<li><p>å¤æ‚é€‰æ‹©å™¨æ‹†æˆé’ˆå¯¹å•ä¸ªå…ƒç´ çš„é€‰æ‹©å™¨ï¼Œç”¨å¾ªç¯åŒ¹é…çˆ¶å…ƒç´ é˜Ÿåˆ—</p>
</li>
<li><p>computeCSS4.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">	</span><br><span class="line">	...some code</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">specificity</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> p = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">  <span class="keyword">const</span> selectorParts = selector.split(<span class="string">" "</span>)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> part <span class="keyword">of</span> selectorParts) &#123;</span><br><span class="line">    <span class="keyword">if</span> (part.charAt(<span class="number">0</span>) == <span class="string">"#"</span>) &#123;</span><br><span class="line">      p[<span class="number">1</span>] += <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (part.charAt(<span class="number">0</span>) == <span class="string">"."</span>) &#123;</span><br><span class="line">      p[<span class="number">2</span>] += <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      p[<span class="number">3</span>] += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">sp1, sp2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (sp1[<span class="number">0</span>] - sp2[<span class="number">0</span>]) &#123;</span><br><span class="line">    <span class="keyword">return</span> sp1[<span class="number">0</span>] - sp2[<span class="number">0</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (sp1[<span class="number">1</span>] - sp2[<span class="number">1</span>]) &#123;</span><br><span class="line">    <span class="keyword">return</span> sp1[<span class="number">1</span>] - sp2[<span class="number">1</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (sp1[<span class="number">2</span>] - sp2[<span class="number">2</span>]) &#123;</span><br><span class="line">    <span class="keyword">return</span> sp1[<span class="number">2</span>] - sp2[<span class="number">2</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> sp1[<span class="number">3</span>] - sp2[<span class="number">3</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">computeCSS</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> elements = stack.slice().reverse()</span><br><span class="line"></span><br><span class="line">	  <span class="keyword">if</span> (!element.computedStyle)</span><br><span class="line">	    element.computedStyle = &#123;&#125;</span><br><span class="line">	  </span><br><span class="line">	  <span class="keyword">for</span> (<span class="keyword">let</span> rule <span class="keyword">of</span> rules) &#123;</span><br><span class="line">	    <span class="keyword">const</span> selectorParts = rule.selectors[<span class="number">0</span>].split(<span class="string">" "</span>).reverse()</span><br><span class="line">	</span><br><span class="line">	    <span class="keyword">if</span> (!match(element, selectorParts[<span class="number">0</span>]))</span><br><span class="line">	      <span class="keyword">continue</span></span><br><span class="line">	</span><br><span class="line">	    <span class="keyword">let</span> matched = <span class="literal">false</span></span><br><span class="line">	</span><br><span class="line">	    <span class="keyword">let</span> j = <span class="number">1</span></span><br><span class="line">	</span><br><span class="line">	    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; elements.length; i ++) &#123;</span><br><span class="line">	      <span class="keyword">if</span> (match(elements[i], selectorParts[j])) &#123;</span><br><span class="line">	        j ++</span><br><span class="line">	      &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	    <span class="keyword">if</span> (j &gt;= selectorParts.length) &#123;</span><br><span class="line">	      matched = <span class="literal">true</span></span><br><span class="line">	    &#125;</span><br><span class="line">	    <span class="keyword">if</span> (matched) &#123; <span class="comment">// åŒ¹é…æˆåŠŸ</span></span><br><span class="line">	      <span class="built_in">console</span>.log(<span class="string">"Element"</span>, element, <span class="string">"matched rule"</span>, rule)</span><br><span class="line">	    &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	...some code</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h3 id="ç¬¬äº”æ­¥ï¼šè®¡ç®—é€‰æ‹©å™¨ä¸å…ƒç´ åŒ¹é…"><a href="#ç¬¬äº”æ­¥ï¼šè®¡ç®—é€‰æ‹©å™¨ä¸å…ƒç´ åŒ¹é…" class="headerlink" title="ç¬¬äº”æ­¥ï¼šè®¡ç®—é€‰æ‹©å™¨ä¸å…ƒç´ åŒ¹é…"></a>ç¬¬äº”æ­¥ï¼šè®¡ç®—é€‰æ‹©å™¨ä¸å…ƒç´ åŒ¹é…</h3><ul>
<li><p>æ ¹æ®é€‰æ‹©å™¨çš„ç±»å‹å’Œå…ƒç´ å±æ€§ï¼Œè®¡ç®—æ˜¯å¦ä¸å½“å‰å…ƒç´ åŒ¹é…</p>
</li>
<li><p>è¿™é‡Œä»…å®ç°äº†ä¸‰ç§åŸºæœ¬é€‰æ‹©å™¨ï¼Œå®é™…çš„æµè§ˆå™¨ä¸­è¦å¤„ç†å¤åˆé€‰æ‹©å™¨</p>
</li>
<li><p>computeCSS5.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">...some code</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">match</span>(<span class="params">element, selector</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!selector || !element.attributes) </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (selector.charAt(<span class="number">0</span>) == <span class="string">"#"</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> attr = element.attributes.filter(<span class="function"><span class="params">attr</span> =&gt;</span> attr.name === <span class="string">"id"</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> (attr &amp;&amp; attr.value === selector.replace(<span class="string">"#"</span>, <span class="string">''</span>))</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (selector.charAt(<span class="number">0</span>) == <span class="string">"."</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> attr = element.attributes.filter(<span class="function"><span class="params">attr</span> =&gt;</span> attr.name === <span class="string">"class"</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> (attr &amp;&amp; attr.value === selector.replace(<span class="string">"."</span>, <span class="string">''</span>))</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (element.tagName === selector) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...some code</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/e23fb1db77239166c990b52468b24451353540.png" alt="ç¬¬äº”æ­¥è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h4 id="ç¬¬äº”æ­¥ä¼˜åŒ–ï¼šå®ç°æ”¯æŒç©ºæ ¼çš„-Class-é€‰æ‹©å™¨"><a href="#ç¬¬äº”æ­¥ä¼˜åŒ–ï¼šå®ç°æ”¯æŒç©ºæ ¼çš„-Class-é€‰æ‹©å™¨" class="headerlink" title="ç¬¬äº”æ­¥ä¼˜åŒ–ï¼šå®ç°æ”¯æŒç©ºæ ¼çš„ Class é€‰æ‹©å™¨"></a>ç¬¬äº”æ­¥ä¼˜åŒ–ï¼šå®ç°æ”¯æŒç©ºæ ¼çš„ Class é€‰æ‹©å™¨</h4><ul>
<li><p>å‡å¦‚æˆ‘ä»¬çš„ html æ”¹æˆè¿™æ ·ï¼š</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">maaa</span>=<span class="string">a</span> &gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">body</span> <span class="selector-tag">div</span> <span class="selector-id">#myid</span>&#123;</span></span><br><span class="line"><span class="css">	    <span class="selector-tag">width</span><span class="selector-pseudo">:100px</span>;</span></span><br><span class="line"><span class="css">	    <span class="selector-tag">background-color</span>: <span class="selector-id">#ff5000</span>;</span></span><br><span class="line">	&#125;</span><br><span class="line">	body div img&#123;</span><br><span class="line"><span class="css">	    <span class="selector-tag">width</span><span class="selector-pseudo">:30px</span>;</span></span><br><span class="line"><span class="css">	    <span class="selector-tag">background-color</span>: <span class="selector-id">#ff1111</span>;</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="css">	<span class="selector-tag">body</span> <span class="selector-tag">div</span> <span class="selector-class">.cls1</span> &#123;</span></span><br><span class="line"><span class="css">	  <span class="selector-tag">background-color</span>: <span class="selector-id">#ff9906</span>;</span></span><br><span class="line">	&#125;</span><br><span class="line">	    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">	        <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"myid"</span>/&gt;</span></span><br><span class="line">	        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"cls1 cls2"</span>/&gt;</span></span><br><span class="line">	    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨ &lt;img&gt; å¢åŠ å¤šä¸ª class é€‰æ‹©å™¨ï¼Œé‚£æˆ‘ä»¬çš„é€‰æ‹©å™¨ match å¯ä»¥æ”¹æˆ</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">...some code</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">match</span>(<span class="params">element, selector</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!selector || !element.attributes) </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (selector.charAt(<span class="number">0</span>) == <span class="string">"#"</span>) &#123;</span><br><span class="line">	    </span><br><span class="line">	...some code</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (selector.charAt(<span class="number">0</span>) == <span class="string">"."</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> attr = element.attributes.filter(<span class="function"><span class="params">attr</span> =&gt;</span> attr.name === <span class="string">"class"</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> (attr) &#123;</span><br><span class="line">      <span class="keyword">const</span> attrClassArray = attr.value.split(<span class="string">' '</span>)</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> attrClass <span class="keyword">of</span> attrClassArray) &#123;</span><br><span class="line">        <span class="keyword">if</span> (attrClass === selector.replace(<span class="string">"."</span>, <span class="string">''</span>)) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		    </span><br><span class="line">	...some code</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">  &#125;</span><br><span class="line">	...some code</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...some code</span><br></pre></td></tr></table></figure></li>
<li><p>æ€è·¯ï¼š</p>
<ul>
<li>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/a8b9d9396713239928cd8b0af216535e40897.png" alt="å¤š class é€‰æ‹©å™¨"></li>
</ul>
</li>
<li>æˆ‘ä»¬å¯ä»¥å°† å…ƒç´  attr æ ¹æ®ç©ºæ ¼åˆ†éš”ï¼Œå†åˆ©ç”¨å¾ªç¯åŒ¹é…</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/1d5533479cdb7d6c1a0af20acdfc4e71146017.png" alt="ç¬¬äº”æ­¥ä¼˜åŒ–è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h3 id="ç¬¬å…­æ­¥ï¼šç”Ÿæˆ-computed-å±æ€§"><a href="#ç¬¬å…­æ­¥ï¼šç”Ÿæˆ-computed-å±æ€§" class="headerlink" title="ç¬¬å…­æ­¥ï¼šç”Ÿæˆ computed å±æ€§"></a>ç¬¬å…­æ­¥ï¼šç”Ÿæˆ computed å±æ€§</h3><ul>
<li><p>ä¸€æ—¦é€‰æ‹©åŒ¹é…ï¼Œå°±åº”ç”¨é€‰æ‹©å™¨åˆ°å…ƒç´ ä¸Šï¼Œå½¢æˆ computedStyle</p>
</li>
<li><p>computeCSS6.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">...some code</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">computeCSS</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">	</span><br><span class="line">	...some code</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">if</span> (matched) &#123; <span class="comment">// åŒ¹é…æˆåŠŸ</span></span><br><span class="line">      <span class="keyword">const</span> computedStyle = element.computedStyle</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> declaration <span class="keyword">of</span> rule.declarations) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!computedStyle[declaration.property]) &#123;</span><br><span class="line">          computedStyle[declaration.property] = &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        computedStyle[declaration.property].value = declaration.value</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">console</span>.log(element.computedStyle)</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">	...some code</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...some code</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/71888ca9220eb11196bc00eb407fb05980361.png" alt="ç¬¬å…­æ­¥è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h3 id="ç¬¬ä¸ƒæ­¥ï¼šç¡®å®šè§„åˆ™è¦†ç›–å…³ç³»"><a href="#ç¬¬ä¸ƒæ­¥ï¼šç¡®å®šè§„åˆ™è¦†ç›–å…³ç³»" class="headerlink" title="ç¬¬ä¸ƒæ­¥ï¼šç¡®å®šè§„åˆ™è¦†ç›–å…³ç³»"></a>ç¬¬ä¸ƒæ­¥ï¼šç¡®å®šè§„åˆ™è¦†ç›–å…³ç³»</h3><ul>
<li><p>CSS è§„åˆ™æ ¹æ® specificity å’Œåæ¥ä¼˜å…ˆè§„åˆ™è¦†ç›–</p>
</li>
<li><p>specificity æ˜¯ä¸ªå››å…ƒç»„ï¼Œè¶Šå·¦è¾¹æƒé‡è¶Šé«˜</p>
</li>
<li><p>ä¸€ä¸ª CSS è§„åˆ™çš„ specificity æ ¹æ®åŒ…å«çš„ç®€å•é€‰æ‹©å™¨ç›¸åŠ è€Œæˆ</p>
</li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/a50f3ae53878adbacbdcb7798632605e283940.png" alt="selectors-3 specificity"></p>
</li>
<li><p>computeCSS7.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">...some code</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">specificity</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> p = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">  <span class="keyword">const</span> selectorParts = selector.split(<span class="string">" "</span>)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> part <span class="keyword">of</span> selectorParts) &#123;</span><br><span class="line">    <span class="keyword">if</span> (part.charAt(<span class="number">0</span>) == <span class="string">"#"</span>) &#123;</span><br><span class="line">      p[<span class="number">1</span>] += <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (part.charAt(<span class="number">0</span>) == <span class="string">"."</span>) &#123;</span><br><span class="line">      p[<span class="number">2</span>] += <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      p[<span class="number">3</span>] += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">sp1, sp2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (sp1[<span class="number">0</span>] - sp2[<span class="number">0</span>]) &#123;</span><br><span class="line">    <span class="keyword">return</span> sp1[<span class="number">0</span>] - sp2[<span class="number">0</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (sp1[<span class="number">1</span>] - sp2[<span class="number">1</span>]) &#123;</span><br><span class="line">    <span class="keyword">return</span> sp1[<span class="number">1</span>] - sp2[<span class="number">1</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (sp1[<span class="number">2</span>] - sp2[<span class="number">2</span>]) &#123;</span><br><span class="line">    <span class="keyword">return</span> sp1[<span class="number">2</span>] - sp2[<span class="number">2</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> sp1[<span class="number">3</span>] - sp2[<span class="number">3</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">computeCSS</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">	</span><br><span class="line">	...some code</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">if</span> (matched) &#123; <span class="comment">// åŒ¹é…æˆåŠŸ</span></span><br><span class="line">      <span class="keyword">const</span> sp = specificity(rule.selectors[<span class="number">0</span>])</span><br><span class="line">      <span class="keyword">const</span> computedStyle = element.computedStyle</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> declaration <span class="keyword">of</span> rule.declarations) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!computedStyle[declaration.property]) &#123;</span><br><span class="line">          computedStyle[declaration.property] = &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!computedStyle[declaration.property].specificity) &#123;</span><br><span class="line">          computedStyle[declaration.property].value = declaration.value</span><br><span class="line">          computedStyle[declaration.property].specificity = sp</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (compare(computedStyle[declaration.property].specificity, sp) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">          computedStyle[declaration.property].value = declaration.value</span><br><span class="line">          computedStyle[declaration.property].specificity = sp</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">		</span><br><span class="line">	...some code</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...some code</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/063c59deee7d24e437fdff9920aec8ea216464.png" alt="ç¬¬ä¸ƒæ­¥è¿è¡Œç»“æœ"></li>
<li><img src="http://p1.meituan.net/myvideodistribute/c3a7fb73c0d001fef48137c4a23144b6211501.png" alt="ç¬¬ä¸ƒæ­¥è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Specificity" target="_blank" rel="noopener">CSS ä¼˜å…ˆçº§æ˜¯å¦‚ä½•è®¡ç®—çš„ï¼Ÿ</a></li>
<li><a href="https://drafts.csswg.org/selectors-3/#specificity" target="_blank" rel="noopener">selectors-3 specificity</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li><a href="https://github.com/Ele-Peng/toy-browser" target="_blank" rel="noopener">å®Œæ•´ä»£ç åœ°å€-ç‚¹å‡»ä¸€ä¸‹</a></li>
<li>å­¦è€Œä¸æ€åˆ™ç½”</li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>æµè§ˆå™¨</category>
      </categories>
      <tags>
        <tag>æµè§ˆå™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åº-fix canvasåŸç”Ÿç»„ä»¶æœ€é¡¶å±‚</title>
    <url>/2020/04/05/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-fix%20canvas%E5%8E%9F%E7%94%9F%E7%BB%84%E4%BB%B6%E6%9C%80%E9%A1%B6%E5%B1%82/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>å¤§å®¶åº”è¯¥éƒ½çŸ¥é“è¿‡ï¼Œåœ¨å¾®ä¿¡å°ç¨‹åºä¸­ï¼Œcanvasç­‰åŸç”Ÿç»„ä»¶çš„å±‚çº§æ˜¯æœ€é«˜çš„ï¼Œé¡µé¢ä¸­æ— è®ºä½ è®¾ç½®å¤šå¤§çš„z-indexéƒ½æ— æ³•è¦†ç›–åœ¨å…¶ä¹‹ä¸Šï¼Œè¿™å°±å¯èƒ½ä¼šäº§ç”Ÿä¸€äº›é—®é¢˜</li>
<li>å°±åƒè¿™æ ·<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2UxYmQ5OTM2M2VkYjU1NTRmYjc5MzBlZDllMTA0ZjEwMTc2MDM0LnBuZw?x-oss-process=image/format,png" alt="canvasé¡¶å±‚é—®é¢˜æˆªå›¾"></li>
<li>æŸ±çŠ¶å›¾æ˜¯ç”¨canvasç”»çš„ï¼Œå®ƒç½®äºäº†æˆ‘çš„tooltipä¹‹ä¸Šã€‚ã€è¿™çœ‹èµ·æ¥çœŸæ˜¯ä¸€ä¸ªå¯æ€•çš„é—®é¢˜<a id="more"></a>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="è§£å†³é—®é¢˜"><a href="#è§£å†³é—®é¢˜" class="headerlink" title="è§£å†³é—®é¢˜"></a>è§£å†³é—®é¢˜</h2><ul>
<li>å¾®ä¿¡å®˜æ–¹æä¾›äº†<a href="https://developers.weixin.qq.com/miniprogram/dev/component/cover-view.html" target="_blank" rel="noopener">cover-view</a>åŸç”Ÿç»„ä»¶ï¼Œè¦†ç›–åœ¨åŸç”Ÿç»„ä»¶ä¹‹ä¸Šçš„æ–‡æœ¬è§†å›¾</li>
<li>å¾®ä¿¡å®˜æ–¹æä¾›äº†å°†canvasè½¬åŒ–ä¸ºå›¾ç‰‡çš„æ–¹å¼â€“<a href="https://developers.weixin.qq.com/miniprogram/dev/api/canvas/wx.canvasToTempFilePath.html" target="_blank" rel="noopener">wx.canvasToTempFilePath</a>ï¼Œè¿™æ ·å°±å¯ä»¥â€é™çº§â€œ</li>
</ul>
<h3 id="æ–¹æ³•ä¸€ï¼šcover-view"><a href="#æ–¹æ³•ä¸€ï¼šcover-view" class="headerlink" title="æ–¹æ³•ä¸€ï¼šcover-view"></a>æ–¹æ³•ä¸€ï¼šcover-view</h3><ul>
<li>å°†tooltipç”¨cover-viewæ”¹å†™ï¼Œæ•ˆæœå¦‚ä¸‹<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2Y0MTZjZjhlMjNiZWEwMjNjYTM1M2JhOGExMDM1MDM2MzYyOTIucG5n?x-oss-process=image/format,png" alt="cover-view version0.1 æˆªå›¾"></li>
<li>çœ‹ä¸Šå»ï¼Œæ˜¯è§£å†³äº†æˆ‘ä»¬çš„é—®é¢˜ï¼Œä¸”tooltipåçš„ç°è‰²èƒŒæ™¯ä¸èƒ½æ»‘åŠ¨äº†ï¼Œã€å¦ˆè€¶ï¼Œå¥½æ£’ï¼</li>
<li>ä½†æ˜¯ï¼Œè¿™äº§ç”Ÿäº†ä¸€ä¸ªï¼š<strong>å½“æ–‡æœ¬è¶…å‡ºtooltipå®½åº¦æ—¶ï¼Œscroll-y: autoï¼Œå¤±æ•ˆäº†ï¼Œæº¢å‡ºéƒ¨åˆ†è¢«ç›´æ¥æˆªå–</strong></li>
<li>ç½ªé­ç¥¸é¦–å°±æ˜¯å®ƒ<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2M5ZDljYjZiZTQ0ZGY3YmJmNmRlMjAxNDM1ZmYzOTJjNDMxNDMucG5n?x-oss-process=image/format,png" alt="coverå†…ç½®æ ·å¼"></li>
</ul>
</li>
<li>é‚£æˆ‘ä»¬å¯ä»¥ï¼š<ul>
<li>åœ¨tooltipåˆ†æ®µå†…å®¹ä¸­åŠ ä¸Š  <figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.modal-layer-content-rule</span> &#123;</span><br><span class="line">    <span class="attribute">white-space</span>: pre-wrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>åœ¨å†…å®¹wrapperä¸­åŠ ä¸Š  <figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.modal-layer-content</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: scroll;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>å®Œç¾è§£å†³<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2FhZjRkMDAyODdjZGI4M2Y0NWRhMGVkOTg3Mzc5MGNhNDQxMjkucG5n?x-oss-process=image/format,png" alt="cover-viewè§£å†³å›¾"><h3 id="æ–¹æ³•äºŒï¼šwx-canvasToTempFilePath"><a href="#æ–¹æ³•äºŒï¼šwx-canvasToTempFilePath" class="headerlink" title="æ–¹æ³•äºŒï¼šwx.canvasToTempFilePath"></a>æ–¹æ³•äºŒï¼šwx.canvasToTempFilePath</h3></li>
</ul>
</li>
</ul>
</li>
<li>é¦–å…ˆæˆ‘ä»¬è¦åšçš„å°±æ˜¯å°†ç½‘ç»œå›¾ç‰‡ç»˜åˆ¶è¿›canvasï¼Œå®˜æ–¹å…³äºcanvasç±»å‹æœ‰ä¸¤ç§<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2E4ZjJmNjA5OGYxNmQ4MzY3NWJiN2I3OWY0ZDM1NWM1MTAwMDg3LnBuZw?x-oss-process=image/format,png" alt="ä¸¤ç§canvasç±»å‹"></li>
<li>æ–°canvas 2Dæ¥å£å°è¯•  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> query = wx.createSelectorQuery().in(<span class="keyword">this</span>)</span><br><span class="line">   query.select(<span class="string">'#myCanvas'</span>)</span><br><span class="line">     .fields(&#123; <span class="attr">node</span>: <span class="literal">true</span>, <span class="attr">size</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">     .exec(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">       <span class="keyword">const</span> canvas = res[<span class="number">0</span>].node</span><br><span class="line">       <span class="keyword">const</span> ctx = canvas.getContext(<span class="string">'2d'</span>)</span><br><span class="line">       <span class="keyword">const</span> img = canvas.createImage()</span><br><span class="line">       img.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">         ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line">       &#125;</span><br><span class="line">       img.src = <span class="string">'https://p0.meituan.net/myvideodistribute/0990cc2062e81ab6cc11fd8690f8755042005.jpg'</span></span><br><span class="line">       <span class="comment">// è¿™ç§æ–¹å¼è·å–canvasåŒºåŸŸéšå«çš„åƒç´ æ•°æ®</span></span><br><span class="line">       <span class="built_in">console</span>.log(ctx.getImageData(<span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>, <span class="number">100</span>).data)</span><br><span class="line">     &#125;)</span><br></pre></td></tr></table></figure>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">type</span>=<span class="string">"2d"</span> <span class="attr">id</span>=<span class="string">"myCanvas"</span> <span class="attr">canvas-id</span>=<span class="string">"myCanvas"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>è¿è¡Œæˆªå›¾<img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzE5ZWE3ZGYxYjg2ODUzOWFhNzVhY2E0OTAxYzI2MzU2OTk4NDYucG5n?x-oss-process=image/format,png" alt="canvas2d è¿è¡Œæˆªå›¾"></li>
<li>ç¬¬äºŒç§æ—§canvas  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ctx = wx.createCanvasContext(<span class="string">'myCanvas'</span>)</span><br><span class="line">   wx.getImageInfo(&#123;</span><br><span class="line">       src: <span class="string">'https://p0.meituan.net/myvideodistribute/0990cc2062e81ab6cc11fd8690f8755042005.jpg'</span>,</span><br><span class="line">       success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'res'</span>, res)</span><br><span class="line">         <span class="keyword">const</span> poster = res.path                                  </span><br><span class="line">         ctx.drawImage(poster, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>, <span class="number">100</span>)</span><br><span class="line">         ctx.draw()</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;)</span><br><span class="line">     <span class="comment">// è¿™ç§æ–¹å¼è·å–canvasåŒºåŸŸéšå«çš„åƒç´ æ•°æ®</span></span><br><span class="line">     wx.canvasGetImageData(&#123;</span><br><span class="line">       canvasId: <span class="string">'myCanvas'</span>,</span><br><span class="line">       x: <span class="number">0</span>,</span><br><span class="line">       y: <span class="number">0</span>,</span><br><span class="line">       width: <span class="number">150</span>,</span><br><span class="line">       height: <span class="number">100</span>,</span><br><span class="line">       success(res) &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(res.width) <span class="comment">// 150</span></span><br><span class="line">         <span class="built_in">console</span>.log(res.height) <span class="comment">// 100</span></span><br><span class="line">         <span class="built_in">console</span>.log(res.data <span class="keyword">instanceof</span> <span class="built_in">Uint8ClampedArray</span>) <span class="comment">// true</span></span><br><span class="line">         <span class="built_in">console</span>.log(res.data) <span class="comment">// 150 * 100 * 4</span></span><br><span class="line">         <span class="built_in">console</span>.log(res.data.length) <span class="comment">// 150 * 100 * 4</span></span><br><span class="line">       &#125;</span><br><span class="line">     &#125;)</span><br></pre></td></tr></table></figure>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"myCanvas"</span> <span class="attr">canvas-id</span>=<span class="string">"myCanvas"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>è¿è¡Œæˆªå›¾<img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzU4NTg5MzQ4MDc3Njk3OTA0OTRmZmIzOWRiNDdjMWRmNjk4ODQucG5n?x-oss-process=image/format,png" alt="æ—§canvas"></li>
<li>è™½ç„¶ä¸¤ç§æ–¹æ³•ï¼Œéƒ½èƒ½å®ç°å°†ç½‘ç»œå›¾ç‰‡ç»˜åˆ¶è¿›canvasï¼Œä½†æ–°ç‰ˆçš„è¿›è¡Œäº†createImageï¼Œå°†å…¶æ‰“å°çš„è¯ï¼Œå…¶å®å°±æ˜¯æ–°å»ºäº†ä¸€ä¸ªimgæ ‡ç­¾ï¼Œå¹¶å°†imgæ ‡ç­¾çš„ä¸œè¥¿ç»˜åˆ¶è¿›canvas<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzFjMjE1NzMzZTRkY2UzNGZiNzI4NDFhZWEyMDc0ZWIwMjQ1OTQucG5n?x-oss-process=image/format,png" alt="img console"></li>
<li>ä¸ºä»€ä¹ˆå¾®ä¿¡å®˜æ–¹ä¼šä»…æ”¯æŒä»¥ä¸‹æ–¹å¼è¿›è¡Œæ–°ç‰ˆcanvas2d å›¾ç‰‡çš„ç»˜åˆ¶ï¼Œè€ƒè™‘æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2JhYWQ1OWRhNDI4M2FjZmViZTY1NGQ0ZWZiNTAxZDZlMjAxMjE2LnBuZw?x-oss-process=image/format,png" alt="ç»å…¸æŠ¥é”™"></li>
</ul>
</li>
<li>ç°åœ¨æˆ‘ä»¬è¦å°†canvasçš„å†…å®¹å¯¼æˆå›¾ç‰‡ï¼ŒåŒæ ·åˆ†æˆæ–°æ—§ä¸¤ç‰ˆ</li>
<li>ä¸»è¦æ€è·¯éƒ½æ˜¯ï¼šåœ¨wxmlä¸­ï¼Œå¦‚æœcanvasç»˜åˆ¶å›¾ç‰‡æ²¡æœ‰å®Œæˆï¼Œåˆ™æ˜¾ç¤ºcanvaså†…å®¹ï¼Œç»˜åˆ¶å®Œæˆåï¼Œå°±åˆ©ç”¨canvasToTempFilePathï¼Œå°†å›¾å±‚å†…å®¹ç”ŸæˆæŒ‡å®šå¤§å°å›¾ç‰‡ï¼Œæ˜¾ç¤ºimage<ul>
<li>canvas2d   <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> that = <span class="keyword">this</span></span><br><span class="line">   <span class="keyword">const</span> query = wx.createSelectorQuery().in(<span class="keyword">this</span>)</span><br><span class="line">   query.select(<span class="string">'#myCanvas'</span>)</span><br><span class="line">     .fields(&#123; <span class="attr">node</span>: <span class="literal">true</span>, <span class="attr">size</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">     .exec(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">       <span class="keyword">const</span> canvas = res[<span class="number">0</span>].node</span><br><span class="line">       <span class="keyword">const</span> ctx = canvas.getContext(<span class="string">'2d'</span>)</span><br><span class="line">       <span class="keyword">const</span> img = canvas.createImage()</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">'img'</span>, img)</span><br><span class="line">       img.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">         ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line">           wx.canvasToTempFilePath(&#123;</span><br><span class="line">             x: <span class="number">0</span>,</span><br><span class="line">             y: <span class="number">0</span>,</span><br><span class="line">             width: <span class="number">100</span>,</span><br><span class="line">             height: <span class="number">100</span>,</span><br><span class="line">             destWidth: <span class="number">100</span>,</span><br><span class="line">             destHeight: <span class="number">100</span>,</span><br><span class="line">             canvas: canvas,</span><br><span class="line">             success(res) &#123;</span><br><span class="line">               that.setData(&#123;</span><br><span class="line">                 imgPath: res.tempFilePath</span><br><span class="line">               &#125;)</span><br><span class="line">             &#125;,</span><br><span class="line">             fail(err) &#123;</span><br><span class="line">               <span class="built_in">console</span>.log(<span class="string">'err'</span>, err)</span><br><span class="line">             &#125;</span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;</span><br><span class="line">       img.src = <span class="string">'https://p0.meituan.net/myvideodistribute/0990cc2062e81ab6cc11fd8690f8755042005.jpg'</span></span><br><span class="line">       <span class="comment">// è¿™ç§æ–¹å¼è·å–canvasåŒºåŸŸéšå«çš„åƒç´ æ•°æ®</span></span><br><span class="line">       <span class="built_in">console</span>.log(ctx.getImageData(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>).data)</span><br><span class="line">     &#125;)</span><br></pre></td></tr></table></figure>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123;!imgPath&#125;&#125;"</span> <span class="attr">type</span>=<span class="string">"2d"</span> <span class="attr">id</span>=<span class="string">"myCanvas"</span> <span class="attr">canvas-id</span>=<span class="string">"myCanvas"</span> <span class="attr">style</span>=<span class="string">"width: 330px;height: 340px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">wx:else</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;imgPath&#125;&#125;"</span> <span class="attr">style</span>=<span class="string">"width: 330px;height: 340px;"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>canvas2d éœ€è¦è¸©å¾—å‘æ˜¯ï¼šå®ƒçš„å®˜æ–¹æ–‡æ¡£ğŸ™ƒ<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2UwM2Q1ZDg0YzYyNmI0NzlmZjBjOTlmNzA1YmRhYjg5NDc5MjcucG5n?x-oss-process=image/format,png" alt="canvas2d è½¬å›¾ç‰‡è¯¯å¯¼"></li>
<li>å°è¯•ä¸‹æ¥ï¼Œä¼š<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2UxMjRiY2Q3ZmNjYWI5ODBlNDdkMTk2YTMyZGQyODI4NDUzODcucG5n?x-oss-process=image/format,png" alt="ctx.drawæŠ¥é”™"></li>
</ul>
</li>
<li>é‚£æˆ‘ä»¬å¯ä»¥ç»§ç»­å¾€ä¸‹çœ‹<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2YxODk5NWFiNDY4N2IwYmZlYzhjZTZkZWU2ZWQxYmZjMTA1MTY1LnBuZw?x-oss-process=image/format,png" alt="canvas2d tempathæ­£ç¡®å®åŠ›">è¿™æ‰æ˜¯ç¬¦åˆæˆ‘ä»¬éœ€è¦</li>
</ul>
</li>
</ul>
</li>
<li>è¿è¡Œæˆªå›¾<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2JmMzVlMzY4YzRjMmRhYTgxNTA0NzM0YTIxZGMxM2I2NDYwNzIucG5n?x-oss-process=image/format,png" alt="canvas2dè¿è¡Œæˆªå›¾"></li>
</ul>
</li>
</ul>
</li>
<li>æ—§ç‰ˆcanvas  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ctx = wx.createCanvasContext(<span class="string">'myCanvas'</span>)</span><br><span class="line"><span class="keyword">const</span> that = <span class="keyword">this</span></span><br><span class="line">wx.getImageInfo(&#123;</span><br><span class="line">  src: <span class="string">'https://p0.meituan.net/myvideodistribute/0990cc2062e81ab6cc11fd8690f8755042005.jpg'</span>,</span><br><span class="line">  success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'res'</span>, res)</span><br><span class="line">    <span class="keyword">const</span> poster = res.path</span><br><span class="line">    ctx.drawImage(poster, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>, <span class="number">100</span>)</span><br><span class="line">    ctx.draw(<span class="literal">false</span>, () =&gt; &#123;</span><br><span class="line">      wx.canvasToTempFilePath(&#123;</span><br><span class="line">        x: <span class="number">0</span>,</span><br><span class="line">        y: <span class="number">0</span>,</span><br><span class="line">        width: <span class="number">100</span>,</span><br><span class="line">        height: <span class="number">100</span>,</span><br><span class="line">        destWidth: <span class="number">100</span>,</span><br><span class="line">        destHeight: <span class="number">100</span>,</span><br><span class="line">        canvasId: <span class="string">"myCanvas"</span>,</span><br><span class="line">        success(res) &#123;</span><br><span class="line">          that.setData(&#123;</span><br><span class="line">            imgPath: res.tempFilePath</span><br><span class="line">          &#125;)</span><br><span class="line">          <span class="built_in">console</span>.log(res.tempFilePath)</span><br><span class="line">        &#125;,</span><br><span class="line">        fail(err) &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'err'</span>, err)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// è¿™ç§æ–¹å¼è·å–canvasåŒºåŸŸéšå«çš„åƒç´ æ•°æ®</span></span><br><span class="line">    wx.canvasGetImageData(&#123;</span><br><span class="line">      canvasId: <span class="string">'myCanvas'</span>,</span><br><span class="line">      x: <span class="number">0</span>,</span><br><span class="line">      y: <span class="number">0</span>,</span><br><span class="line">      width: <span class="number">150</span>,</span><br><span class="line">      height: <span class="number">100</span>,</span><br><span class="line">      success(res) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res.width) <span class="comment">// 150</span></span><br><span class="line">        <span class="built_in">console</span>.log(res.height) <span class="comment">// 100</span></span><br><span class="line">        <span class="built_in">console</span>.log(res.data <span class="keyword">instanceof</span> <span class="built_in">Uint8ClampedArray</span>) <span class="comment">// true</span></span><br><span class="line">        <span class="built_in">console</span>.log(res.data) <span class="comment">// 150 * 100 * 4</span></span><br><span class="line">        <span class="built_in">console</span>.log(res.data.length) <span class="comment">// 150 * 100 * 4</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123;!imgPath&#125;&#125;"</span> <span class="attr">id</span>=<span class="string">"myCanvas"</span> <span class="attr">canvas-id</span>=<span class="string">"myCanvas"</span> <span class="attr">style</span>=<span class="string">"width: 330px;height: 340px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">wx:else</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;imgPath&#125;&#125;"</span> <span class="attr">style</span>=<span class="string">"width: 330px;height: 340px;"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œæˆªå›¾<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2EzZTRiYTBkYzc2NDgzYTM1NTYxZDcwNDUzNzZkNjZmNDU5MTgucG5n?x-oss-process=image/format,png" alt="æ—§ç‰ˆcanvasè¿è¡Œæˆªå›¾"><h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>æ„Ÿè°¢<a href="https://github.com/skadieyes" target="_blank" rel="noopener">Skadyå®è´</a>åœ¨æ¢è®¨é—®é¢˜ä¸­ç»™äºˆçš„å¸®åŠ©ï¼Œæ¬¢è¿å¤§å®¶å»githubæ‰¾å¥¹ç©ğŸ‘ˆ</li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
<hr>
]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
      <tags>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºKMPçš„FSMå¤„ç†æœªçŸ¥ pattern</title>
    <url>/2020/05/16/%E5%9F%BA%E4%BA%8EKMP%E7%9A%84FSM%E5%A4%84%E7%90%86%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>


<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>å‡†å¤‡æ•´ä¸€ä¸‹ â€œåŸºäºKMPçš„FSMå¤„ç† patternâ€ å•¦ï¼Œç¥æˆ‘æˆåŠŸ ğŸ™‹</li>
<li>è¿™é‡Œå‘¢~ å‡†å¤‡åˆ†ä¸ºä¸‰æ­¥å»å®ç°<ul>
<li>FSM å¤„ç†å­—ç¬¦ä¸²</li>
<li>KMP ç®—æ³•æ¦‚è¿°</li>
<li>åŸºäº KMP çš„ FSM å¤„ç† pattern çš„å®ç°</li>
</ul>
</li>
</ul>
<a id="more"></a>

<h2 id="å®è·µè®°å½•"><a href="#å®è·µè®°å½•" class="headerlink" title="å®è·µè®°å½•"></a>å®è·µè®°å½•</h2><h3 id="FSM-å¤„ç†å­—ç¬¦ä¸²"><a href="#FSM-å¤„ç†å­—ç¬¦ä¸²" class="headerlink" title="FSM å¤„ç†å­—ç¬¦ä¸²"></a>FSM å¤„ç†å­—ç¬¦ä¸²</h3><h4 id="FSM-æ¦‚å¿µ"><a href="#FSM-æ¦‚å¿µ" class="headerlink" title="FSM æ¦‚å¿µ"></a>FSM æ¦‚å¿µ</h4><ul>
<li>æ¯ä¸€ä¸ªçŠ¶æ€éƒ½æ˜¯ä¸€ä¸ªæœºå™¨<ul>
<li>åœ¨æ¯ä¸€ä¸ªæœºå™¨é‡Œï¼Œæˆ‘ä»¬å¯ä»¥åšè®¡ç®—ã€å­˜å‚¨ã€è¾“å‡º</li>
<li>æ‰€æœ‰çš„è¿™äº›æœºå™¨æ¥å—çš„è¾“å…¥æ˜¯ä¸€è‡´çš„</li>
<li>çŠ¶æ€æœºçš„æ¯ä¸€ä¸ªæœºå™¨æœ¬èº«æ²¡æœ‰çŠ¶æ€ï¼Œå¦‚æœæˆ‘ä»¬ç”¨å‡½æ•°æ¥è¡¨ç¤ºçš„è¯ï¼Œå®ƒåº”è¯¥æ˜¯çº¯å‡½æ•°ï¼ˆæ— å‰¯ä½œç”¨ï¼‰</li>
</ul>
</li>
<li>æ¯ä¸€ä¸ªæœºå™¨çŸ¥é“ä¸‹ä¸€ä¸ªçŠ¶æ€<ul>
<li>æ¯ä¸ªæœºå™¨éƒ½æœ‰ç¡®å®šçš„ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼ˆMooreï¼‰</li>
<li>æ¯ä¸ªæœºå™¨æ ¹æ®è¾“å…¥å†³å®šä¸‹ä¸€ä¸ªçŠ¶æ€ï¼ˆMealyï¼‰</li>
</ul>
</li>
</ul>
<h4 id="åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸²-abcdef"><a href="#åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸²-abcdef" class="headerlink" title="åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸² abcdef"></a>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸² abcdef</h4><ul>
<li><p>ä¸ä½¿ç”¨ FSM ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸² abcdefæ‰¾åˆ°å­—ç¬¦ä¸² abcdef</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">match</span>(<span class="params">string</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> foundA = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">let</span> foundB = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">let</span> foundC = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">let</span> foundD = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">let</span> foundE = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> string) &#123;</span><br><span class="line">    <span class="keyword">if</span> (char == <span class="string">'a'</span>)</span><br><span class="line">      foundA = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (foundA &amp;&amp; char == <span class="string">'b'</span>)</span><br><span class="line">      foundB = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (foundB &amp;&amp; char == <span class="string">'c'</span>)</span><br><span class="line">      foundC = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (foundC &amp;&amp; char == <span class="string">'d'</span>)</span><br><span class="line">      foundD = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (foundD &amp;&amp; char == <span class="string">'e'</span>)</span><br><span class="line">      foundE = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (foundD &amp;&amp; char == <span class="string">'f'</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> foundA = <span class="literal">false</span></span><br><span class="line">      <span class="keyword">let</span> foundB = <span class="literal">false</span></span><br><span class="line">      <span class="keyword">let</span> foundC = <span class="literal">false</span></span><br><span class="line">      <span class="keyword">let</span> foundD = <span class="literal">false</span></span><br><span class="line">      <span class="keyword">let</span> foundE = <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(match(<span class="string">"I aabcdefghm grood."</span>))</span><br><span class="line"><span class="built_in">console</span>.log(match(<span class="string">"I aacdefghm grood."</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/40a9e9395d783093ae5e9af1bc2d081c58822.png" alt="ç¬¬ä¸€ç‰ˆè¿è¡Œç»“æœ"></li>
</ul>
</li>
<li>ç¼ºç‚¹ï¼š<ol>
<li>ä¸å¯æ‰©å±•ä»£ç è¾ƒå¤š</li>
<li>if else å¤šæ¬¡åˆ¤æ–­</li>
</ol>
</li>
</ul>
</li>
<li><p>ä½¿ç”¨ FSM ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸² abcdef </p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">match</span>(<span class="params">string</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> state = start</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> string) &#123;</span><br><span class="line">    state = state(char)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> state === end</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'a'</span>)</span><br><span class="line">    <span class="keyword">return</span> findA</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">end</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> end</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findA</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'b'</span>)</span><br><span class="line">    <span class="keyword">return</span> findB</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findB</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'c'</span>)</span><br><span class="line">    <span class="keyword">return</span> findC</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findC</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'d'</span>)</span><br><span class="line">    <span class="keyword">return</span> findD</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findD</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'e'</span>)</span><br><span class="line">    <span class="keyword">return</span> findE</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findE</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'f'</span>)</span><br><span class="line">    <span class="keyword">return</span> end</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(match(<span class="string">"I aabcdefghm grood."</span>))</span><br><span class="line"><span class="built_in">console</span>.log(match(<span class="string">"I aacdefghm grood."</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/74431b7630e0a9f8b3aeb65907987b9a80908.png" alt="FSM å¤„ç†å­—ç¬¦ä¸² abcdef"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="JS-ä¸­çš„æœ‰é™çŠ¶æ€æœº"><a href="#JS-ä¸­çš„æœ‰é™çŠ¶æ€æœº" class="headerlink" title="JS ä¸­çš„æœ‰é™çŠ¶æ€æœº"></a>JS ä¸­çš„æœ‰é™çŠ¶æ€æœº</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ¯ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªçŠ¶æ€</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">state</span>(<span class="params">input</span>) </span>&#123; <span class="comment">// å‡½æ•°å‚æ•°å°±æ˜¯è¾“å…¥</span></span><br><span class="line">  <span class="comment">// åœ¨å‡½æ•°ä¸­ï¼Œå¯ä»¥è‡ªç”±åœ°ç¼–å†™ä»£ç ï¼Œå¤„ç†æ¯ä¸ªçŠ¶æ€çš„é€»è¾‘</span></span><br><span class="line">  <span class="keyword">return</span> next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** ä»¥ä¸‹æ˜¯è°ƒç”¨ **/</span></span><br><span class="line"><span class="keyword">while</span>(input) &#123;</span><br><span class="line">  <span class="comment">// è·å–è¾“å…¥</span></span><br><span class="line">  state = state(input) <span class="comment">// æŠŠçŠ¶æ€æœºçš„è¿”å›å€¼ä½œä¸ºä¸‹ä¸€ä¸ªçŠ¶æ€</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨-FSM-ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸²-abcabx"><a href="#ä½¿ç”¨-FSM-ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸²-abcabx" class="headerlink" title="ä½¿ç”¨ FSM ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸² abcabx"></a>ä½¿ç”¨ FSM ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸² abcabx</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">match</span>(<span class="params">string</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> state = start</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> string) &#123;</span><br><span class="line">    state = state(char)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> state === end</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'a'</span>)</span><br><span class="line">    <span class="keyword">return</span> findA</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">end</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> end</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findA</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'b'</span>)</span><br><span class="line">    <span class="keyword">return</span> findB</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findB</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'c'</span>)</span><br><span class="line">    <span class="keyword">return</span> findC</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findC</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'a'</span>)</span><br><span class="line">    <span class="keyword">return</span> findA2</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findA2</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'b'</span>)</span><br><span class="line">    <span class="keyword">return</span> findB2</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findB2</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'x'</span>)</span><br><span class="line">    <span class="keyword">return</span> end</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> findB(char)</span><br><span class="line">&#125;</span><br><span class="line">match(<span class="string">"I aabcabcabx grood."</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/c09493a569d2d4e21d1600ebd9fcb84589625.png" alt="FSM æ‰¾åˆ° abcabx"></li>
</ul>
</li>
</ul>
<h4 id="ä½¿ç”¨-FSM-ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸²-ababx"><a href="#ä½¿ç”¨-FSM-ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸²-ababx" class="headerlink" title="ä½¿ç”¨ FSM ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸² ababx"></a>ä½¿ç”¨ FSM ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸² ababx</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">match</span>(<span class="params">string</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> state = start</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> string) &#123;</span><br><span class="line">    state = state(char)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> state === end</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'a'</span>)</span><br><span class="line">    <span class="keyword">return</span> findA1</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">end</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> end</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findA1</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'b'</span>)</span><br><span class="line">    <span class="keyword">return</span> findB1</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findB1</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'a'</span>)</span><br><span class="line">    <span class="keyword">return</span> findA2</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findA2</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'b'</span>)</span><br><span class="line">    <span class="keyword">return</span> findB2</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findB2</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'a'</span>)</span><br><span class="line">    <span class="keyword">return</span> findA3</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findA3</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'b'</span>)</span><br><span class="line">    <span class="keyword">return</span> findB3</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> start(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findB3</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char === <span class="string">'x'</span>)</span><br><span class="line">    <span class="keyword">return</span> end</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> findB2(char)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(match(<span class="string">"I aababababx grood."</span>))</span><br><span class="line"><span class="built_in">console</span>.log(match(<span class="string">"I aabababababx grood."</span>))</span><br><span class="line"><span class="built_in">console</span>.log(match(<span class="string">"I aababaeababx grood."</span>))</span><br><span class="line"><span class="built_in">console</span>.log(match(<span class="string">"I aabababaabx grood."</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/6c000a617a3f594e24bf99c52d4d0848101059.png" alt="abababx"></li>
</ul>
</li>
</ul>
<p>ã€é‚£æˆ‘ä»¬è¯¥å¦‚ä½•åˆ©ç”¨ FSM å¤„ç†æœªçŸ¥ pattern å‘¢ï¼ŸğŸ¤”</p>
<p>ã€å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜å°±æ˜¯åœ¨ä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²Tä¸­æœç´¢æŸä¸ªæ¨¡å¼å­—ç¬¦ä¸²Pçš„æ‰€æœ‰å‡ºç°ä½ç½®ã€‚</p>
<h3 id="KMP-ç®—æ³•æ¦‚è¿°"><a href="#KMP-ç®—æ³•æ¦‚è¿°" class="headerlink" title="KMP ç®—æ³•æ¦‚è¿°"></a>KMP ç®—æ³•æ¦‚è¿°</h3><h4 id="KMP-æœ€é•¿å…¬å…±å‰åç¼€é•¿åº¦"><a href="#KMP-æœ€é•¿å…¬å…±å‰åç¼€é•¿åº¦" class="headerlink" title="KMP æœ€é•¿å…¬å…±å‰åç¼€é•¿åº¦"></a>KMP æœ€é•¿å…¬å…±å‰åç¼€é•¿åº¦</h4><ul>
<li><p>å‡å¦‚ pattern ä¸º ABABCABAA</p>
<ul>
<li>å‰ç¼€ä¾æ¬¡ä¸º A AB ABA ABAB ABABC ABABCA ABABCAB ABABCABA</li>
<li>åç¼€ä¾æ¬¡ä¸º A AA BAA ABAA CABAA BCABAA ABCABAA BABCABAA</li>
</ul>
</li>
<li><p>é‚£ä¹ˆå®ƒçš„æœ€é•¿å…¬å…±å‰åç¼€é•¿åº¦ä¸ºå¤šå°‘å‘¢ï¼Ÿ</p>
<ul>
<li>A â€“&gt; 0<ul>
<li>æ— å‰ç¼€</li>
<li>æ— åç¼€</li>
<li>æœ€é•¿å…¬å…±å‰åç¼€ï¼šâ€â€ï¼Œlen = 0</li>
</ul>
</li>
<li>AB â€“&gt; 0<ul>
<li>å‰ç¼€ A</li>
<li>åç¼€ B</li>
<li>æœ€é•¿å…¬å…±å‰åç¼€ï¼šâ€â€ï¼Œlen = 0</li>
</ul>
</li>
<li>ABA â€“&gt; 1<ul>
<li>å‰ç¼€ A AB</li>
<li>åç¼€ A BA </li>
<li>æœ€é•¿å…¬å…±å‰åç¼€ï¼šAï¼Œlen = 1</li>
</ul>
</li>
<li>ABAB â€“&gt; 2<ul>
<li>å‰ç¼€ A AB ABA</li>
<li>åç¼€ B AB BAB </li>
<li>æœ€é•¿å…¬å…±å‰åç¼€ï¼šABï¼Œlen = 2</li>
</ul>
</li>
<li>ABABC â€“&gt; 0<ul>
<li>å‰ç¼€ A AB ABA ABAB</li>
<li>åç¼€ C BC ABC BABC</li>
<li>æœ€é•¿å…¬å…±å‰åç¼€ï¼šâ€â€ï¼Œlen = 0</li>
</ul>
</li>
<li>ABABCA â€“&gt; 1<ul>
<li>å‰ç¼€ A AB ABA ABAB ABABC</li>
<li>åç¼€ A CA BCA ABCA BABCA</li>
<li>æœ€é•¿å…¬å…±å‰åç¼€ï¼šAï¼Œlen = 1</li>
</ul>
</li>
<li>ABABCAB â€“&gt; 2<ul>
<li>å‰ç¼€ A AB ABA ABAB ABABC ABABCA</li>
<li>åç¼€ B AB CAB BCAB ABCAB BACAB</li>
<li>æœ€é•¿å…¬å…±å‰åç¼€ï¼šABï¼Œlen = 2</li>
</ul>
</li>
<li>ABABCABA â€“&gt; 3<ul>
<li>å‰ç¼€ A AB ABA ABAB ABABC ABABCA ABABCAB</li>
<li>åç¼€ A BA ABA CABA BCABA ABCABA BABCABA</li>
<li>æœ€é•¿å…¬å…±å‰åç¼€ï¼šABAï¼Œlen = 3</li>
</ul>
</li>
<li>ABABCABAA â€“&gt; 1<ul>
<li>å‰ç¼€ A AB ABA ABAB ABABC ABABCA ABABCAB ABABCABA</li>
<li>åç¼€ A AA BAA ABAA CABAA BCABAA ABCABAA BABCABAA</li>
<li>æœ€é•¿å…¬å…±å‰åç¼€ï¼šAï¼Œlen = 1</li>
</ul>
</li>
</ul>
</li>
<li><p>å› æ­¤æˆ‘ä»¬å¯ä»¥æ„å»ºå‡ºï¼Œæœ€é•¿å…¬å…±å‰åç¼€é•¿åº¦ä¸º</p>
<ul>
<li>[0, 0, 1, 2, 0, 1, 2, 3, 1] å¯¹åº” pattern å­—ç¬¦ä¸²æ•°ç»„</li>
<li>[A, B, A, B, C, A, B, A, A]</li>
<li>[0, 1, 2, 3, 4, 5, 6, 7, 8]</li>
</ul>
</li>
<li><p>é‚£ä¹ˆæ ¹æ®</p>
<ul>
<li><p>A â€“&gt; len = 0, i = 0</p>
</li>
<li><p>AB â€“&gt; len = 0, i = 1</p>
</li>
<li><p><u>A</u>B<u>A</u> â€“&gt; len = 1, i = 2, pattern[i] = A, pattern[ä¸Šä¸€ä¸ªlen] = A</p>
</li>
<li><p><u>AB</u><u>AB</u> â€“&gt; len = 2, i = 3, pattern[i] = B, pattern[ä¸Šä¸€ä¸ªlen] = B</p>
</li>
<li><p>ABABC â€“&gt; len = 0, i = 4</p>
</li>
<li><p><u>A</u>BABC<u>A</u> â€“&gt; len = 1, i = 5, pattern[i] = A, pattern[ä¸Šä¸€ä¸ªlen] = A</p>
</li>
<li><p><u>AB</u>ABC<u>AB</u> â€“&gt; len = 2, i = 6, pattern[i] = B, pattern[ä¸Šä¸€ä¸ªlen] = B</p>
</li>
<li><p><u>ABA</u>BC<u>ABA</u> â€“&gt; len = 3, i = 7, pattern[i] = A, pattern[ä¸Šä¸€ä¸ªlen] = A</p>
</li>
<li><p>ABABCABAA â€“&gt; len = 1, i = 8</p>
</li>
<li><p>æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿå¾—åˆ°</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (pattern[i] === pattern[len]) &#123;</span><br><span class="line">       len ++;</span><br><span class="line">       prefix[i] = len;</span><br><span class="line">       i ++;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>é™¤æ­¤ä¹‹å¤–çš„æƒ…å†µå‘¢ï¼Ÿæ¯”å¦‚æœ€åçš„ ABABCABAA â€“&gt; len = 1, i = 8</p>
<ul>
<li>[0, 1, 2, 3, 4, 5, 6, 7, 8] å­—ç¬¦ä¸²æ•°ç»„ä¸‹æ ‡ç´¢å¼•</li>
<li>[A, B, A, B, C, A, B, A, A] å­—ç¬¦ä¸²æ•°ç»„</li>
<li>[0, 0, 1, 2, 0, 1, 2, 3, ?] prefixTable<ul>
<li>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå‰ä¸€ä¸ªå­—ç¬¦ A å¯¹åº”çš„ prefix ä¸º 3ï¼Œå¯¹åº”çš„pattern[3]ä¸º Bï¼ˆprefix[len - 1] === Bï¼‰ï¼ŒBçš„å‰ä¸€ä¸ªå­—ç¬¦ A å¯¹åº”çš„ prefix ä¸º 1ï¼ˆlen = prefix[len - 1] â€“&gt; 0ï¼‰ï¼Œpattern[1] ä¸º Aï¼Œå†æ‰§è¡Œä¸Šå±‚ä»£ç  prefix[8] === len[0]</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>KMP æœ€é•¿å…¬å…±å‰åç¼€é•¿åº¦å®ç°</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prefixTable</span>(<span class="params">pattern, prefix, n</span>) </span>&#123;</span><br><span class="line">    prefix[<span class="number">0</span>] = <span class="number">0</span>; <span class="comment">// prefix åˆå§‹</span></span><br><span class="line">    <span class="keyword">let</span> len = <span class="number">0</span>; <span class="comment">// æœ€é•¿å…¬å…±å‰åç¼€é•¿åº¦</span></span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; n) &#123;</span><br><span class="line">      <span class="keyword">if</span> (pattern[i] === pattern[len]) &#123;</span><br><span class="line">        len ++;</span><br><span class="line">        prefix[i] = len;</span><br><span class="line">        i ++;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          len = prefix[len - <span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">          prefix[i] = len</span><br><span class="line">          i ++</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">console</span>.log(prefix)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/354d6d33c10aa23f150c26a68a09f19084870.png" alt="è¿è¡Œç»“æœ"></li>
</ul>
</li>
<li><p>å†æ·»ä¸€å±‚å¤„ç†ï¼Œå› ä¸ºå‰ç¼€æ˜¯ä¸ä¸ä¼šåŒ…æ‹¬è‡ªå·±æœ¬èº«çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ•´ä½“åç§»ä¸€ä½ï¼Œå¹¶ä¸”ï¼Œç©ºå‡ºæ¥çš„ç¬¬ä¸€é¡¹ç½®ä¸º -1</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">movePrefixTable</span>(<span class="params">prefix, n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = n - <span class="number">1</span>; i &gt; <span class="number">0</span>; i --) &#123;</span><br><span class="line">      prefix[i] = prefix[i - <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    prefix[<span class="number">0</span>] = <span class="number">-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="KMP-å¤„ç†-pattern"><a href="#KMP-å¤„ç†-pattern" class="headerlink" title="KMP å¤„ç† pattern"></a>KMP å¤„ç† pattern</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prefixTable</span>(<span class="params">pattern, prefix, n</span>) </span>&#123;</span><br><span class="line">  prefix[<span class="number">0</span>] = <span class="number">0</span>; <span class="comment">// prefix åˆå§‹</span></span><br><span class="line">  <span class="keyword">let</span> len = <span class="number">0</span>; <span class="comment">// æœ€é•¿å…¬å…±å‰åç¼€é•¿åº¦</span></span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span>(i &lt; n) &#123;</span><br><span class="line">    <span class="keyword">if</span> (pattern[i] === pattern[len]) &#123;</span><br><span class="line">      len ++;</span><br><span class="line">      prefix[i] = len;</span><br><span class="line">      i ++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        len = prefix[len - <span class="number">1</span>]</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        prefix[i] = len</span><br><span class="line">        i ++</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(prefix)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">movePrefixTable</span>(<span class="params">prefix, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = n - <span class="number">1</span>; i &gt; <span class="number">0</span>; i --) &#123;</span><br><span class="line">    prefix[i] = prefix[i - <span class="number">1</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  prefix[<span class="number">0</span>] = <span class="number">-1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">kmpSearch</span>(<span class="params">text, pattern</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> patternArray = pattern.split(<span class="string">""</span>)</span><br><span class="line">  <span class="keyword">let</span> patternLen = patternArray.length</span><br><span class="line">  <span class="keyword">const</span> textArray = text.split(<span class="string">""</span>)</span><br><span class="line">  <span class="keyword">let</span> textLen = textArray.length</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> prefixArray = <span class="keyword">new</span> <span class="built_in">Array</span>(patternLen)</span><br><span class="line">  prefixTable(patternArray, prefixArray, patternLen)</span><br><span class="line">  movePrefixTable(prefixArray, patternLen)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// console.log('prefixTemp', prefixTemp)</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'prefixArray'</span>, prefixArray)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// textArray len m</span></span><br><span class="line">  <span class="comment">// pattern len n</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>(i &lt; textLen) &#123;</span><br><span class="line">    <span class="keyword">if</span> (j === patternLen - <span class="number">1</span> &amp;&amp; textArray[i] === patternArray[j]) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"Found pattern at "</span>, i - j)</span><br><span class="line">      j = prefixArray[j]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (textArray[i] === patternArray[j]) &#123;</span><br><span class="line">      i ++;</span><br><span class="line">      j ++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      j = prefixArray[j]</span><br><span class="line">      <span class="keyword">if</span> (j === <span class="number">-1</span>) &#123;</span><br><span class="line">        i ++;</span><br><span class="line">        j ++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">kmpSearch(<span class="string">"ABABABABCABAAB"</span>, <span class="string">"ABABCABAA"</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/f4273ce6b530673651ce3a9f513c730760549.png" alt="è¿è¡Œç»“æœ"></li>
<li><img src="http://p0.meituan.net/myvideodistribute/214a8fcf81cda92716e44270f816392663018.png" alt="è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h3 id="åŸºäº-KMP-çš„-FSM-å¤„ç†-pattern"><a href="#åŸºäº-KMP-çš„-FSM-å¤„ç†-pattern" class="headerlink" title="åŸºäº KMP çš„ FSM å¤„ç† pattern"></a>åŸºäº KMP çš„ FSM å¤„ç† pattern</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> textArray = [] <span class="comment">// æœªçŸ¥å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> text = <span class="string">""</span></span><br><span class="line"><span class="keyword">let</span> textLen = <span class="number">0</span> <span class="comment">// æœªçŸ¥å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line"><span class="keyword">let</span> patternArray = [] <span class="comment">// pattern å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> pattern = <span class="string">""</span></span><br><span class="line"><span class="keyword">let</span> patternLen <span class="comment">// æœªçŸ¥ pattern é•¿åº¦</span></span><br><span class="line"><span class="keyword">let</span> prefixArray = <span class="literal">null</span> <span class="comment">// KMP prefix table</span></span><br><span class="line"><span class="keyword">let</span> len = <span class="number">0</span> <span class="comment">// æœ€é•¿å…¬å…±å‰åç¼€é•¿åº¦</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initState</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  patternArray = pattern.split(<span class="string">""</span>)</span><br><span class="line">  patternLen = patternArray.length</span><br><span class="line">  textArray = text.split(<span class="string">""</span>)</span><br><span class="line">  textLen = textArray.length</span><br><span class="line">  prefixArray = <span class="keyword">new</span> <span class="built_in">Array</span>(patternLen)</span><br><span class="line">  prefixArray[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">  <span class="keyword">let</span> len = <span class="number">0</span></span><br><span class="line">  <span class="keyword">return</span> patteranStart</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">patteranStart</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (patternArray[i] === patternArray[len]) &#123;</span><br><span class="line">    len++;</span><br><span class="line">    prefixArray[i] = len;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">needAdd</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      len = prefixArray[len - <span class="number">1</span>]</span><br><span class="line">      <span class="keyword">return</span> &#123; <span class="attr">needAdd</span>: <span class="literal">false</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      prefixArray[i] = len</span><br><span class="line">      <span class="keyword">return</span> &#123; <span class="attr">needAdd</span>: <span class="literal">true</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (i ===  patternLen) &#123;</span><br><span class="line">    <span class="keyword">return</span> movePrefixTable</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">movePrefixTable</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = patternLen - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">    prefixArray[i] = prefixArray[i - <span class="number">1</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  prefixArray[<span class="number">0</span>] = <span class="number">-1</span></span><br><span class="line">  <span class="keyword">return</span> KMPSearch</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">KMPSearch</span>(<span class="params">i, j</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (j === patternLen - <span class="number">1</span> &amp;&amp; textArray[i] === patternArray[j]) &#123;</span><br><span class="line">    j = prefixArray[j]</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">iNeedAdd</span>: <span class="literal">false</span>, <span class="attr">jNeedAdd</span>: <span class="literal">false</span>, <span class="attr">isMatched</span>: <span class="literal">true</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (textArray[i] === patternArray[j]) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">iNeedAdd</span>: <span class="literal">true</span>, <span class="attr">jNeedAdd</span>: <span class="literal">true</span>, <span class="attr">isMatched</span>: <span class="literal">false</span> &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    j = prefixArray[j]</span><br><span class="line">    <span class="keyword">if</span> (j === <span class="number">-1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123; <span class="attr">iNeedAdd</span>: <span class="literal">true</span>, <span class="attr">jNeedAdd</span>: <span class="literal">true</span>, <span class="attr">isMatched</span>: <span class="literal">false</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">iNeedAdd</span>: <span class="literal">true</span>, <span class="attr">jNeedAdd</span>: <span class="literal">false</span>, <span class="attr">isMatched</span>: <span class="literal">false</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> STATUS_MAP = &#123;</span><br><span class="line">  <span class="string">"init"</span>: initState,</span><br><span class="line">  <span class="string">"prefixtable"</span>: patteranStart,</span><br><span class="line">  <span class="string">"movePrefixTable"</span>: movePrefixTable,</span><br><span class="line">  <span class="string">"KMPSearch"</span>: KMPSearch</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">match</span>(<span class="params">_text, _pattern</span>) </span>&#123;</span><br><span class="line">  text = _text</span><br><span class="line">  pattern = _pattern</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> patternState = initState</span><br><span class="line">  <span class="keyword">let</span> STATUS_MAP_KEYS = <span class="built_in">Object</span>.keys(STATUS_MAP)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> status = <span class="number">0</span>; status &lt; STATUS_MAP_KEYS.length; status++) &#123;</span><br><span class="line">    patternState = STATUS_MAP[STATUS_MAP_KEYS[status]]</span><br><span class="line">    <span class="keyword">if</span> (STATUS_MAP_KEYS[status] === <span class="string">"init"</span>) &#123;</span><br><span class="line"></span><br><span class="line">      patternState()</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (STATUS_MAP_KEYS[status] === <span class="string">"prefixtable"</span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> res = &#123; <span class="attr">len</span>: <span class="number">0</span>, <span class="attr">needAdd</span>: <span class="literal">true</span> &#125;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= patternLen; res.needAdd &amp;&amp; i++) &#123;</span><br><span class="line">        res = patternState(i)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (STATUS_MAP_KEYS[status] === <span class="string">"movePrefixTable"</span>) &#123;</span><br><span class="line"></span><br><span class="line">      patternState()</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (STATUS_MAP_KEYS[status] === <span class="string">"KMPSearch"</span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> kmpSearchRes = &#123; <span class="attr">iNeedAdd</span>: <span class="literal">false</span>, <span class="attr">jNeedAdd</span>: <span class="literal">false</span>, <span class="attr">isMatched</span>: <span class="literal">false</span> &#125;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; textLen;) &#123;</span><br><span class="line">        kmpSearchRes = patternState(i, j)</span><br><span class="line">        <span class="keyword">if</span> (kmpSearchRes.isMatched) &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">"First Found pattern at "</span>, i - j)</span><br><span class="line">          <span class="keyword">return</span> kmpSearchRes.isMatched</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (kmpSearchRes.iNeedAdd)</span><br><span class="line">          i++</span><br><span class="line">        <span class="keyword">if</span> (kmpSearchRes.jNeedAdd)</span><br><span class="line">          j++</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> kmpSearchRes.isMatched</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">match(<span class="string">"ABABABABCABAAB"</span>, <span class="string">"ABABCABAA"</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/7079d40d337c97ae742c21e0f7a2f87320359.png" alt="åŸºäº KMP çš„ FSM å¤„ç† pattern è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://www.bilibili.com/video/BV1Px411z7Yo" target="_blank" rel="noopener">KMP ç®—æ³•è§†é¢‘è®²è§£</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2013/05/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm.html" target="_blank" rel="noopener">KMP-æœ€é•¿å…¬å…±å‰åç¼€é•¿åº¦</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>æ„Ÿè°¢åœ¨ KMP ç®—æ³•æŠ˜è…¾æ—¶ï¼Œæä¾›å¸®åŠ©çš„ ç”°ç¥å¤§å¤§ã€ ğŸ¤« ç­‰æˆ‘æœ‰ä»–è”ç³»æ–¹å¼äº†ï¼Œæˆ‘æ‚„æ‚„åŒæ­¥ç»™ä½ ä»¬</li>
<li>å­¦è€Œä¸æ€åˆ™ç½”</li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åº-è·å–å›¾ç‰‡ä¸»è‰²è°ƒ</title>
    <url>/2020/04/05/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E8%8E%B7%E5%8F%96%E5%9B%BE%E7%89%87%E4%B8%BB%E8%89%B2%E8%B0%83/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>æ˜¯çš„æˆ‘è¦å¼€å§‹åšï¼šæ ¹æ®å›¾ç‰‡çš„ä¸»è‰²è°ƒæ¥æ”¹å˜ä¸€ä¸‹é¡µé¢èƒŒæ™¯é¢œè‰²äº†ğŸ™†</li>
<li>è®°å½•ä¸€ä¸‹ï¼Œè‡ªå·±ç¢°åˆ°çš„é—®é¢˜ä»¥åŠæ€è€ƒ</li>
<li><a href="https://github.com/Ele-Peng/miniprogram-main-color" target="_blank" rel="noopener">miniprogram-main-color å®Œæ•´ä»£ç  ç‚¹å‡»ä¸€ä¸‹</a> æ¬¢è¿å¤§å®¶å»starğŸ˜˜</li>
</ul>
<hr>
<h2 id="å¼€å‘å‡†å¤‡"><a href="#å¼€å‘å‡†å¤‡" class="headerlink" title="å¼€å‘å‡†å¤‡"></a>å¼€å‘å‡†å¤‡</h2><ul>
<li>ç†ä¸€ä¸‹æ€è·¯<ol>
<li>å°†ç½‘ç»œå›¾ç‰‡ç»˜åˆ¶è¿›canvas</li>
<li>é€šè¿‡canvasçš„getImageDataè·å–å›¾ç‰‡çš„åƒç´ æ•°æ®<ul>
<li><a href="https://blog.csdn.net/Elle_Peng/article/details/105030971" target="_blank" rel="noopener">canvas 2d ä¸æ—§ç‰ˆ canvas å°†ç½‘ç»œå›¾ç‰‡ç»˜åˆ¶è¿›canvasçš„ä¸¤ç§æ–¹æ³•å®è·µ</a></li>
</ul>
</li>
<li>åˆ†æç›®å‰ä¸»è¦ç”¨äºè·å–å›¾ç‰‡ä¸»è‰²è°ƒçš„ç®—æ³•ï¼Œå¹¶å®è·µ</li>
<li>å¾—åˆ°ä¸»è¦è‰²è°ƒï¼Œå†å°†rgbè½¬æ¢æˆhsbï¼Œå¹¶å¯¹bå€¼ï¼Œè¿›è¡Œä¿®æ”¹ï¼Œåˆ¶ä½œæ¸å˜ï¼Œå·¦ä¾§35ï¼Œå³ä¾§15<a id="more"></a>
<ul>
<li>å—¯ï¼Œç¥æˆ‘æˆåŠŸ<h2 id="é¢œè‰²ç©ºé—´åŸºç¡€çŸ¥è¯†èƒŒæ™¯-å‡è‰²ç®—æ³•"><a href="#é¢œè‰²ç©ºé—´åŸºç¡€çŸ¥è¯†èƒŒæ™¯-å‡è‰²ç®—æ³•" class="headerlink" title="é¢œè‰²ç©ºé—´åŸºç¡€çŸ¥è¯†èƒŒæ™¯+å‡è‰²ç®—æ³•"></a>é¢œè‰²ç©ºé—´åŸºç¡€çŸ¥è¯†èƒŒæ™¯+å‡è‰²ç®—æ³•</h2></li>
<li><a href="http://www.360doc.com/content/17/0417/19/41797635_646363886.shtml" target="_blank" rel="noopener">é¢œè‰²ç©ºé—´ RGB CMY HSV HSL LAB</a></li>
<li>å›¾ç‰‡é¢œè‰²é‡åŒ–ç®—æ³•</li>
</ul>
</li>
</ol>
<ul>
<li>æ¯”è¾ƒå¸¸è§çš„åº”ç”¨å°±æ˜¯ç”¨äºæå–å›¾ç‰‡çš„ä¸»è‰²è°ƒç”¨äºä¸Šè‰²é…è‰²,å½“ç„¶ä¹Ÿå¯ä»¥ç”¨äºå›¾åƒåˆ†å‰²</li>
<li>ä¸»æµç®—æ³•<ul>
<li>ä¸¤ä¸ªå¤§æ–¹å‘</li>
<li><strong>åœ¨é¢œè‰²ç©ºé—´åˆç†åœ°é€‰å–é‡‡æ ·ç‚¹æ¥æ„é€ é¢œè‰²è¡¨ï¼Œä½¿å¾—å‡è‰²åçš„å›¾åƒå’ŒåŸå›¾å°½å¯èƒ½åœ°æ¥è¿‘</strong><ul>
<li>ç›´æ¥é‡åŒ–<ul>
<li>å¯¹æ¯ä¸ªé¢œè‰²é€šé“å•ç‹¬é‡æ–°é‡‡æ ·ï¼Œå°†æ¯ä¸ªé€šé“çš„è‰²é˜¶ä»256å‡å°‘åˆ°æŸä¸ªæŒ‡å®šçš„æ•°å­—ã€‚è¿™æ ·å¾—åˆ°ä¸€ä¸ªæ–°çš„å°çš„å¤šçš„é¢œè‰²ç©ºé—´ï¼Œè€ŒåŸå›¾åƒä¸­çš„æ¯ä¸€ä¸ªåƒç´ å°†è¢«ç”¨åœ¨æ–°çš„é¢œè‰²ç©ºé—´ä¸­çš„æœ€è¿‘é‚»å–ä»£</li>
</ul>
</li>
<li>ç»Ÿè®¡é‡åŒ–<ul>
<li>æ ¸å¿ƒï¼šè°ƒæ•´ç›´æ–¹å›¾ä½¿å¾—ç´¯ç§¯åˆ†å¸ƒæ›²çº¿å‘ˆçº¿æ€§ï¼Œä»è€Œä½¿å›¾åƒåƒç´ ç‚¹çš„äº®åº¦å€¼å°½å¯èƒ½å‡åŒ€åœ°åˆ†å¸ƒ</li>
<li>åˆ©ç”¨åŸå›¾çš„ç›´æ–¹å›¾æ¥å¼•å¯¼é‡‡æ ·ç‚¹çš„é€‰å–ï¼Œä½¿å¾—æ¯ä¸ªé‡‡æ ·ç‚¹å¯ä»¥å¤§è‡´è¦†ç›–ç›¸åŒæ•°é‡çš„åƒç´ ç‚¹</li>
<li>å¯¹æ¯ä¸ªé¢œè‰²é€šé“å»ºç«‹ç›´æ–¹å›¾ï¼Œç„¶åæ ¹æ®è¿™äº›ç›´æ–¹å›¾å¯¹å„ä¸ªé¢œè‰²é€šé“å•ç‹¬é‡‡æ ·ï¼Œåœ¨åƒç´ å€¼åˆ†å¸ƒå¤šçš„åŒºåŸŸè¿›è¡Œå¯†é›†é‡‡æ ·ï¼Œåˆ«çš„åŒºåŸŸç¨€ç–é‡‡æ ·ï¼Œå†åˆ©ç”¨è¿™äº›é‡‡æ ·ç‚¹æ¥ç»„åˆæˆæœ€ç»ˆçš„é¢œè‰²è¡¨ï¼ŒåŸå›¾ä¸­çš„æ¯ä¸ªåƒç´ ç‚¹ç”¨é¢œè‰²è¡¨ä¸­æœ€æ¥è¿‘çš„é¢œè‰²æ›¿æ¢æ‰</li>
</ul>
</li>
<li>é¢œè‰²ç©ºé—´åˆ†å‰²(Median-Cut)<ul>
<li>æ ¸å¿ƒï¼šåœ¨é¢œè‰²ç©ºé—´å»ºç«‹ä¸€æ£µäºŒå‰æ ‘ï¼Œé€šè¿‡ä¸æ–­åœ°ç»†åŒ–è¿™æ£µæ ‘æ¥è¿‘ä¼¼å¾—åˆ°ä¸€ä¸ªé¢œè‰²ä¸‰ç»´ç›´æ–¹å›¾ï¼Œç„¶åå†æ ¹æ®è¿™æ£µæ ‘æ¥åˆ†é…é‡‡æ ·ç‚¹</li>
<li>åŸºäºå›¾åƒé¢œè‰²æ ·æœ¬åˆ†å¸ƒçš„è‡ªé€‚åº”æ–¹æ³•ï¼Œä¸è®ºå›¾åƒä¸­é¢œè‰²æ ·æœ¬çš„åˆ†å¸ƒå¦‚ä½•ï¼Œæ€»æ˜¯å¯ä»¥ç”Ÿæˆä¸€ä¸ªå’Œé¢œè‰²æ ·æœ¬åˆ†å¸ƒåŒ¹é…è‰¯å¥½çš„é¢œè‰²è¡¨ï¼šåœ¨é¢œè‰²æ ·æœ¬åˆ†å¸ƒå¯†é›†çš„åŒºåŸŸå†…é‡‡æ ·ç‚¹åˆ†å¸ƒä¹Ÿç›¸å¯¹å¯†é›†ï¼Œå…¶ä»–åŒºåŸŸåˆ™åˆ†é…äº†è¾ƒå°‘çš„é‡‡æ ·ç‚¹ã€‚ä¸”ç›¸åŒæ•°ç›®çš„é¢œè‰²æ ·æœ¬æ€»æ˜¯ç”¨åŒæ ·æ•°é‡çš„é‡‡æ ·ç‚¹æ¥ä»£è¡¨ï¼Œæ‰€ä»¥é¢œè‰²æ ·æœ¬åˆ†å¸ƒå¯†é›†çš„åŒºåŸŸï¼Œé‡‡æ ·ç‚¹çš„æ•°é‡è‡ªç„¶å°±ä¼šå¤šï¼Œåä¹‹åˆ™ç›¸åº”çš„æ¯”è¾ƒå°‘</li>
<li>æœ€é‡è¦ã€åº”ç”¨æœ€å¹¿æ³›çš„å‡è‰²ç®—æ³•ä¹‹ä¸€</li>
</ul>
</li>
<li>kå‡å€¼èšç±»(k-Means clustering)<ul>
<li>æ ¸å¿ƒï¼šå°†åƒç´ æŒ‰é¢œè‰²çš„ç›¸ä¼¼ç¨‹åº¦å½’ç±»</li>
</ul>
</li>
</ul>
</li>
<li><strong>ä»ä¸€ä¸ªåˆå§‹çš„é¢œè‰²è¡¨å‡ºå‘ï¼Œé€šè¿‡ä¸æ–­ä¿®æ”¹é¢œè‰²è¡¨æ¥æ”¹å–„å‡è‰²æ•ˆæœ</strong><ul>
<li>ç¥ç»ç½‘ç»œæ–¹æ³•(ANN)<ul>
<li>é¢œè‰²è¡¨é€šè¿‡ç¥ç»å…ƒæ¥ç¼–ç ï¼Œé€šè¿‡ç¼“æ…¢çš„è°ƒèŠ‚ç¥ç»å…ƒçš„é¢œè‰²å€¼ä»¥ä¿è¯æ•´ä¸ªç¥ç»ç½‘ç»œé€æ­¥æ”¶æ•›äºæœ€å°è¯¯å·®çŠ¶æ€ï¼ˆå³é€šè¿‡ç¥ç»ç½‘ç»œäº§ç”Ÿçš„å›¾åƒå’ŒåŸå›¾ä¹‹é—´è¯¯å·®æœ€å°ï¼‰<h2 id="ç›´æ¥é‡åŒ–å®è·µ"><a href="#ç›´æ¥é‡åŒ–å®è·µ" class="headerlink" title="ç›´æ¥é‡åŒ–å®è·µ"></a>ç›´æ¥é‡åŒ–å®è·µ</h2><ul>
<li>é¦–å…ˆæˆ‘ä»¬å¯ä»¥æ¥çœ‹ä¸€çœ‹getImageDataåçš„æ•°æ®</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzljZjVjMjQzMDI0NmE0YjE0YzFlYmMzMjYwZDkwYTgwNTQzMDIucG5n?x-oss-process=image/format,png" alt="getImageDataæ•°æ®"></li>
<li>å¯ä»¥ç®€å•çœ‹ä½œæ˜¯å¤–å±‚å¾ªç¯ä¸ºrgbaçš„æ‰“å¹³äº†äºŒç»´æ•°ç»„<ul>
<li>å¦‚æœæŒ‰æ»¡è¶³éœ€æ±‚åšï¼Œåªè¦ä¸€ä¸ªä¸»è‰²è°ƒçš„è¯ï¼Œå¯ä»¥æŠŠæ•´ä¸ªgetImageDataè·å¾—çš„æ•°æ®ï¼Œè¿›è¡Œå„ä¸ªé€šé“çš„å¹³å‡å€¼æ±‚å€¼ï¼Œå†æ‹¼æ¥ï¼Œåƒè¿™æ ·<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">getUniqueColor(imageData) &#123;</span><br><span class="line">   <span class="keyword">let</span> res_r = <span class="number">0</span></span><br><span class="line">   <span class="keyword">let</span> res_g = <span class="number">0</span></span><br><span class="line">   <span class="keyword">let</span> res_b = <span class="number">0</span></span><br><span class="line">   <span class="keyword">let</span> res_a = <span class="number">0</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; imageData.length; i += <span class="number">1</span>) &#123;</span><br><span class="line">     <span class="keyword">if</span> (i % <span class="number">4</span> === <span class="number">0</span>) &#123;</span><br><span class="line">       res_r += imageData[i]</span><br><span class="line">     &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i % <span class="number">4</span> === <span class="number">1</span>) &#123;</span><br><span class="line">       res_g += imageData[i]</span><br><span class="line">     &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i % <span class="number">4</span> === <span class="number">2</span>) &#123;</span><br><span class="line">       res_b += imageData[i]</span><br><span class="line">     &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i % <span class="number">4</span> === <span class="number">3</span>) &#123;</span><br><span class="line">       res_a += imageData[i]</span><br><span class="line">     &#125; </span><br><span class="line">   &#125;</span><br><span class="line">   res_r = <span class="built_in">Math</span>.round(res_r / (imageData.length / <span class="number">4</span>))</span><br><span class="line">   res_g =  <span class="built_in">Math</span>.round(res_g / (imageData.length / <span class="number">4</span>))</span><br><span class="line">   res_b =  <span class="built_in">Math</span>.round(res_b / (imageData.length / <span class="number">4</span>))</span><br><span class="line">   res_a =  <span class="built_in">Math</span>.round(res_a / (imageData.length / <span class="number">4</span>))</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'res_r'</span>, res_r)</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'res_g'</span>, res_g)</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'res_b'</span>, res_b)</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'res_a'</span>, res_a)</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>è¿è¡Œæˆªå›¾<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzc4NzFiOTVmYzA4NWQ3NGQwNDc4OWY0ZWI5Yzc0YThmNzQ5OTYucG5n?x-oss-process=image/format,png" alt="æš´åŠ›æ³•æ±‚ä¸»è‰²è°ƒ"></li>
<li>æ— ç›¸å…³ç‚¹è¶Šå¤šï¼Œè¯¯å·®è¶Šå¤§ğŸ‘<ul>
<li>æˆ‘ä»¬å¯ä»¥â€œå¯¹æ¯ä¸ªé¢œè‰²é€šé“å•ç‹¬é‡æ–°é‡‡æ ·ï¼Œå°†æ¯ä¸ªé€šé“çš„è‰²é˜¶ä»256å‡å°‘åˆ°æŸä¸ªæŒ‡å®šçš„æ•°å­—ã€‚è¿™æ ·å¾—åˆ°ä¸€ä¸ªæ–°çš„å°çš„å¤šçš„é¢œè‰²ç©ºé—´ï¼Œè€ŒåŸå›¾åƒä¸­çš„æ¯ä¸€ä¸ªåƒç´ å°†è¢«ç”¨åœ¨æ–°çš„é¢œè‰²ç©ºé—´ä¸­çš„æœ€è¿‘é‚»å–ä»£â€<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> COLOR_SIZE = <span class="number">40</span> <span class="comment">// å•ä½è‰²å—çš„å¤§å°ï¼ˆåƒç´ ä¸ªæ•°ï¼Œé»˜è®¤40ï¼‰ã€‚ä»¥å•ä½è‰²å—çš„å¹³å‡åƒç´ å€¼ä¸ºä½œä¸ºç»Ÿè®¡å•ä½</span></span><br><span class="line"><span class="keyword">const</span> LEVEL = <span class="number">32</span> <span class="comment">// è‰²æ·±ï¼Œé¢œè‰²åˆ†åŒºå‚æ•°ï¼ˆ0-255ï¼‰ï¼Œæ€»256ï¼Œ2^8ï¼Œå³8bitï¼Œ4ä¸ªé€šé“ï¼ˆrgbaï¼‰ï¼Œå³é»˜è®¤è‰²æ·±4*8bitï¼Œ32bit</span></span><br><span class="line"><span class="comment">// åˆ†åŒºå—ï¼Œå¯ä»¥æ‹“å±•æ€§çš„æ±‚ä¸»è¦è‰²æ¿ï¼Œç”¨æ¥åšpalette</span></span><br><span class="line">   <span class="keyword">const</span> mapData = that.getLevelData(imageData);</span><br><span class="line">   <span class="keyword">const</span> colors = that.getMostColor(mapData);</span><br><span class="line">   <span class="keyword">if</span> (!colors) &#123;</span><br><span class="line">     <span class="keyword">return</span></span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="keyword">const</span> color = that.getAverageColor(colors)</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'color'</span>, color)</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li>å°†getImageDataæ•°æ®åˆ†æˆç‰¹å®šå¤§å°çš„åŒºå—ï¼Œåˆ†åˆ«ç®—å‡ºå„ä¸ªåŒºå—çš„averageColorï¼Œå†åˆ©ç”¨mapç‰¹æ€§ï¼Œå°†averageColorä½œkeyï¼Œcountå„ä¸ªaverageColorä¸ªæ•°  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–æ¯æ®µçš„é¢œè‰²æ•°æ®</span></span><br><span class="line"><span class="comment">// æ ¹æ®åƒç´ æ•°æ®ï¼ŒæŒ‰å•ä½è‰²å—è¿›è¡Œåˆ‡å‰²</span></span><br><span class="line">getLevelData(imageData) &#123;</span><br><span class="line">  <span class="keyword">const</span> len = imageData.length;</span><br><span class="line">  <span class="keyword">const</span> mapData = &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i += COLOR_SIZE * <span class="number">4</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> blockColor = <span class="keyword">this</span>.getBlockColor(imageData, i); <span class="comment">// è¯¥åŒºå—å¹³å‡rgba [&#123;r,g,b,a&#125;]æ•°æ®</span></span><br><span class="line">    <span class="comment">// è·å–å„ä¸ªåŒºå—çš„å¹³å‡rgbaæ•°æ®ï¼Œå°†å„ä¸ªé€šé“çš„é¢œè‰²è¿›è¡ŒLEVELè‰²æ·±é™çº§</span></span><br><span class="line">    <span class="comment">// æ ¹æ®r_g_b_a å»ºç«‹mapç´¢å¼•</span></span><br><span class="line">    <span class="keyword">const</span> key = <span class="keyword">this</span>.getColorLevel(blockColor);</span><br><span class="line">    !mapData[key] &amp;&amp; (mapData[key] = []);</span><br><span class="line">    mapData[key].push(blockColor);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> mapData;</span><br><span class="line">&#125;,</span><br><span class="line">		</span><br><span class="line"><span class="comment">// è·å–å•ä½å—çš„å…¨éƒ¨è‰²å€¼</span></span><br><span class="line"><span class="comment">// å¹¶æ ¹æ®å…¨éƒ¨è‰²å€¼ï¼Œè®¡ç®—å¹³å‡è‰²å€¼</span></span><br><span class="line"><span class="comment">// å¤„ç†æœ€åè¾¹ç•Œå€¼ï¼Œå°äºCOLOR_SIZE</span></span><br><span class="line">getBlockColor(imageData, start) &#123;</span><br><span class="line">  <span class="keyword">let</span> data = [],</span><br><span class="line">    count = COLOR_SIZE,</span><br><span class="line">    len = COLOR_SIZE * <span class="number">4</span>;</span><br><span class="line">  imageData.length &lt;= start + len &amp;&amp; (count = <span class="built_in">Math</span>.floor((imageData.length - start - <span class="number">1</span>) / <span class="number">4</span>));</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; count; i += <span class="number">4</span>) &#123;</span><br><span class="line">    data.push(&#123;</span><br><span class="line">      r: imageData[start + i + <span class="number">0</span>],</span><br><span class="line">      g: imageData[start + i + <span class="number">1</span>],</span><br><span class="line">      b: imageData[start + i + <span class="number">2</span>],</span><br><span class="line">      a: imageData[start + i + <span class="number">3</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.getAverageColor(data);</span><br><span class="line">&#125;,</span><br><span class="line">		</span><br><span class="line"><span class="comment">// å–å‡ºå„ä¸ªé€šé“çš„å¹³å‡å€¼ï¼Œå³ä¸ºæ”¹è‰²å—çš„å¹³å‡è‰²å€¼</span></span><br><span class="line">getAverageColor(colorArr) &#123;</span><br><span class="line">  <span class="keyword">const</span> len = colorArr.length;</span><br><span class="line">  <span class="keyword">let</span> sr = <span class="number">0</span>, sg = <span class="number">0</span>, sb = <span class="number">0</span>, sa = <span class="number">0</span>;</span><br><span class="line">  colorArr.map(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">    sr += item.r;</span><br><span class="line">    sg += item.g;</span><br><span class="line">    sb += item.b;</span><br><span class="line">    sa += item.a;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    r: <span class="built_in">Math</span>.round(sr / len),</span><br><span class="line">    g: <span class="built_in">Math</span>.round(sg / len),</span><br><span class="line">    b: <span class="built_in">Math</span>.round(sb / len),</span><br><span class="line">    a: <span class="built_in">Math</span>.round(sa / len)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">		</span><br><span class="line">getColorLevel(color) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.getLevel(color.r) + <span class="string">'_'</span> + <span class="keyword">this</span>.getLevel(color.g) + <span class="string">'_'</span> + <span class="keyword">this</span>.getLevel(color.b) + <span class="string">'_'</span> + <span class="keyword">this</span>.getLevel(color.a)</span><br><span class="line">&#125;,</span><br><span class="line">		</span><br><span class="line"><span class="comment">// è‰²æ·±é™çº§</span></span><br><span class="line">getLevel(value) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.round(value / LEVEL)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
<li>æŠŠå‡ºç°æ¬¡æ•°æœ€å¤šçš„averageColoråŒºå—ï¼Œä½œä¸ºé‡‡æ ·åŒºå—ï¼Œå†è·å–ä¸€éaverageColorï¼Œå³æ˜¯æœ€ç»ˆä¸»è‰²è°ƒ  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ®è‰²å—é¢œè‰²ï¼Œè·å–</span></span><br><span class="line">getMostColor(colorData) &#123;</span><br><span class="line">  <span class="keyword">let</span> rst = <span class="literal">null</span>, len = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> colorData) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'colorData[key].length'</span>, colorData[key].length)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'colorData[key].length'</span>, colorData[key])</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'colorData[key].length'</span>, key)</span><br><span class="line">    colorData[key].length &gt; len &amp;&amp; (</span><br><span class="line">      rst = colorData[key],</span><br><span class="line">      len = colorData[key].length</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> rst;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
<li>è¿è¡Œæˆªå›¾<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2ViYzI3MmNkNzU2NjNhODUxYmM2MWQ0MDE4OWJjZGI3NzQ5NDUucG5n?x-oss-process=image/format,png" alt="åŒºå—è·å–ä¸»è‰²è°ƒ"></li>
<li>é¢œè‰²å¯ä¿¡åº¦æé«˜äº†å¾ˆå¤š<h2 id="æ‹“å±•å®è·µ-åŒ»å­¦ç°è‰²å½±åƒ"><a href="#æ‹“å±•å®è·µ-åŒ»å­¦ç°è‰²å½±åƒ" class="headerlink" title="æ‹“å±•å®è·µ-åŒ»å­¦ç°è‰²å½±åƒ"></a>æ‹“å±•å®è·µ-åŒ»å­¦ç°è‰²å½±åƒ</h2><ul>
<li>æ ¸å¿ƒï¼šå°†<strong>ä¸‰é€šé“è½¬æˆå•é€šé“</strong>å³å¯<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> greyImageData = that.greyTheImage(imageData)</span><br><span class="line">   wx.canvasPutImageData(&#123;</span><br><span class="line">     canvasId: <span class="string">'myCanvas'</span>,</span><br><span class="line">     x: <span class="number">150</span>,</span><br><span class="line">     y: <span class="number">0</span>,</span><br><span class="line">     width: <span class="number">150</span>,</span><br><span class="line">     height: <span class="number">100</span>,</span><br><span class="line">     data: greyImageData,</span><br><span class="line">     success (res) &#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">'canvasPutImageData it worked!'</span>)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)</span><br><span class="line"></span><br><span class="line"> greyTheImage(imageData) &#123;</span><br><span class="line">     <span class="comment">// imageDataæœ‰4ä¸ªé€šé“rgba</span></span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; imageData.length; i += <span class="number">4</span>) &#123;</span><br><span class="line">       <span class="keyword">let</span> sum_rgb = <span class="number">0</span></span><br><span class="line">       <span class="comment">// ä½†æˆ‘ä»¬åªéœ€è¦rgbä¸‰é€šé“ï¼Œa-alphaé€šé“æ— ç”¨</span></span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j += <span class="number">1</span>) &#123;</span><br><span class="line">         sum_rgb = sum_rgb + imageData[i + j]</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">let</span> grey = <span class="built_in">Math</span>.round(sum_rgb / <span class="number">3</span>)</span><br><span class="line">       imageData[i] = grey</span><br><span class="line">       imageData[i + <span class="number">1</span>] = grey</span><br><span class="line">       imageData[i + <span class="number">2</span>] = grey</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> imageData</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure></li>
<li>è¿è¡Œæˆªå›¾<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzhmNWJhNzk2OTJjOWEwOTA2MDNlMzkxMzBlMDRiZTY4MTAwNzcwLnBuZw?x-oss-process=image/format,png" alt="åŒ»å­¦ç°è‰²å½±åƒ"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="æ ¼å¼åŒ–rgbaè¾“å‡º"><a href="#æ ¼å¼åŒ–rgbaè¾“å‡º" class="headerlink" title="æ ¼å¼åŒ–rgbaè¾“å‡º"></a>æ ¼å¼åŒ–rgbaè¾“å‡º</h2><ul>
<li>åƒè¿™æ ·<img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2YxNDVhYzM4YzQ1MjFkNDgzNGNkZGQ5NTNmNjQ1MWQ3NTI0NTkucG5n?x-oss-process=image/format,png" alt="æ ¼å¼åŒ–rgbaè¾“å‡º">  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¯¹æœ€ç»ˆé¢œè‰²çš„å­—ç¬¦ä¸²æ ¼å¼åŒ–</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * result:&#123;</span></span><br><span class="line"><span class="comment"> *   hex:'#ffffff',            åå…­ä½å€¼</span></span><br><span class="line"><span class="comment"> *   hexa:'#ffffff00',         åå…­ä½å€¼å¸¦alphaå€¼</span></span><br><span class="line"><span class="comment"> *   rgb:'rgb(0,0,0)',         RGBå€¼</span></span><br><span class="line"><span class="comment"> *   rgba:'rgba(0,0,0,0)'      RGBå€¼å¸¦alphaå€¼</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">	</span><br><span class="line">colorStrFormat(color) &#123;</span><br><span class="line">  <span class="keyword">const</span> rgba = <span class="string">'rgba('</span> + color.r + <span class="string">','</span> + color.g + <span class="string">','</span> + color.b + <span class="string">','</span> + (color.a / <span class="number">255</span>).toFixed(<span class="number">4</span>).replace(<span class="regexp">/\.*0+$/</span>, <span class="string">''</span>) + <span class="string">')'</span>;</span><br><span class="line">  <span class="keyword">const</span> rgb = <span class="string">'rgb('</span> + color.r + <span class="string">','</span> + color.g + <span class="string">','</span> + color.b + <span class="string">')'</span>;</span><br><span class="line">  <span class="keyword">const</span> hex = <span class="string">'#'</span> + <span class="keyword">this</span>.Num2Hex(color.r) + <span class="keyword">this</span>.Num2Hex(color.g) + <span class="keyword">this</span>.Num2Hex(color.b);</span><br><span class="line">  <span class="keyword">const</span> hexa = hex + <span class="keyword">this</span>.Num2Hex(color.a);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    rgba: rgba,</span><br><span class="line">    rgb: rgb,</span><br><span class="line">    hex: hex,</span><br><span class="line">    hexa: hexa</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">	</span><br><span class="line">Num2Hex(num) &#123;</span><br><span class="line">  <span class="keyword">const</span> hex = num.toString(<span class="number">16</span>) + <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">if</span> (hex.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'0'</span> + hex;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> hex;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2></li>
<li><a href="https://blog.csdn.net/u012843346/article/details/16839649" target="_blank" rel="noopener">phg1024 JavaScriptå›¾åƒå¤„ç†(6) - å‡è‰²ç®—æ³•(Color Reduction)</a></li>
<li><a href="https://github.com/whoiam2007s/ImgMainColor" target="_blank" rel="noopener">è·å–å›¾ç‰‡ä¸»è‰²è°ƒçš„æ’ä»¶</a></li>
<li>å…¶å®ä¹Ÿå¯ä»¥åˆ©ç”¨ <a href="https://blog.csdn.net/nanhupatar/article/details/82793637" target="_blank" rel="noopener">CSSæ–°ç‰¹æ€§å»æ”¹å˜èƒŒæ™¯é¢œè‰²</a>ï¼Œæ¯”å¦‚é«˜æ–¯æ¨¡ç³Šç­‰æ¥è¾¾åˆ°ä¸šåŠ¡éœ€æ±‚<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2></li>
<li>å‘¨å…­å¬äº†ä¸€å¤© John Lennon æ­Œæ›²ã€è¿™ä¹Ÿæ˜¯æˆ‘æ‹–æ›´çš„åŸå› ğŸ˜¶ ç¾¡æ…•ä»–å’Œ Yoko é‚£æ®µä¼Šç”¸å›­èˆ¬çš„çˆ±æƒ…ï¼Œä»–å¯¹ Yoko çš„ç—´çˆ±ï¼Œä»–å’Œæ¯äº²çš„ä¸¤æ¬¡åˆ†åˆ«æ„ŸåŒèº«å—ï¼ŒBeatlesåœ¨ä¸€èµ·åšéŸ³ä¹çš„æ¬¢ä¹ï¼Œä»–å¯¹ Sean çš„å® æººçˆ¶çˆ±ï¼Œä½†ä»–çš„äººç”Ÿå´åœ¨ä¸€æ¬¡æªæ€åæˆ›ç„¶è€Œæ­¢ï¼Œå¿ƒç—› å¿ƒç—› ğŸŒ§</li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
<hr>
]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
      <tags>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>è‰²å½©ç©ºé—´</title>
    <url>/2020/08/23/%E9%A2%9C%E8%89%B2%E7%A9%BA%E9%97%B4/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li><p>æåˆ°è‰²å½©ï¼Œå³ä½¿æ˜¯åˆšæœ‰è¾¨çŸ¥èƒ½åŠ›çš„å°æœ‹å‹ï¼Œä¹Ÿèƒ½è¯´ä¸Šå‡ å¥ï½</p>
</li>
<li><p>é‚£æˆ‘ä»¬å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ— è®ºå·¥ä½œè¿˜æ˜¯ç”Ÿæ´»ï¼Œæ¯å¤©éƒ½åœ¨ä¸å„ç§è‰²å½©æ‰“äº¤é“ï¼Œé‚£ä¾¿æ›´æœ‰å¿…è¦ç³»ç»Ÿåœ°äº†è§£å…³äºè‰²å½©æ–¹é¢çš„çŸ¥è¯†</p>
</li>
<li><p>æœ¬æ–‡å°†ä»å‰ç«¯è§’åº¦ï¼ŒèŠèŠè‰²å½©ç©ºé—´</p>
</li>
<li><p>æ ¹æ® <a href="https://www.w3.org/TR/css-color-4/" target="_blank" rel="noopener">CSS Color Module Level 4</a> æ ‡å‡†</p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;color&gt; &#x3D; &lt;hex-color&gt; | &lt;named-color&gt; | currentcolor | transparent</span><br><span class="line">          &lt;rgb()&gt; | &lt;rgba()&gt; | &lt;hsl()&gt; | &lt;hsla()&gt; | &lt;hwb()&gt; |</span><br><span class="line">          &lt;lab()&gt; | &lt;lch()&gt; | &lt;gray()&gt; |</span><br><span class="line">          &lt;color()&gt; | &lt;device-cmyk()&gt; |</span><br><span class="line">          &lt;system-color&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<a id="more"></a>


<h2 id="named-color"><a href="#named-color" class="headerlink" title="named-color"></a>named-color</h2><ul>
<li><a href="https://www.w3.org/TR/css-color-4/#named-color" target="_blank" rel="noopener">#named-color</a></li>
</ul>
<h3 id="transparent"><a href="#transparent" class="headerlink" title="transparent"></a>transparent</h3><ul>
<li><a href="https://www.w3.org/TR/css-color-4/#valdef-color-transparent" target="_blank" rel="noopener">#transparent</a></li>
<li><a href="https://github.com/Ele-Peng/data-visualization/blob/master/color/CSS-Color-Module-Level-4-demo-1.html" target="_blank" rel="noopener">&lt;color&gt; = transparent å°ä¾‹å­</a></li>
</ul>
<h2 id="currentcolor"><a href="#currentcolor" class="headerlink" title="currentcolor"></a>currentcolor</h2><ul>
<li><a href="https://www.w3.org/TR/css-color-4/#valdef-color-currentcolor" target="_blank" rel="noopener">#currentcolor</a></li>
<li><a href="https://github.com/Ele-Peng/data-visualization/blob/master/color/CSS-Color-Module-Level-4-demo-2.html" target="_blank" rel="noopener">&lt;color&gt; = currentcolor å°ä¾‹å­</a></li>
</ul>
<h2 id="system-color"><a href="#system-color" class="headerlink" title="system-color"></a>system-color</h2><ul>
<li><a href="https://www.w3.org/TR/css-color-4/#css-system-colors" target="_blank" rel="noopener">#system-colors</a></li>
<li><a href="https://github.com/Ele-Peng/data-visualization/blob/master/color/CSS-Color-Module-Level-4-demo-3.html" target="_blank" rel="noopener">&lt;color&gt; = &lt;system-color&gt;å°ä¾‹å­</a></li>
</ul>
<!-- è¿™äº›é›¶æ•£çš„ css color å±æ€§å€¼ç®€å•ä»‹ç»åˆ°è¿™ï¼Œåé¢æˆ‘ä»¬ç³»ç»Ÿçš„ä»‹ç»ä¸‹ï¼Œå‰©ä¸‹çš„å‡ ç§è‰²å½©åˆ†ç±» -->


<h2 id="å‡è‰²æ³•æ··è‰²æ¨¡å‹-CMYK-ä¸-åŠ è‰²æ³•æ··è‰²æ¨¡å‹-RGB"><a href="#å‡è‰²æ³•æ··è‰²æ¨¡å‹-CMYK-ä¸-åŠ è‰²æ³•æ··è‰²æ¨¡å‹-RGB" class="headerlink" title="å‡è‰²æ³•æ··è‰²æ¨¡å‹ CMYK ä¸ åŠ è‰²æ³•æ··è‰²æ¨¡å‹ RGB"></a>å‡è‰²æ³•æ··è‰²æ¨¡å‹ CMYK ä¸ åŠ è‰²æ³•æ··è‰²æ¨¡å‹ RGB</h2><h3 id="å‡è‰²æ³•æ··è‰²æ¨¡å‹-CMYK"><a href="#å‡è‰²æ³•æ··è‰²æ¨¡å‹-CMYK" class="headerlink" title="å‡è‰²æ³•æ··è‰²æ¨¡å‹ CMYK"></a>å‡è‰²æ³•æ··è‰²æ¨¡å‹ <a href="https://zh.wikipedia.org/wiki/%E5%8D%B0%E5%88%B7%E5%9B%9B%E5%88%86%E8%89%B2%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener">CMYK</a></h3><ul>
<li>C - <strong>C</strong>yan - é’è‰²</li>
<li>M - <strong>M</strong>agenta - çº¢è‰²</li>
<li>Y - <strong>Y</strong>ellow - é»„è‰²</li>
<li>K - blac<strong>K</strong> - é»‘è‰²ï¼ˆé˜²æ­¢ä¸ RGB çš„ B å†²çªï¼‰</li>
<li>ä¸Šè¿‡ç¾æœ¯è¯¾ï¼Œåº”è¯¥å¬è¿‡â€œçº¢é»„è“â€ä¸‰åŸè‰²çš„è¯´æ³•ï¼Œä½†è¿™å’Œ CMYK ä¸å¤ªä¸€æ ·ï¼Œå®é™…ä¸Šï¼Œé¢œæ–™æ˜¾ç¤ºé¢œè‰²çš„åŸç†æ˜¯å®ƒå¸æ”¶äº†æ‰€æœ‰åˆ«çš„é¢œè‰²çš„å…‰ï¼Œåªåå°„ä¸€ç§é¢œè‰²ï¼Œæ‰€ä»¥é¢œæ–™ä¸‰åŸè‰²å…¶å®æ˜¯çº¢ã€ç»¿ã€è“çš„è¡¥è‰²ï¼Œä¹Ÿå°±æ˜¯ï¼šå“çº¢ã€é»„ã€é’ã€‚å› ä¸ºå®ƒä»¬è·Ÿçº¢ã€é»„ã€è“ç›¸è¿‘ï¼Œæ‰€ä»¥æœ‰äº†è¿™æ ·çš„è¯´æ³•ã€‚</li>
<li>ä¸ºä»€ä¹ˆä¼šæ¯”ä¸‰åŸè‰²å¤šäº†ä¸€è‰²å‘¢ï¼Ÿ<ul>
<li>ä¸‰ç§é¢œè‰²è°ƒæˆé»‘è‰²ï¼Œ<strong>è´µ</strong></li>
<li>ä¸”<strong>ä¸æ˜¯çº¯ç²¹çš„é»‘</strong>ï¼Œä¸‰è‰²ç­‰é‡ç›¸åŠ ä¹‹ååªèƒ½å½¢æˆä¸€ç§æ·±ç°æˆ–æ·±è¤ï¼ˆæˆ‘è¦äº”å½©æ–‘æ–“çš„é»‘</li>
</ul>
</li>
</ul>
<h3 id="åŠ è‰²æ³•æ··è‰²æ¨¡å‹-RGB"><a href="#åŠ è‰²æ³•æ··è‰²æ¨¡å‹-RGB" class="headerlink" title="åŠ è‰²æ³•æ··è‰²æ¨¡å‹ RGB"></a>åŠ è‰²æ³•æ··è‰²æ¨¡å‹ <a href="https://www.wikiwand.com/en/RGB_color_model" target="_blank" rel="noopener">RGB</a></h3><ul>
<li>æˆ‘ä»¬åœ¨ CSS æ ·å¼ä¸­çœ‹åˆ°çš„å½¢å¼å¦‚ #RRGGBB çš„é¢œè‰²ä»£ç ï¼Œå°±æ˜¯ RGB é¢œè‰²çš„åå…­è¿›åˆ¶è¡¨ç¤ºæ³•ï¼Œå…¶ä¸­ RRã€GGã€BB åˆ†åˆ«æ˜¯ä¸¤ä½åå…­è¿›åˆ¶æ•°å­—ï¼Œè¡¨ç¤ºçº¢ã€ç»¿ã€è“ä¸‰è‰²é€šé“çš„è‰²é˜¶ã€‚è‰²é˜¶å¯ä»¥è¡¨ç¤ºæŸä¸ªé€šé“çš„å¼ºå¼±ã€‚</li>
<li>ä½† RGB å¹¶ä¸èƒ½è¡¨ç¤ºäººçœ¼æ‰€è§çš„æ‰€æœ‰é¢œè‰²ï¼Œå®ƒåªèƒ½è¡¨ç¤ºä¸‹é¢çš„è¿™ä¸ªåŒºåŸŸ</li>
</ul>
<p><img src="http://p1.meituan.net/myvideodistribute/a9c085522b90c1a0254ac3c64ac37728490575.png" alt="äººçœ¼çœ‹åˆ°çš„é¢œè‰²vsRGBèƒ½è¡¨ç¤ºçš„é¢œè‰²"></p>
<ul>
<li>RGB å¯¹è‰²å½©çš„æè¿°ï¼Œå¯¹è®¡ç®—æœºå‹å¥½ï¼Œä½†ä¸å¤Ÿäººæ€§åŒ–</li>
<li>RGB æˆ‘ä»¬åªèƒ½å¤§è‡´åˆ¤æ–­å‡ºå®ƒåå‘äºçº¢è‰²ã€ç»¿è‰²è¿˜æ˜¯è“è‰²ï¼Œæˆ–è€…åœ¨é¢œè‰²ç«‹æ–¹ä½“çš„å¤§è‡´ä½ç½®ã€‚</li>
<li>ä»¥åŠå¯¹æ¯”ä¸¤ä¸ª RGB é¢œè‰²çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡å¯¹æ¯”å®ƒä»¬åœ¨ RGB ç«‹æ–¹ä½“ä¸­çš„ç›¸å¯¹è·ç¦»ï¼Œæ¥åˆ¤æ–­å®ƒä»¬çš„é¢œè‰²å·®å¼‚ã€‚ </li>
</ul>
<p><img src="http://p1.meituan.net/myvideodistribute/15a8b3e684bdfce7333105cc23ed332d239313.png" alt="RGB ç«‹æ–¹ä½“å‡ ä½•è¡¨ç¤º"></p>
<ul>
<li>ä½†æˆ‘ä»¬å¯¹è‰²å½©çš„è®¤è¯†å¾€å¾€å…ˆæ˜¯ï¼šé¢œè‰²æ˜¯ä»€ä¹ˆï¼Œé²œè‰³ä¸é²œè‰³ï¼Œäº®è¿˜æ˜¯æš—</li>
<li>and Itâ€™s not easy to to alter an RGB color to produce a lighter variant of the same hue.<ul>
<li>è¿™åœ¨æˆ‘ä»¬å¼€å‘ä¸­ä¹Ÿååˆ†å¸¸è§ï¼Œæœ‰äº›æ—¶å€™è®¾è®¡å¸ˆå®šä¸‹è§†è§‰åŸºè°ƒå’Œä¸»è‰²ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®æ•°æ®æƒ…å†µç”±å‰ç«¯åŠ¨æ€ç”Ÿæˆé¢œè‰²å€¼</li>
</ul>
</li>
</ul>
<!-- è¿‡æ¸¡åˆ° HSV HSL -->

<h2 id="HSL-HSB-amp-HSV"><a href="#HSL-HSB-amp-HSV" class="headerlink" title="HSL HSB&amp;HSV"></a>HSL HSB&amp;HSV</h2><ul>
<li>CSS å’Œ Canvas2D éƒ½å¯ä»¥ç›´æ¥æ”¯æŒ HSL é¢œè‰²ï¼Œåªæœ‰ WebGL éœ€è¦åš RGB2HSV è½¬æ¢ã€‚</li>
</ul>
<h3 id="HSL"><a href="#HSL" class="headerlink" title="HSL"></a>HSL</h3><h4 id="H-Hue-è‰²ç›¸-0-360Â°çš„åœ†å¿ƒè§’"><a href="#H-Hue-è‰²ç›¸-0-360Â°çš„åœ†å¿ƒè§’" class="headerlink" title="H - Hue - è‰²ç›¸ - 0-360Â°çš„åœ†å¿ƒè§’"></a>H - Hue - è‰²ç›¸ - 0-360Â°çš„åœ†å¿ƒè§’</h4><ul>
<li>H(hue)åˆ†é‡ï¼Œä»£è¡¨çš„æ˜¯äººçœ¼æ‰€èƒ½æ„ŸçŸ¥çš„é¢œè‰²èŒƒå›´ï¼Œè¿™äº›é¢œè‰²åˆ†å¸ƒåœ¨ä¸€ä¸ªå¹³é¢çš„è‰²ç›¸ç¯ä¸Šï¼Œå–å€¼èŒƒå›´æ˜¯0Â°åˆ°360Â°çš„åœ†å¿ƒè§’ï¼Œæ¯ä¸ªè§’åº¦å¯ä»¥ä»£è¡¨ä¸€ç§é¢œè‰²ã€‚</li>
<li>è‰²ç›¸å€¼çš„æ„ä¹‰åœ¨äºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸æ”¹å˜å…‰æ„Ÿçš„æƒ…å†µä¸‹ï¼Œé€šè¿‡æ—‹è½¬è‰²ç›¸ç¯æ¥æ”¹å˜é¢œè‰²ã€‚</li>
<li>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è®°ä½è‰²ç›¸ç¯ä¸Šçš„å…­å¤§ä¸»è‰²ï¼Œç”¨ä½œåŸºæœ¬å‚ç…§ï¼š360Â°/0Â°çº¢ã€60Â°é»„ã€120Â°ç»¿ã€180Â°é’ã€240Â°è“ã€300Â°æ´‹çº¢ï¼Œå®ƒä»¬åœ¨è‰²ç›¸ç¯ä¸ŠæŒ‰ç…§60Â°åœ†å¿ƒè§’çš„é—´éš”æ’åˆ—ã€‚</li>
</ul>
<p><img src="http://p0.meituan.net/myvideodistribute/01ed240165965600fde0a031d193f8c6325809.png" alt="HSL è‰²ç›¸ç¯"></p>
<h4 id="S-Saturation-é¥±å’Œåº¦-0-1-æˆ–è€…-0-100-é—´çš„å€¼"><a href="#S-Saturation-é¥±å’Œåº¦-0-1-æˆ–è€…-0-100-é—´çš„å€¼" class="headerlink" title="S - Saturation - é¥±å’Œåº¦ - 0~1 æˆ–è€… 0%~100% é—´çš„å€¼"></a>S - Saturation - é¥±å’Œåº¦ - 0~1 æˆ–è€… 0%~100% é—´çš„å€¼</h4><ul>
<li>å’Œé»‘ç™½æ²¡æœ‰å…³ç³»ï¼Œé¥±å’Œåº¦ä¸æ§åˆ¶é¢œè‰²ä¸­æ··å…¥é»‘ç™½çš„å¤šå¯¡</li>
<li>æ•°å€¼è¶Šå¤§ï¼Œé¢œè‰²ä¸­çš„ç°è‰²è¶Šå°‘ï¼Œé¢œè‰²è¶Šé²œè‰³ï¼Œå‘ˆç°ä¸€ç§ä»ç°åº¦åˆ°çº¯è‰²çš„å˜åŒ–ã€‚</li>
</ul>
<p><img src="https://pic1.zhimg.com/80/v2-e606821a1171451b35f08b68aaf833b9_1440w.jpg?source=1940ef5c" alt="HSL S"></p>
<h4 id="L-Lightness-äº®åº¦-0-1-æˆ–è€…-0-100-é—´çš„å€¼"><a href="#L-Lightness-äº®åº¦-0-1-æˆ–è€…-0-100-é—´çš„å€¼" class="headerlink" title="L - Lightness - äº®åº¦ - 0~1 æˆ–è€… 0%~100% é—´çš„å€¼"></a>L - Lightness - äº®åº¦ - 0~1 æˆ–è€… 0%~100% é—´çš„å€¼</h4><ul>
<li>æ§åˆ¶çº¯è‰²ä¸­çš„æ··å…¥çš„é»‘ç™½ä¸¤ç§é¢œè‰²</li>
<li>æ•°å€¼è¶Šå°ï¼Œè‰²å½©è¶Šæš—ï¼Œè¶Šæ¥è¿‘äºé»‘è‰²ï¼›æ•°å€¼è¶Šå¤§ï¼Œè‰²å½©è¶Šäº®ï¼Œè¶Šæ¥è¿‘äºç™½è‰²ã€‚</li>
</ul>
<p><img src="https://picb.zhimg.com/80/v2-ef76260bcc83056006bf0376e9036b79_1440w.jpg?source=1940ef5c" alt="HSL L"></p>
<h3 id="HSB-amp-HSV"><a href="#HSB-amp-HSV" class="headerlink" title="HSB &amp; HSV"></a>HSB &amp; HSV</h3><ul>
<li>HSB åˆç§° HSV</li>
<li><a href="https://github.com/Ele-Peng/data-visualization/blob/master/color/CSS-Color-Module-Level-4-demo-hsv-wheel.html" target="_blank" rel="noopener">HSV è‰²è½®- WebGL å®ç°</a><ul>
<li>åƒç´ åæ ‡è½¬æ¢ä¸ºæåæ ‡ï¼Œå†é™¤ä»¥ 2Ï€ï¼Œå°±èƒ½å¾—åˆ° HSV çš„ H å€¼</li>
<li>é¼ æ ‡ä½ç½®çš„ xã€y åæ ‡æ¥å†³å®š S å’Œ V çš„å€¼</li>
</ul>
</li>
</ul>
<h4 id="S-Saturation-é¥±å’Œåº¦-0-1-æˆ–è€…-0-100-é—´çš„å€¼-1"><a href="#S-Saturation-é¥±å’Œåº¦-0-1-æˆ–è€…-0-100-é—´çš„å€¼-1" class="headerlink" title="S - Saturation - é¥±å’Œåº¦ - 0~1 æˆ–è€… 0%~100%é—´çš„å€¼"></a>S - Saturation - é¥±å’Œåº¦ - 0~1 æˆ–è€… 0%~100%é—´çš„å€¼</h4><ul>
<li>æ§åˆ¶çº¯è‰²ä¸­æ··å…¥ç™½è‰²çš„é‡ï¼Œå€¼è¶Šå¤§ï¼Œç™½è‰²è¶Šå°‘ï¼Œé¢œè‰²è¶Šçº¯ï¼›</li>
</ul>
<h4 id="B-Brightness-äº®åº¦-0-1-æˆ–è€…-0-100-é—´çš„å€¼"><a href="#B-Brightness-äº®åº¦-0-1-æˆ–è€…-0-100-é—´çš„å€¼" class="headerlink" title="B - Brightness - äº®åº¦ - 0~1 æˆ–è€… 0%~100%é—´çš„å€¼"></a>B - Brightness - äº®åº¦ - 0~1 æˆ–è€… 0%~100%é—´çš„å€¼</h4><ul>
<li>æ§åˆ¶çº¯è‰²ä¸­æ··å…¥é»‘è‰²çš„é‡ï¼Œå€¼è¶Šå¤§ï¼Œé»‘è‰²è¶Šå°‘ï¼Œæ˜åº¦è¶Šé«˜</li>
</ul>
<h3 id="RGB-ç«‹æ–¹ä½“è½¬æ¢æˆ-HSL-HSV-è¿‡ç¨‹"><a href="#RGB-ç«‹æ–¹ä½“è½¬æ¢æˆ-HSL-HSV-è¿‡ç¨‹" class="headerlink" title="RGB ç«‹æ–¹ä½“è½¬æ¢æˆ HSL / HSV è¿‡ç¨‹"></a>RGB ç«‹æ–¹ä½“è½¬æ¢æˆ HSL / HSV è¿‡ç¨‹</h3><p><img src="http://p0.meituan.net/myvideodistribute/719dd96f97590c2fc3041f661e3db30c200249.png" alt="RGB ç«‹æ–¹ä½“è½¬æ¢æˆ HSL / HSV è¿‡ç¨‹"></p>
<ul>
<li><p>æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªè¿‡ç¨‹ç®€å•ç†è§£æˆï¼Œå°† RGB é¢œè‰²çš„ç«‹æ–¹ä½“ä»ç›´è§’åæ ‡ç³»æŠ•å½±åˆ°æåæ ‡ç³»çš„åœ†æŸ±ä¸Š</p>
</li>
<li><p>HSVï¼ˆè‰²ç›¸ã€é¥±å’Œåº¦ã€æ˜åº¦ï¼‰åœ¨æ¦‚å¿µä¸Šå¯ä»¥è¢«è®¤ä¸ºæ˜¯é¢œè‰²çš„å€’åœ†é”¥ä½“ï¼ˆé»‘ç‚¹åœ¨ä¸‹é¡¶ç‚¹ï¼Œç™½è‰²åœ¨ä¸Šåº•é¢åœ†å¿ƒï¼‰</p>
<ul>
<li><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/HSV_cone.png/440px-HSV_cone.png" alt="HSV æ¦‚å¿µå›¾"></li>
</ul>
</li>
<li><p>HSL åœ¨æ¦‚å¿µä¸Šè¡¨ç¤ºäº†ä¸€ä¸ªåŒåœ†é”¥ä½“å’Œåœ†çƒä½“ï¼ˆç™½è‰²åœ¨ä¸Šé¡¶ç‚¹ï¼Œé»‘è‰²åœ¨ä¸‹é¡¶ç‚¹ï¼Œæœ€å¤§æ¨ªåˆ‡é¢çš„åœ†å¿ƒæ˜¯åŠç¨‹ç°è‰²ï¼‰</p>
<ul>
<li><img src="https://pic4.zhimg.com/80/v2-3df1e851938562c2a9d1c76cc8af23e2_1440w.jpg?source=1940ef5c" alt="HSL æ¦‚å¿µå›¾"></li>
</ul>
</li>
<li><p>æˆ‘ä»¬å¯ä»¥ä»ä¸‹å›¾æ¥å¯¹æ¯” HSL &amp; HSV</p>
<ul>
<li><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/HSL_HSV_cylinder_color_solid_comparison.png/800px-HSL_HSV_cylinder_color_solid_comparison.png" alt="HSL &amp; HSV å¯¹æ¯”å›¾"></li>
</ul>
</li>
<li><p><strong>ä½†å³ä½¿æˆ‘ä»¬å¯ä»¥å‡åŒ€åœ°ä¿®æ”¹æ¯ç»„çš„äº®åº¦å’Œé¥±å’Œåº¦ï¼Œç”±äºäººçœ¼å¯¹ä¸åŒé¢‘ç‡çš„å…‰çš„æ•æ„Ÿåº¦ä¸åŒï¼Œæˆ‘ä»¬ä»ç„¶ä¼šæ„Ÿè§‰æœ‰çš„é¢œè‰²çœ‹èµ·æ¥å’Œå…¶ä»–çš„é¢œè‰²å·®è·æ˜æ˜¾ï¼Œæœ‰çš„é¢œè‰²è¿˜æ˜¯æ²¡é‚£ä¹ˆæ˜æ˜¾</strong></p>
</li>
<li><p>çœ‹ä¸‹é¢çš„ä¾‹å­</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">  ctx.fillStyle = <span class="string">`hsl(<span class="subst">$&#123;<span class="built_in">Math</span>.floor(i * <span class="number">15</span>)&#125;</span>, 50%, 50%)`</span>;</span><br><span class="line">  ctx.beginPath();</span><br><span class="line">  ctx.arc((i - <span class="number">10</span>) * <span class="number">20</span>, <span class="number">60</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</span><br><span class="line">  ctx.fill();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">  ctx.fillStyle = <span class="string">`hsl(<span class="subst">$&#123;<span class="built_in">Math</span>.floor((i % <span class="number">2</span> ? <span class="number">60</span> : <span class="number">210</span>) + <span class="number">3</span> * i)&#125;</span>, 50%, 50%)`</span>;</span><br><span class="line">  ctx.beginPath();</span><br><span class="line">  ctx.arc((i - <span class="number">10</span>) * <span class="number">20</span>, <span class="number">-60</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</span><br><span class="line">  ctx.fill();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>æˆ‘ä»¬ç»˜åˆ¶ä¸¤æ’ä¸åŒçš„åœ†ï¼Œè®©ç¬¬ä¸€æ’æ¯ä¸ªåœ†çš„è‰²ç›¸é—´éš”éƒ½æ˜¯ 15ï¼Œå†è®©ç¬¬äºŒæ’åœ†çš„é¢œè‰²åœ¨è‰²ç›¸ 60 å’Œ 210 é™„è¿‘ä¸¤ä¸¤äº¤é”™ã€‚</li>
<li>æœ€ç»ˆç”Ÿæˆæ•ˆæœå¦‚ä¸‹ï¼š<ul>
<li><img src="https://static001.geekbang.org/resource/image/67/61/674ae06ae45050bb2e9840a1c081b661.jpeg" alt="HSL è‰²ç›¸ä¿®æ”¹"></li>
</ul>
</li>
<li>å¯ä»¥çœ‹å‡ºï¼š<ul>
<li>ç¬¬ä¸€æ’åœ†ä½ ä¼šå‘ç°ï¼Œè™½ç„¶å®ƒä»¬çš„è‰²ç›¸ç›¸å·®éƒ½æ˜¯ 15ï¼Œä½†æ˜¯ç›¸äº’ä¹‹é—´é¢œè‰²å˜åŒ–å¹¶ä¸æ˜¯å‡åŒ€çš„ï¼Œå°¤å…¶æ˜¯ä¸­é—´å‡ ä¸ªç»¿è‰²åœ†çš„é¢œè‰²æ¯”è¾ƒæ¥è¿‘ã€‚</li>
<li>ç¬¬äºŒæ’åœ†ï¼Œè™½ç„¶è¿™äº›åœ†çš„äº®åº¦éƒ½æ˜¯ 50%ï¼Œä½†æ˜¯è“è‰²å’Œç´«è‰²çš„åœ†çœ‹èµ·æ¥å°±æ˜¯ä¸å¦‚åç»¿åé»„çš„åœ†äº®ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p>å› æ­¤ï¼ŒHSL ä¾ç„¶ä¸æ˜¯æœ€å®Œç¾çš„è‰²å½©è¡¨ç¤ºæ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å»ºç«‹ä¸€å¥—ç¬¦åˆäººç±»è®¤çŸ¥çš„æ ‡å‡†ã€‚è¿™ä¸ªæ ‡å‡†å°½å¯èƒ½åœ°æ»¡è¶³ä¸€ä¸‹ 2 ä¸ªåŸåˆ™</p>
<ul>
<li>äººçœ¼çœ‹åˆ°çš„è‰²å·® = é¢œè‰²å‘é‡é—´çš„æ¬§æ°è·ç¦»</li>
<li>ç›¸åŒçš„äº®åº¦ï¼Œèƒ½è®©äººæ„Ÿè§‰äº®åº¦ç›¸åŒ</li>
</ul>
</li>
</ul>
<!-- äºæ˜¯ CIE Lab è¯ç”Ÿäº† -->


<h2 id="CIE-Lab-CIE-Lch"><a href="#CIE-Lab-CIE-Lch" class="headerlink" title="CIE Lab /  CIE Lch"></a>CIE Lab /  CIE Lch</h2><ul>
<li><p><a href="https://zh.wikipedia.org/wiki/Lab%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4" target="_blank" rel="noopener">Labè‰²å½©ç©ºé—´</a>ï¼ˆè‹±è¯­ï¼šLab color spaceï¼‰æ˜¯é¢œè‰²-å¯¹ç«‹ç©ºé—´ï¼Œå¸¦æœ‰ç»´åº¦Lè¡¨ç¤ºäº®åº¦ï¼Œaå’Œbè¡¨ç¤ºé¢œè‰²å¯¹ç«‹ç»´åº¦ï¼ŒåŸºäºäº†éçº¿æ€§å‹ç¼©çš„CIE XYZè‰²å½©ç©ºé—´åæ ‡ã€‚</p>
</li>
<li><p>CIE Lab æ¯”è¾ƒç‰¹æ®Šçš„ä¸€ç‚¹æ˜¯ï¼Œç›®å‰è¿˜æ²¡æœ‰èƒ½æ”¯æŒ CIE Lab çš„å›¾å½¢ç³»ç»Ÿï¼Œä½†<a href="https://www.w3.org/TR/css-color-4/#funcdef-lab" target="_blank" rel="noopener">è§„èŒƒ</a>ä¸­å·²ç»ç»™å‡ºäº† Lab é¢œè‰²å€¼çš„å®šä¹‰</p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">lab() &#x3D; lab( &lt;percentage&gt; &lt;number&gt; &lt;number&gt; [ &#x2F; &lt;alpha-value&gt; ]? )</span><br><span class="line">lch() &#x3D; lch( &lt;percentage&gt; &lt;number&gt; &lt;hue&gt; [ &#x2F; &lt;alpha-value&gt; ]? )</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸”ä¸€äº› JavaScript åº“ä¹Ÿå·²ç»å¯ä»¥ç›´æ¥å¤„ç† Lab é¢œè‰²ç©ºé—´äº†ï¼Œå¦‚ <a href="https://d3js.org.cn/document/d3-color/" target="_blank" rel="noopener">d3-color</a>    </p>
<ul>
<li><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <a href="https://bl.ocks.org/mbostock/9f37cc207c0cb166921b" target="_blank" rel="noopener">Lab color picker</a> æ¥äº†è§£ä¸‰ä¸ªé¢œè‰²ä¹‹å‰çš„ç›¸äº’ä½œç”¨</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> c = d3.lab(<span class="number">30</span>, i * <span class="number">15</span> - <span class="number">150</span>, i * <span class="number">15</span> - <span class="number">150</span>).rgb();</span><br><span class="line">  ctx.fillStyle = <span class="string">`rgb(<span class="subst">$&#123;c.r&#125;</span>, <span class="subst">$&#123;c.g&#125;</span>, <span class="subst">$&#123;c.b&#125;</span>)`</span>;</span><br><span class="line">  ctx.beginPath();</span><br><span class="line">  ctx.arc((i - <span class="number">10</span>) * <span class="number">20</span>, <span class="number">60</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</span><br><span class="line">  ctx.fill();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> c = d3.lab(i * <span class="number">5</span>, <span class="number">80</span>, <span class="number">80</span>).rgb();</span><br><span class="line">  ctx.fillStyle = <span class="string">`rgb(<span class="subst">$&#123;c.r&#125;</span>, <span class="subst">$&#123;c.g&#125;</span>, <span class="subst">$&#123;c.b&#125;</span>)`</span>;</span><br><span class="line">  ctx.beginPath();</span><br><span class="line">  ctx.arc((i - <span class="number">10</span>) * <span class="number">20</span>, <span class="number">-60</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</span><br><span class="line">  ctx.fill();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>è¿™ä¸ªä¾‹å­ä¸ HSL çš„ä¾‹å­ä¸€æ ·ï¼Œä¹Ÿæ˜¯æ˜¾ç¤ºä¸¤æ’åœ†å½¢ã€‚</p>
<ul>
<li>ç¬¬ä¸€æ’ç›¸é‚»åœ†å½¢ä¹‹é—´çš„ lab è‰²å€¼çš„æ¬§æ°ç©ºé—´è·ç¦»ç›¸åŒ</li>
<li>ç¬¬äºŒæ’ç›¸é‚»åœ†å½¢ä¹‹é—´çš„äº®åº¦æŒ‰ 5 é˜¶çš„æ–¹å¼é€’å¢</li>
</ul>
</li>
<li><p><img src="https://static001.geekbang.org/resource/image/9c/92/9c0898db90d53fe4fd3e6b3c83043d92.jpeg" alt="d3 lab demo"></p>
</li>
</ul>
</li>
<li><p>å¯ä»¥çœ‹å‡ºï¼Œåœ¨ä»¥ CIELab æ–¹å¼å‘ˆç°çš„è‰²å½©å˜åŒ–ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®çš„æ•°å€¼å’Œäººçœ¼æ„ŸçŸ¥çš„ä¸€è‡´æ€§æ¯”è¾ƒå¼ºã€‚</p>
</li>
<li><p>è‡³æ­¤ï¼Œè§„èŒƒä¸­å‡ºç°çš„è‰²å½©ç©ºé—´è¡¨ç¤ºæ–¹æ³•å·²ç»ä»‹ç»å®Œäº†ã€‚</p>
</li>
</ul>
<h3 id="Cubehelix-è‰²ç›˜"><a href="#Cubehelix-è‰²ç›˜" class="headerlink" title="Cubehelix è‰²ç›˜"></a><a href="http://www.mrao.cam.ac.uk/~dag/CUBEHELIX/" target="_blank" rel="noopener">Cubehelix</a> è‰²ç›˜</h3><!-- æœ€åï¼Œæˆ‘ä»¬å†æ¥è¯´ä¸€ç§ç‰¹æ®Šçš„é¢œè‰²è¡¨ç¤ºæ³• -->
<ul>
<li>å®ƒçš„åŸç†å°±æ˜¯åœ¨ RGB çš„ç«‹æ–¹ä¸­æ„å»ºä¸€æ®µèºæ—‹çº¿ï¼Œè®©è‰²ç›¸éšç€äº®åº¦å¢åŠ èºæ—‹å˜æ¢ã€‚</li>
<li><img src="https://static001.geekbang.org/resource/image/28/0c/281b8bbdeebyy0f3e62c80278267150c.jpg" alt="Cubehelix èºæ—‹çº¿åŸç†"></li>
<li>æˆ‘ä»¬å¯ä»¥ç”¨ <a href="https://www.npmjs.com/package/cubehelix" target="_blank" rel="noopener">cubehelix</a> å†™ä¸€ä¸ªé¢œè‰²éšç€é•¿åº¦å˜åŒ–çš„é•¿åº¦<ul>
<li>é¦–å…ˆï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ cubehelix å‡½æ•°åˆ›å»ºä¸€ä¸ª color æ˜ å°„ã€‚<ul>
<li>cubehelix å‡½æ•°æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªè‰²ç›˜æ˜ å°„å‡½æ•°ã€‚è¿™ä¸ªè¿”å›å‡½æ•°çš„å‚æ•°èŒƒå›´æ˜¯ 0 åˆ° 1ï¼Œå½“å®ƒä»å°åˆ°å¤§ä¾æ¬¡æ”¹å˜çš„æ—¶å€™ï¼Œä¸ä»…é¢œè‰²ä¼šä¾æ¬¡æ”¹å˜ï¼Œäº®åº¦ä¹Ÿä¼šä¾æ¬¡å¢å¼ºã€‚</li>
</ul>
</li>
<li>ç„¶åï¼Œæˆ‘ä»¬ç”¨æ­£å¼¦å‡½æ•°æ¥æ¨¡æ‹Ÿæ•°æ®çš„å‘¨æœŸæ€§å˜åŒ–ï¼Œé€šè¿‡ color è·å–å½“å‰çš„é¢œè‰²å€¼ï¼Œå†æŠŠé¢œè‰²å€¼èµ‹ç»™ ctx.fillStyleï¼Œé¢œè‰²å°±èƒ½æ˜¾ç¤ºå‡ºæ¥äº†ã€‚</li>
<li>æœ€åï¼Œæˆ‘ä»¬ç”¨ rect å°†æŸ±çŠ¶å›¾ç”»å‡ºæ¥ï¼Œç”¨ requestAnimationFrame å®ç°åŠ¨ç”»å°±å¯ä»¥äº† ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;cubehelix&#125; <span class="keyword">from</span> <span class="string">'cubehelix'</span>;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">'canvas'</span>);</span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">	</span><br><span class="line">ctx.translate(<span class="number">0</span>, <span class="number">256</span>);</span><br><span class="line">ctx.scale(<span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line">	</span><br><span class="line"><span class="keyword">const</span> color = cubehelix(); <span class="comment">// æ„é€ cubehelixè‰²ç›˜é¢œè‰²æ˜ å°„å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> T = <span class="number">2000</span>;</span><br><span class="line">	</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">update</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> p = <span class="number">0.5</span> + <span class="number">0.5</span> * <span class="built_in">Math</span>.sin(t / T);</span><br><span class="line">  ctx.clearRect(<span class="number">0</span>, <span class="number">-256</span>, <span class="number">512</span>, <span class="number">512</span>);</span><br><span class="line">  <span class="keyword">const</span> &#123;r, g, b&#125; = color(p);</span><br><span class="line">  ctx.fillStyle = <span class="string">`rgb(<span class="subst">$&#123;<span class="number">255</span> * r&#125;</span>,<span class="subst">$&#123;<span class="number">255</span> * g&#125;</span>,<span class="subst">$&#123;<span class="number">255</span> * b&#125;</span>)`</span>;</span><br><span class="line">  ctx.beginPath();</span><br><span class="line">  ctx.rect(<span class="number">20</span>, <span class="number">-20</span>, <span class="number">480</span> * p, <span class="number">40</span>);</span><br><span class="line">  ctx.fill();</span><br><span class="line">  <span class="built_in">window</span>.ctx = ctx;</span><br><span class="line">  requestAnimationFrame(update);</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line">update(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><img src="https://static001.geekbang.org/resource/image/4d/ef/4d71b84fc3282e84a98141e444f658ef.gif" alt="Cubehelix rect"></li>
</ul>
<h3 id="Coverting"><a href="#Coverting" class="headerlink" title="Coverting"></a>Coverting</h3><ul>
<li><a href="https://www.w3.org/TR/css-color-4/#hsl-to-rgb" target="_blank" rel="noopener">hsl-to-rgb</a></li>
<li><a href="https://www.w3.org/TR/css-color-4/#rgb-to-lab" target="_blank" rel="noopener">rgb-to-lab</a></li>
<li><a href="https://www.w3.org/TR/css-color-4/#lab-to-rgb" target="_blank" rel="noopener">lab-to-rgb</a></li>
<li><a href="https://www.w3.org/TR/css-color-4/#lab-to-lch" target="_blank" rel="noopener">lab-to-lch</a></li>
<li><a href="https://www.w3.org/TR/css-color-4/#lch-to-lab" target="_blank" rel="noopener">lch-to-lab</a></li>
<li><a href="https://www.w3.org/TR/css-color-4/#color-conversion-code" target="_blank" rel="noopener">Sample code for color conversions</a></li>
</ul>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://www.w3.org/TR/css-color-4/" target="_blank" rel="noopener">CSS Color Module Level 4</a></li>
<li><a href="https://en.wikipedia.org/wiki/HSL_and_HSV" target="_blank" rel="noopener">wikipedia HSL&amp;HSV</a></li>
<li><a href="https://www.zhihu.com/question/22077462" target="_blank" rel="noopener">çŸ¥ä¹-è‰²å½©ç©ºé—´ä¸­çš„ HSLã€HSVã€HSB æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li>
<li><a href="https://d3js.org.cn/document/d3-color/#api-reference" target="_blank" rel="noopener">d3-color</a></li>
<li><a href="http://www.mrao.cam.ac.uk/~dag/CUBEHELIX/" target="_blank" rel="noopener">Cubehelix</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/121055691" target="_blank" rel="noopener">Cubehelixé¢œè‰²è¡¨ç®—æ³•</a></li>
<li><a href="https://zh.wikipedia.org/wiki/Lab%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4" target="_blank" rel="noopener">wikipedia Labè‰²å½©ç©ºé—´</a></li>
<li><a href="http://wsyks.github.io/2017/03/17/JS%E5%AE%9E%E7%8E%B0RGB-HSL-HSB%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/" target="_blank" rel="noopener">JSå®ç°RGB-HSL-HSBç›¸äº’è½¬æ¢</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>WebGL</category>
      </categories>
      <tags>
        <tag>writing</tag>
        <tag>WebGL</tag>
      </tags>
  </entry>
  <entry>
    <title>Realm</title>
    <url>/2020/05/08/Realm/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>


<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>Before it is evaluated, all ECMAScript code must be associated with a realm. Conceptually, a realm consists of a set of intrinsic objects, an ECMAScript global environment, all of the ECMAScript code that is loaded within the scope of that global environment, and other associated state and resources.</li>
</ul>
<a id="more"></a>

<ul>
<li><p>ä»é€»è¾‘ä¸Šè®²ï¼Œå †æ ˆä¸­çš„æ¯ä¸ªä¸Šä¸‹æ–‡æ€»æ˜¯ä¸å…¶ realm ç›¸å…³è”</p>
<ul>
<li><p>è®©æˆ‘ä»¬çœ‹çœ‹å•ç‹¬çš„realmçš„ä¾‹å­ï¼Œä½¿ç”¨vmæ¨¡å—ï¼š</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = <span class="built_in">require</span>(<span class="string">'vm'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// First realm, and its global:</span></span><br><span class="line"><span class="keyword">const</span> realm1 = vm.createContext(&#123;<span class="attr">x</span>: <span class="number">10</span>, <span class="built_in">console</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Second realm, and its global:</span></span><br><span class="line"><span class="keyword">const</span> realm2 = vm.createContext(&#123;<span class="attr">x</span>: <span class="number">20</span>, <span class="built_in">console</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Code to execute:</span></span><br><span class="line"><span class="keyword">const</span> code = <span class="string">`console.log(x);`</span>;</span><br><span class="line"></span><br><span class="line">vm.runInContext(code, realm1); <span class="comment">// 10</span></span><br><span class="line">vm.runInContext(code, realm2); <span class="comment">// 20</span></span><br></pre></td></tr></table></figure></li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/5055c18e52edec4cd447d7acfd4a8278158263.png" alt="realm"></p>
</li>
</ul>
</li>
</ul>
<h2 id="å®è·µè®°å½•"><a href="#å®è·µè®°å½•" class="headerlink" title="å®è·µè®°å½•"></a>å®è·µè®°å½•</h2><ul>
<li><p>JavaScript ä¸­æ‰€æœ‰çš„å›ºæœ‰å¯¹è±¡</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">	</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> objects = [</span><br><span class="line">  <span class="string">"eval"</span>,</span><br><span class="line">  <span class="string">"isFinite"</span>,</span><br><span class="line">  <span class="string">"isNaN"</span>,</span><br><span class="line">  <span class="string">"parseFloat"</span>,</span><br><span class="line">  <span class="string">"parseInt"</span>,</span><br><span class="line">  <span class="string">"decodeURI"</span>,</span><br><span class="line">  <span class="string">"decodeURIComponent"</span>,</span><br><span class="line">  <span class="string">"encodeURI"</span>,</span><br><span class="line">  <span class="string">"encodeURIComponent"</span>,</span><br><span class="line">  <span class="string">"Array"</span>,</span><br><span class="line">  <span class="string">"Date"</span>,</span><br><span class="line">  <span class="string">"RegExp"</span>,</span><br><span class="line">  <span class="string">"Promise"</span>,</span><br><span class="line">  <span class="string">"Proxy"</span>,</span><br><span class="line">  <span class="string">"Map"</span>,</span><br><span class="line">  <span class="string">"WeakMap"</span>,</span><br><span class="line">  <span class="string">"Set"</span>,</span><br><span class="line">  <span class="string">"WeakSet"</span>,</span><br><span class="line">  <span class="string">"Function"</span>,</span><br><span class="line">  <span class="string">"Boolean"</span>,</span><br><span class="line">  <span class="string">"String"</span>,</span><br><span class="line">  <span class="string">"Number"</span>,</span><br><span class="line">  <span class="string">"Symbol"</span>,</span><br><span class="line">  <span class="string">"Object"</span>,</span><br><span class="line">  <span class="string">"Error"</span>,</span><br><span class="line">  <span class="string">"EvalError"</span>,</span><br><span class="line">  <span class="string">"RangeError"</span>,</span><br><span class="line">  <span class="string">"ReferenceError"</span>,</span><br><span class="line">  <span class="string">"SyntaxError"</span>,</span><br><span class="line">  <span class="string">"TypeError"</span>,</span><br><span class="line">  <span class="string">"URIError"</span>,</span><br><span class="line">  <span class="string">"ArrayBuffer"</span>,</span><br><span class="line">  <span class="string">"SharedArrayBuffer"</span>,</span><br><span class="line">  <span class="string">"DataView"</span>,</span><br><span class="line">  <span class="string">"Float32Array"</span>,</span><br><span class="line">  <span class="string">"Float64Array"</span>,</span><br><span class="line">  <span class="string">"Int8Array"</span>,</span><br><span class="line">  <span class="string">"Int16Array"</span>,</span><br><span class="line">  <span class="string">"Int32Array"</span>,</span><br><span class="line">  <span class="string">"Uint8Array"</span>,</span><br><span class="line">  <span class="string">"Uint16Array"</span>,</span><br><span class="line">  <span class="string">"Uint32Array"</span>,</span><br><span class="line">  <span class="string">"Uint8ClampedArray"</span>,</span><br><span class="line">  <span class="string">"Atomics"</span>,</span><br><span class="line">  <span class="string">"JSON"</span>,</span><br><span class="line">  <span class="string">"Math"</span>,</span><br><span class="line">  <span class="string">"Reflect"</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new Set();</span><br><span class="line"></span><br><span class="line">const globalObject = []</span><br><span class="line"></span><br><span class="line">for (let i of objects) &#123;</span><br><span class="line">  globalObject.push(&#123;</span><br><span class="line">    object: <span class="keyword">this</span>[i],</span><br><span class="line">    path: [i]</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (globalObject.length) &#123;</span><br><span class="line">  <span class="keyword">const</span> current = globalObject.shift()</span><br><span class="line">  <span class="built_in">console</span>.log(current.path.join(<span class="string">'.'</span>))</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">set</span>.has(current.object))</span><br><span class="line">    continue;</span><br><span class="line">  <span class="keyword">set</span>.add(current.object)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  let proto = Object.getPrototypeOf(current.object)</span><br><span class="line">  if (proto) &#123;</span><br><span class="line">    globalObject.push(&#123;</span><br><span class="line">      path: current.path.concat([<span class="string">"__proto__"</span>]),</span><br><span class="line">      object: proto</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> p <span class="keyword">of</span> <span class="built_in">Object</span>.getOwnPropertyNames(current.object)) &#123;</span><br><span class="line">    <span class="keyword">let</span> d = <span class="built_in">Object</span>.getOwnPropertyDescriptor(current.object, p)</span><br><span class="line">    <span class="keyword">if</span> (d.hasOwnProperty(<span class="string">"value"</span>) &amp;&amp; ((d.value !== <span class="literal">null</span> &amp;&amp; <span class="keyword">typeof</span> d.value === <span class="string">"object"</span>) || (<span class="keyword">typeof</span> d.value === <span class="string">"function"</span>)) &amp;&amp; d.value <span class="keyword">instanceof</span> <span class="built_in">Object</span>) &#123;</span><br><span class="line">      globalObject.push(&#123;</span><br><span class="line">        path: current.path.concat([p]),</span><br><span class="line">        object: d.value</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (d.hasOwnProperty(<span class="string">"get"</span>) &amp;&amp; <span class="keyword">typeof</span> d.get === <span class="string">"function"</span>) &#123;</span><br><span class="line">      globalObject.push(&#123;</span><br><span class="line">        path: current.path.concat([p]),</span><br><span class="line">        object: d.get</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (d.hasOwnProperty(<span class="string">"set"</span>) &amp;&amp; <span class="keyword">typeof</span> d.set === <span class="string">"function"</span>) &#123;</span><br><span class="line">      globalObject.push(&#123;</span><br><span class="line">        path: current.path.concat([p]),</span><br><span class="line">        object: d.set</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ¹æ®ä¸Šè¿°ä»£ç ï¼Œè¿›è¡Œæ•°æ®ç»“æ„æ–¹é¢çš„æ ¼å¼åŒ–</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">	</span><br><span class="line"><span class="keyword">const</span> objects = [</span><br><span class="line">  <span class="string">"eval"</span>,</span><br><span class="line">  <span class="string">"isFinite"</span>,</span><br><span class="line">  <span class="string">"isNaN"</span>,</span><br><span class="line">  <span class="string">"parseFloat"</span>,</span><br><span class="line">  <span class="string">"parseInt"</span>,</span><br><span class="line">  <span class="string">"decodeURI"</span>,</span><br><span class="line">  <span class="string">"decodeURIComponent"</span>,</span><br><span class="line">  <span class="string">"encodeURI"</span>,</span><br><span class="line">  <span class="string">"encodeURIComponent"</span>,</span><br><span class="line">  <span class="string">"Array"</span>,</span><br><span class="line">  <span class="string">"Date"</span>,</span><br><span class="line">  <span class="string">"RegExp"</span>,</span><br><span class="line">  <span class="string">"Promise"</span>,</span><br><span class="line">  <span class="string">"Proxy"</span>,</span><br><span class="line">  <span class="string">"Map"</span>,</span><br><span class="line">  <span class="string">"WeakMap"</span>,</span><br><span class="line">  <span class="string">"Set"</span>,</span><br><span class="line">  <span class="string">"WeakSet"</span>,</span><br><span class="line">  <span class="string">"Function"</span>,</span><br><span class="line">  <span class="string">"Boolean"</span>,</span><br><span class="line">  <span class="string">"String"</span>,</span><br><span class="line">  <span class="string">"Number"</span>,</span><br><span class="line">  <span class="string">"Symbol"</span>,</span><br><span class="line">  <span class="string">"Object"</span>,</span><br><span class="line">  <span class="string">"Error"</span>,</span><br><span class="line">  <span class="string">"EvalError"</span>,</span><br><span class="line">  <span class="string">"RangeError"</span>,</span><br><span class="line">  <span class="string">"ReferenceError"</span>,</span><br><span class="line">  <span class="string">"SyntaxError"</span>,</span><br><span class="line">  <span class="string">"TypeError"</span>,</span><br><span class="line">  <span class="string">"URIError"</span>,</span><br><span class="line">  <span class="string">"ArrayBuffer"</span>,</span><br><span class="line">  <span class="string">"SharedArrayBuffer"</span>,</span><br><span class="line">  <span class="string">"DataView"</span>,</span><br><span class="line">  <span class="string">"Float32Array"</span>,</span><br><span class="line">  <span class="string">"Float64Array"</span>,</span><br><span class="line">  <span class="string">"Int8Array"</span>,</span><br><span class="line">  <span class="string">"Int16Array"</span>,</span><br><span class="line">  <span class="string">"Int32Array"</span>,</span><br><span class="line">  <span class="string">"Uint8Array"</span>,</span><br><span class="line">  <span class="string">"Uint16Array"</span>,</span><br><span class="line">  <span class="string">"Uint32Array"</span>,</span><br><span class="line">  <span class="string">"Uint8ClampedArray"</span>,</span><br><span class="line">  <span class="string">"Atomics"</span>,</span><br><span class="line">  <span class="string">"JSON"</span>,</span><br><span class="line">  <span class="string">"Math"</span>,</span><br><span class="line">  <span class="string">"Reflect"</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new Set();</span><br><span class="line"></span><br><span class="line">const globalObject = &#123;</span><br><span class="line">  id: <span class="string">"Global Object"</span>,</span><br><span class="line">  children: [</span><br><span class="line"></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> objects) &#123;</span><br><span class="line">  globalObject.children.push(&#123;</span><br><span class="line">    children: [],</span><br><span class="line">    id: i</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; objects.length; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> current = objects[i]</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">set</span>.has(objects[i]))</span><br><span class="line">    continue;</span><br><span class="line">  <span class="keyword">set</span>.add(objects[i])</span><br><span class="line">  for (let p of Object.getOwnPropertyNames(window[objects[i]])) &#123;</span><br><span class="line">    <span class="keyword">let</span> d = <span class="built_in">Object</span>.getOwnPropertyDescriptor(<span class="built_in">window</span>[objects[i]], p)</span><br><span class="line">    <span class="keyword">if</span> (d.hasOwnProperty(<span class="string">"value"</span>) &amp;&amp; ((d.value !== <span class="literal">null</span> &amp;&amp; <span class="keyword">typeof</span> d.value === <span class="string">"object"</span>) || (<span class="keyword">typeof</span> d.value === <span class="string">"function"</span>)) &amp;&amp; d.value <span class="keyword">instanceof</span> <span class="built_in">Object</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> childrenThird = []</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.getOwnPropertyNames(d.value)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (k !== <span class="string">'name'</span> &amp;&amp; k !== <span class="string">'length'</span>) &#123;</span><br><span class="line">          childrenThird.push(&#123; <span class="attr">id</span>: k &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      globalObject[<span class="string">"children"</span>][i].children.push(&#123;</span><br><span class="line">        children: childrenThird,</span><br><span class="line">        id: p</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (d.hasOwnProperty(<span class="string">"get"</span>) &amp;&amp; <span class="keyword">typeof</span> d.get === <span class="string">"function"</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> childrenThird = []</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.getOwnPropertyNames(d.get)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (k !== <span class="string">'name'</span> &amp;&amp; k !== <span class="string">'length'</span>) &#123;</span><br><span class="line">          childrenThird.push(&#123; <span class="attr">id</span>: k &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      globalObject[<span class="string">"children"</span>][i].children.push(&#123;</span><br><span class="line">        children: childrenThird,</span><br><span class="line">        id: p</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (d.hasOwnProperty(<span class="string">"set"</span>) &amp;&amp; <span class="keyword">typeof</span> d.set === <span class="string">"function"</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> childrenThird = []</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.getOwnPropertyNames(d.set)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (k !== <span class="string">'name'</span> &amp;&amp; k !== <span class="string">'length'</span>) &#123;</span><br><span class="line">          childrenThird.push(&#123; <span class="attr">id</span>: k &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      globalObject[<span class="string">"children"</span>][i].children.push(&#123;</span><br><span class="line">        children: childrenThird,</span><br><span class="line">        id: p</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¤„ç†å¥½çš„JSONæ•°æ®  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&quot;id&quot;:&quot;Global Object&quot;,&quot;children&quot;:[&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;eval&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isFinite&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isNaN&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;parseFloat&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;parseInt&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;decodeURI&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;decodeURIComponent&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;encodeURI&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;encodeURIComponent&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;concat&quot;&#125;,&#123;&quot;id&quot;:&quot;copyWithin&quot;&#125;,&#123;&quot;id&quot;:&quot;fill&quot;&#125;,&#123;&quot;id&quot;:&quot;find&quot;&#125;,&#123;&quot;id&quot;:&quot;findIndex&quot;&#125;,&#123;&quot;id&quot;:&quot;lastIndexOf&quot;&#125;,&#123;&quot;id&quot;:&quot;pop&quot;&#125;,&#123;&quot;id&quot;:&quot;push&quot;&#125;,&#123;&quot;id&quot;:&quot;reverse&quot;&#125;,&#123;&quot;id&quot;:&quot;shift&quot;&#125;,&#123;&quot;id&quot;:&quot;unshift&quot;&#125;,&#123;&quot;id&quot;:&quot;slice&quot;&#125;,&#123;&quot;id&quot;:&quot;sort&quot;&#125;,&#123;&quot;id&quot;:&quot;splice&quot;&#125;,&#123;&quot;id&quot;:&quot;includes&quot;&#125;,&#123;&quot;id&quot;:&quot;indexOf&quot;&#125;,&#123;&quot;id&quot;:&quot;join&quot;&#125;,&#123;&quot;id&quot;:&quot;keys&quot;&#125;,&#123;&quot;id&quot;:&quot;entries&quot;&#125;,&#123;&quot;id&quot;:&quot;values&quot;&#125;,&#123;&quot;id&quot;:&quot;forEach&quot;&#125;,&#123;&quot;id&quot;:&quot;filter&quot;&#125;,&#123;&quot;id&quot;:&quot;flat&quot;&#125;,&#123;&quot;id&quot;:&quot;flatMap&quot;&#125;,&#123;&quot;id&quot;:&quot;map&quot;&#125;,&#123;&quot;id&quot;:&quot;every&quot;&#125;,&#123;&quot;id&quot;:&quot;some&quot;&#125;,&#123;&quot;id&quot;:&quot;reduce&quot;&#125;,&#123;&quot;id&quot;:&quot;reduceRight&quot;&#125;,&#123;&quot;id&quot;:&quot;toLocaleString&quot;&#125;,&#123;&quot;id&quot;:&quot;toString&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isArray&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;from&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;of&quot;&#125;],&quot;id&quot;:&quot;Array&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;toString&quot;&#125;,&#123;&quot;id&quot;:&quot;toDateString&quot;&#125;,&#123;&quot;id&quot;:&quot;toTimeString&quot;&#125;,&#123;&quot;id&quot;:&quot;toISOString&quot;&#125;,&#123;&quot;id&quot;:&quot;toUTCString&quot;&#125;,&#123;&quot;id&quot;:&quot;toGMTString&quot;&#125;,&#123;&quot;id&quot;:&quot;getDate&quot;&#125;,&#123;&quot;id&quot;:&quot;setDate&quot;&#125;,&#123;&quot;id&quot;:&quot;getDay&quot;&#125;,&#123;&quot;id&quot;:&quot;getFullYear&quot;&#125;,&#123;&quot;id&quot;:&quot;setFullYear&quot;&#125;,&#123;&quot;id&quot;:&quot;getHours&quot;&#125;,&#123;&quot;id&quot;:&quot;setHours&quot;&#125;,&#123;&quot;id&quot;:&quot;getMilliseconds&quot;&#125;,&#123;&quot;id&quot;:&quot;setMilliseconds&quot;&#125;,&#123;&quot;id&quot;:&quot;getMinutes&quot;&#125;,&#123;&quot;id&quot;:&quot;setMinutes&quot;&#125;,&#123;&quot;id&quot;:&quot;getMonth&quot;&#125;,&#123;&quot;id&quot;:&quot;setMonth&quot;&#125;,&#123;&quot;id&quot;:&quot;getSeconds&quot;&#125;,&#123;&quot;id&quot;:&quot;setSeconds&quot;&#125;,&#123;&quot;id&quot;:&quot;getTime&quot;&#125;,&#123;&quot;id&quot;:&quot;setTime&quot;&#125;,&#123;&quot;id&quot;:&quot;getTimezoneOffset&quot;&#125;,&#123;&quot;id&quot;:&quot;getUTCDate&quot;&#125;,&#123;&quot;id&quot;:&quot;setUTCDate&quot;&#125;,&#123;&quot;id&quot;:&quot;getUTCDay&quot;&#125;,&#123;&quot;id&quot;:&quot;getUTCFullYear&quot;&#125;,&#123;&quot;id&quot;:&quot;setUTCFullYear&quot;&#125;,&#123;&quot;id&quot;:&quot;getUTCHours&quot;&#125;,&#123;&quot;id&quot;:&quot;setUTCHours&quot;&#125;,&#123;&quot;id&quot;:&quot;getUTCMilliseconds&quot;&#125;,&#123;&quot;id&quot;:&quot;setUTCMilliseconds&quot;&#125;,&#123;&quot;id&quot;:&quot;getUTCMinutes&quot;&#125;,&#123;&quot;id&quot;:&quot;setUTCMinutes&quot;&#125;,&#123;&quot;id&quot;:&quot;getUTCMonth&quot;&#125;,&#123;&quot;id&quot;:&quot;setUTCMonth&quot;&#125;,&#123;&quot;id&quot;:&quot;getUTCSeconds&quot;&#125;,&#123;&quot;id&quot;:&quot;setUTCSeconds&quot;&#125;,&#123;&quot;id&quot;:&quot;valueOf&quot;&#125;,&#123;&quot;id&quot;:&quot;getYear&quot;&#125;,&#123;&quot;id&quot;:&quot;setYear&quot;&#125;,&#123;&quot;id&quot;:&quot;toJSON&quot;&#125;,&#123;&quot;id&quot;:&quot;toLocaleString&quot;&#125;,&#123;&quot;id&quot;:&quot;toLocaleDateString&quot;&#125;,&#123;&quot;id&quot;:&quot;toLocaleTimeString&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;now&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;parse&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;UTC&quot;&#125;],&quot;id&quot;:&quot;Date&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;exec&quot;&#125;,&#123;&quot;id&quot;:&quot;dotAll&quot;&#125;,&#123;&quot;id&quot;:&quot;flags&quot;&#125;,&#123;&quot;id&quot;:&quot;global&quot;&#125;,&#123;&quot;id&quot;:&quot;ignoreCase&quot;&#125;,&#123;&quot;id&quot;:&quot;multiline&quot;&#125;,&#123;&quot;id&quot;:&quot;source&quot;&#125;,&#123;&quot;id&quot;:&quot;sticky&quot;&#125;,&#123;&quot;id&quot;:&quot;unicode&quot;&#125;,&#123;&quot;id&quot;:&quot;compile&quot;&#125;,&#123;&quot;id&quot;:&quot;toString&quot;&#125;,&#123;&quot;id&quot;:&quot;test&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;input&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;input&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$_&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$_&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;lastMatch&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;lastMatch&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$&amp;&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$&amp;&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;lastParen&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;lastParen&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$+&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$+&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;leftContext&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;leftContext&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$&#96;&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$&#96;&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;rightContext&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;rightContext&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$&#39;&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$&#39;&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$1&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$1&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$2&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$2&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$3&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$3&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$4&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$4&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$5&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$5&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$6&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$6&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$7&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$7&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$8&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$8&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$9&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;$9&quot;&#125;],&quot;id&quot;:&quot;RegExp&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;then&quot;&#125;,&#123;&quot;id&quot;:&quot;catch&quot;&#125;,&#123;&quot;id&quot;:&quot;finally&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;all&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;race&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;resolve&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;reject&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;allSettled&quot;&#125;],&quot;id&quot;:&quot;Promise&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;revocable&quot;&#125;],&quot;id&quot;:&quot;Proxy&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;get&quot;&#125;,&#123;&quot;id&quot;:&quot;set&quot;&#125;,&#123;&quot;id&quot;:&quot;has&quot;&#125;,&#123;&quot;id&quot;:&quot;delete&quot;&#125;,&#123;&quot;id&quot;:&quot;clear&quot;&#125;,&#123;&quot;id&quot;:&quot;entries&quot;&#125;,&#123;&quot;id&quot;:&quot;forEach&quot;&#125;,&#123;&quot;id&quot;:&quot;keys&quot;&#125;,&#123;&quot;id&quot;:&quot;size&quot;&#125;,&#123;&quot;id&quot;:&quot;values&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Map&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;delete&quot;&#125;,&#123;&quot;id&quot;:&quot;get&quot;&#125;,&#123;&quot;id&quot;:&quot;set&quot;&#125;,&#123;&quot;id&quot;:&quot;has&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;WeakMap&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;has&quot;&#125;,&#123;&quot;id&quot;:&quot;add&quot;&#125;,&#123;&quot;id&quot;:&quot;delete&quot;&#125;,&#123;&quot;id&quot;:&quot;clear&quot;&#125;,&#123;&quot;id&quot;:&quot;entries&quot;&#125;,&#123;&quot;id&quot;:&quot;forEach&quot;&#125;,&#123;&quot;id&quot;:&quot;size&quot;&#125;,&#123;&quot;id&quot;:&quot;values&quot;&#125;,&#123;&quot;id&quot;:&quot;keys&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Set&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;delete&quot;&#125;,&#123;&quot;id&quot;:&quot;has&quot;&#125;,&#123;&quot;id&quot;:&quot;add&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;WeakSet&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;arguments&quot;&#125;,&#123;&quot;id&quot;:&quot;caller&quot;&#125;,&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;apply&quot;&#125;,&#123;&quot;id&quot;:&quot;bind&quot;&#125;,&#123;&quot;id&quot;:&quot;call&quot;&#125;,&#123;&quot;id&quot;:&quot;toString&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Function&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;toString&quot;&#125;,&#123;&quot;id&quot;:&quot;valueOf&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Boolean&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;anchor&quot;&#125;,&#123;&quot;id&quot;:&quot;big&quot;&#125;,&#123;&quot;id&quot;:&quot;blink&quot;&#125;,&#123;&quot;id&quot;:&quot;bold&quot;&#125;,&#123;&quot;id&quot;:&quot;charAt&quot;&#125;,&#123;&quot;id&quot;:&quot;charCodeAt&quot;&#125;,&#123;&quot;id&quot;:&quot;codePointAt&quot;&#125;,&#123;&quot;id&quot;:&quot;concat&quot;&#125;,&#123;&quot;id&quot;:&quot;endsWith&quot;&#125;,&#123;&quot;id&quot;:&quot;fontcolor&quot;&#125;,&#123;&quot;id&quot;:&quot;fontsize&quot;&#125;,&#123;&quot;id&quot;:&quot;fixed&quot;&#125;,&#123;&quot;id&quot;:&quot;includes&quot;&#125;,&#123;&quot;id&quot;:&quot;indexOf&quot;&#125;,&#123;&quot;id&quot;:&quot;italics&quot;&#125;,&#123;&quot;id&quot;:&quot;lastIndexOf&quot;&#125;,&#123;&quot;id&quot;:&quot;link&quot;&#125;,&#123;&quot;id&quot;:&quot;localeCompare&quot;&#125;,&#123;&quot;id&quot;:&quot;match&quot;&#125;,&#123;&quot;id&quot;:&quot;matchAll&quot;&#125;,&#123;&quot;id&quot;:&quot;normalize&quot;&#125;,&#123;&quot;id&quot;:&quot;padEnd&quot;&#125;,&#123;&quot;id&quot;:&quot;padStart&quot;&#125;,&#123;&quot;id&quot;:&quot;repeat&quot;&#125;,&#123;&quot;id&quot;:&quot;replace&quot;&#125;,&#123;&quot;id&quot;:&quot;search&quot;&#125;,&#123;&quot;id&quot;:&quot;slice&quot;&#125;,&#123;&quot;id&quot;:&quot;small&quot;&#125;,&#123;&quot;id&quot;:&quot;split&quot;&#125;,&#123;&quot;id&quot;:&quot;strike&quot;&#125;,&#123;&quot;id&quot;:&quot;sub&quot;&#125;,&#123;&quot;id&quot;:&quot;substr&quot;&#125;,&#123;&quot;id&quot;:&quot;substring&quot;&#125;,&#123;&quot;id&quot;:&quot;sup&quot;&#125;,&#123;&quot;id&quot;:&quot;startsWith&quot;&#125;,&#123;&quot;id&quot;:&quot;toString&quot;&#125;,&#123;&quot;id&quot;:&quot;trim&quot;&#125;,&#123;&quot;id&quot;:&quot;trimStart&quot;&#125;,&#123;&quot;id&quot;:&quot;trimLeft&quot;&#125;,&#123;&quot;id&quot;:&quot;trimEnd&quot;&#125;,&#123;&quot;id&quot;:&quot;trimRight&quot;&#125;,&#123;&quot;id&quot;:&quot;toLocaleLowerCase&quot;&#125;,&#123;&quot;id&quot;:&quot;toLocaleUpperCase&quot;&#125;,&#123;&quot;id&quot;:&quot;toLowerCase&quot;&#125;,&#123;&quot;id&quot;:&quot;toUpperCase&quot;&#125;,&#123;&quot;id&quot;:&quot;valueOf&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;fromCharCode&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;fromCodePoint&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;raw&quot;&#125;],&quot;id&quot;:&quot;String&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;toExponential&quot;&#125;,&#123;&quot;id&quot;:&quot;toFixed&quot;&#125;,&#123;&quot;id&quot;:&quot;toPrecision&quot;&#125;,&#123;&quot;id&quot;:&quot;toString&quot;&#125;,&#123;&quot;id&quot;:&quot;valueOf&quot;&#125;,&#123;&quot;id&quot;:&quot;toLocaleString&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isFinite&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isInteger&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isNaN&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isSafeInteger&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;parseFloat&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;parseInt&quot;&#125;],&quot;id&quot;:&quot;Number&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;toString&quot;&#125;,&#123;&quot;id&quot;:&quot;valueOf&quot;&#125;,&#123;&quot;id&quot;:&quot;description&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;for&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;keyFor&quot;&#125;],&quot;id&quot;:&quot;Symbol&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;assign&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;getOwnPropertyDescriptor&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;getOwnPropertyDescriptors&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;getOwnPropertyNames&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;getOwnPropertySymbols&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;is&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;preventExtensions&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;seal&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;create&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;defineProperties&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;defineProperty&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;freeze&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;getPrototypeOf&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;setPrototypeOf&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isExtensible&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isFrozen&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isSealed&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;keys&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;entries&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;fromEntries&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;values&quot;&#125;],&quot;id&quot;:&quot;Object&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;message&quot;&#125;,&#123;&quot;id&quot;:&quot;toString&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;captureStackTrace&quot;&#125;],&quot;id&quot;:&quot;Error&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;message&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;EvalError&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;message&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;RangeError&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;message&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;ReferenceError&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;message&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;SyntaxError&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;message&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;TypeError&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;message&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;URIError&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;byteLength&quot;&#125;,&#123;&quot;id&quot;:&quot;slice&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isView&quot;&#125;],&quot;id&quot;:&quot;ArrayBuffer&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;byteLength&quot;&#125;,&#123;&quot;id&quot;:&quot;slice&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;SharedArrayBuffer&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;buffer&quot;&#125;,&#123;&quot;id&quot;:&quot;byteLength&quot;&#125;,&#123;&quot;id&quot;:&quot;byteOffset&quot;&#125;,&#123;&quot;id&quot;:&quot;getInt8&quot;&#125;,&#123;&quot;id&quot;:&quot;setInt8&quot;&#125;,&#123;&quot;id&quot;:&quot;getUint8&quot;&#125;,&#123;&quot;id&quot;:&quot;setUint8&quot;&#125;,&#123;&quot;id&quot;:&quot;getInt16&quot;&#125;,&#123;&quot;id&quot;:&quot;setInt16&quot;&#125;,&#123;&quot;id&quot;:&quot;getUint16&quot;&#125;,&#123;&quot;id&quot;:&quot;setUint16&quot;&#125;,&#123;&quot;id&quot;:&quot;getInt32&quot;&#125;,&#123;&quot;id&quot;:&quot;setInt32&quot;&#125;,&#123;&quot;id&quot;:&quot;getUint32&quot;&#125;,&#123;&quot;id&quot;:&quot;setUint32&quot;&#125;,&#123;&quot;id&quot;:&quot;getFloat32&quot;&#125;,&#123;&quot;id&quot;:&quot;setFloat32&quot;&#125;,&#123;&quot;id&quot;:&quot;getFloat64&quot;&#125;,&#123;&quot;id&quot;:&quot;setFloat64&quot;&#125;,&#123;&quot;id&quot;:&quot;getBigInt64&quot;&#125;,&#123;&quot;id&quot;:&quot;setBigInt64&quot;&#125;,&#123;&quot;id&quot;:&quot;getBigUint64&quot;&#125;,&#123;&quot;id&quot;:&quot;setBigUint64&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;DataView&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;BYTES_PER_ELEMENT&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Float32Array&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;BYTES_PER_ELEMENT&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Float64Array&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;BYTES_PER_ELEMENT&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Int8Array&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;BYTES_PER_ELEMENT&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Int16Array&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;BYTES_PER_ELEMENT&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Int32Array&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;BYTES_PER_ELEMENT&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Uint8Array&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;BYTES_PER_ELEMENT&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Uint16Array&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;BYTES_PER_ELEMENT&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Uint32Array&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[&#123;&quot;id&quot;:&quot;constructor&quot;&#125;,&#123;&quot;id&quot;:&quot;BYTES_PER_ELEMENT&quot;&#125;],&quot;id&quot;:&quot;prototype&quot;&#125;],&quot;id&quot;:&quot;Uint8ClampedArray&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;load&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;store&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;add&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;sub&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;and&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;or&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;xor&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;exchange&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;compareExchange&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isLockFree&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;wait&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;wake&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;notify&quot;&#125;],&quot;id&quot;:&quot;Atomics&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;parse&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;stringify&quot;&#125;],&quot;id&quot;:&quot;JSON&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;abs&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;acos&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;acosh&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;asin&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;asinh&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;atan&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;atanh&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;atan2&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;ceil&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;cbrt&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;expm1&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;clz32&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;cos&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;cosh&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;exp&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;floor&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;fround&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;hypot&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;imul&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;log&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;log1p&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;log2&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;log10&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;max&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;min&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;pow&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;random&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;round&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;sign&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;sin&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;sinh&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;sqrt&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;tan&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;tanh&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;trunc&quot;&#125;],&quot;id&quot;:&quot;Math&quot;&#125;,&#123;&quot;children&quot;:[&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;defineProperty&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;deleteProperty&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;apply&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;construct&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;get&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;getOwnPropertyDescriptor&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;getPrototypeOf&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;has&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;isExtensible&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;ownKeys&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;preventExtensions&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;set&quot;&#125;,&#123;&quot;children&quot;:[],&quot;id&quot;:&quot;setPrototypeOf&quot;&#125;],&quot;id&quot;:&quot;Reflect&quot;&#125;]&#125;</span><br></pre></td></tr></table></figure></code></pre></li>
</ul>
</li>
<li><p>ç»˜åˆ¶ G6 Tree Graph</p>
<ul>
<li><p>éœ€è¦åœ¨ HTML ä¸­åˆ›å»ºä¸€ä¸ªç”¨äºå®¹çº³ G6 ç»˜åˆ¶çš„å›¾çš„å®¹å™¨ï¼Œé€šå¸¸ä¸º div  æ ‡ç­¾ã€‚G6 åœ¨ç»˜åˆ¶æ—¶ä¼šåœ¨è¯¥å®¹å™¨ä¸‹è¿½åŠ  canvas æ ‡ç­¾ï¼Œç„¶åå°†å›¾ç»˜åˆ¶åœ¨å…¶ä¸­ã€‚</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">"container"</span> /&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>å¼•å…¥ G6 çš„æ•°æ®æºä¸º JSON æ ¼å¼çš„å¯¹è±¡ã€‚å³ä¸Šé¢æˆ‘ä»¬å¤„ç†è¿‡çš„ globalObject</p>
</li>
<li><p>åˆ›å»ºå…³ç³»å›¾ï¼ˆå®ä¾‹åŒ–ï¼‰æ—¶ï¼Œè‡³å°‘éœ€è¦ä¸ºå›¾è®¾ç½®å®¹å™¨ã€å®½å’Œé«˜ã€‚</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">		</span><br><span class="line"><span class="keyword">const</span> width = <span class="built_in">window</span>.devicePixelRatio * <span class="built_in">window</span>.screen.width * <span class="number">0.5</span>; <span class="comment">// é«˜æ¸…æ˜¾ç¤º</span></span><br><span class="line"><span class="keyword">const</span> height = <span class="built_in">window</span>.devicePixelRatio * <span class="built_in">window</span>.screen.height;</span><br><span class="line"><span class="keyword">const</span> graph = <span class="keyword">new</span> G6.TreeGraph(&#123;</span><br><span class="line">  container: <span class="string">'container'</span>,</span><br><span class="line">  width,</span><br><span class="line">  height,</span><br><span class="line">  modes: &#123;</span><br><span class="line">    <span class="keyword">default</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        type: <span class="string">'collapse-expand'</span>,</span><br><span class="line">        onChange: <span class="function"><span class="keyword">function</span> <span class="title">onChange</span>(<span class="params">item, collapsed</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">const</span> data = item.get(<span class="string">'model'</span>).data;</span><br><span class="line">          data.collapsed = collapsed;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">'drag-canvas'</span>,</span><br><span class="line">      <span class="string">'zoom-canvas'</span>,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  defaultNode: &#123;</span><br><span class="line">    size: <span class="number">26</span>,</span><br><span class="line">    anchorPoints: [</span><br><span class="line">      [<span class="number">0</span>, <span class="number">0.5</span>],</span><br><span class="line">      [<span class="number">1</span>, <span class="number">0.5</span>],</span><br><span class="line">    ],</span><br><span class="line">    style: &#123;</span><br><span class="line">      fill: <span class="string">'#C6E5FF'</span>,</span><br><span class="line">      stroke: <span class="string">'#5B8FF9'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  defaultEdge: &#123;</span><br><span class="line">    type: <span class="string">'cubic-horizontal'</span>,</span><br><span class="line">    style: &#123;</span><br><span class="line">      stroke: <span class="string">'#A3B1BF'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  layout: &#123;</span><br><span class="line">    type: <span class="string">'compactBox'</span>,</span><br><span class="line">    direction: <span class="string">'LR'</span>,</span><br><span class="line">    getId: <span class="function"><span class="keyword">function</span> <span class="title">getId</span>(<span class="params">d</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> d.id;</span><br><span class="line">    &#125;,</span><br><span class="line">    getHeight: <span class="function"><span class="keyword">function</span> <span class="title">getHeight</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">16</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    getWidth: <span class="function"><span class="keyword">function</span> <span class="title">getWidth</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">16</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    getVGap: <span class="function"><span class="keyword">function</span> <span class="title">getVGap</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    getHGap: <span class="function"><span class="keyword">function</span> <span class="title">getHGap</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®æ•°æ®æºï¼Œæ¸²æŸ“</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">graph.data(data);</span><br><span class="line"> graph.render();</span><br><span class="line"> graph.fitView();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>è¿è¡Œæˆªå›¾</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/348969f29ced9ddcebac4fce71a1de42543229.png" alt="g6"></li>
</ul>
</li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li><a href="https://github.com/Ele-Peng/antv-g6-realm" target="_blank" rel="noopener">å®Œæ•´ä»£ç åœ°å€-ç‚¹å‡»ä¸€ä¸‹</a></li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript-è¿è¡Œæœºåˆ¶ï¼ˆäºŒï¼‰</title>
    <url>/2020/05/02/Javascrtip-%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>å—¯ï¼Œå‘ç° è¿è¡Œæœºåˆ¶ çš„é¢è¯•é¢˜æ˜¯çœŸçš„å¤šã€‚ã€‚ğŸ˜“</li>
<li>é‚£è¿™å°±æ˜¯ï¼Œæœ€æœ«ç¯‡å§</li>
<li>åŠ æ²¹ Elle ğŸ¤¦â€â™€ï¸</li>
<li>äº”ä¸€å€’è®¡æ—¶ 2 å¤©</li>
</ul>
<a id="more"></a>

<h2 id="å®è·µè®°å½•"><a href="#å®è·µè®°å½•" class="headerlink" title="å®è·µè®°å½•"></a>å®è·µè®°å½•</h2><h3 id="async-await"><a href="#async-await" class="headerlink" title="async / await"></a>async / await</h3><p>5.1 é¢˜ç›®ä¸€</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async1 start"</span>);</span><br><span class="line">  <span class="keyword">await</span> async2();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async1 end"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async2"</span>);</span><br><span class="line">&#125;</span><br><span class="line">async1();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'start'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ†æ<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç </li>
<li>async1();<ul>
<li>console.log(â€œasync1 startâ€);</li>
<li>await async2();<ul>
<li>ç­‰å¾…æ‰§è¡Œ async2 ç»“æœ</li>
<li>console.log(â€œasync2â€);</li>
</ul>
</li>
<li>console.log(â€œasync1 endâ€); å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
</li>
<li>console.log(â€˜startâ€™)</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ— </li>
<li>console.log(â€œasync1 endâ€);</li>
</ul>
</li>
</ul>
<ul>
<li><p>ç»“è®º</p>
<ul>
<li>åœ¨è¿™é‡Œï¼Œå¯ä»¥ç†è§£ä¸ºã€Œç´§è·Ÿç€awaitåé¢çš„è¯­å¥ç›¸å½“äºæ”¾åˆ°äº†new Promiseä¸­ï¼Œä¸‹ä¸€è¡ŒåŠä¹‹åçš„è¯­å¥ç›¸å½“äºæ”¾åœ¨Promise.thenä¸­ã€</li>
</ul>
</li>
<li><p>ç­‰åŒäº</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async1 start"</span>);</span><br><span class="line">  <span class="comment">// åŸæ¥ä»£ç </span></span><br><span class="line">  <span class="comment">// await async2();</span></span><br><span class="line">  <span class="comment">// console.log("async1 end");</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è½¬æ¢åä»£ç </span></span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"async2"</span>)</span><br><span class="line">    resolve()</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"async1 end"</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async2"</span>);</span><br><span class="line">&#125;</span><br><span class="line">async1();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"start"</span>)</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/f08b1b409f667c37f2a9dae1bf0b491e36782.png" alt="é¢˜ç›®ä¸€è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>5.2 é¢˜ç›®äºŒ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async1 start"</span>);</span><br><span class="line">  <span class="keyword">await</span> async2();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async1 end"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'timer'</span>)</span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async2"</span>);</span><br><span class="line">&#125;</span><br><span class="line">async1();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"start"</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>async1();<ul>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç </li>
<li>console.log(â€œasync1 startâ€);</li>
<li>await async2();<ul>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(â€œasync2â€);</li>
</ul>
</li>
<li>console.log(â€œasync1 endâ€); å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
</li>
<li>console.log(â€œstartâ€)</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—<ul>
<li>console.log(â€œasync1 endâ€);</li>
</ul>
</li>
<li>ç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>console.log(â€˜timerâ€™)</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/ef5bbc4448d8cf8a4e6e7eb3d481257d43632.png" alt="é¢˜ç›®äºŒè¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>5.3 é¢˜ç›®ä¸‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async1 start"</span>);</span><br><span class="line">  <span class="keyword">await</span> async2();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async1 end"</span>);</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'timer1'</span>)</span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'timer2'</span>)</span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async2"</span>);</span><br><span class="line">&#125;</span><br><span class="line">async1();</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'timer3'</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"start"</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>async1();<ul>
<li>console.log(â€œasync1 startâ€);</li>
<li>await async2();<ul>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(â€œasync2â€);</li>
</ul>
</li>
<li>console.log(â€œasync1 endâ€); å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>setTimeout â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
</li>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(â€œstartâ€)</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»£ç å·²ç»æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡</li>
<li>console.log(â€œasync1 endâ€);</li>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>console.log(â€˜timer2â€™);</li>
<li>å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>console.log(â€˜timer3â€™)</li>
<li>å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>console.log(â€˜timer1â€™)</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/40ff5c3620b6ef956afd99a895080cee58816.png" alt="é¢˜ç›®ä¸‰è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>5.4 é¢˜ç›®å››</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// return await 1234</span></span><br><span class="line">  <span class="comment">// ç­‰åŒäº</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line">fn().then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>fn()<ul>
<li>return 123</li>
</ul>
</li>
<li>console.log(res) res â€“&gt; 123</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/01d7e322293346a15fd0c97cb6167dee21159.png" alt="é¢˜ç›®å››è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>5.5 <strong>é¢˜ç›®äº”</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async1 start'</span>);</span><br><span class="line">  <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'promise1'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async1 success'</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'async1 end'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'srcipt start'</span>)</span><br><span class="line">async1().then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'srcipt end'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>console.log(â€˜srcipt startâ€™)</li>
<li>async1()<ul>
<li>console.log(â€˜async1 startâ€™);</li>
<li>new Promise â€¦ ç­‰å¾…æ‰§è¡Œ<ul>
<li>console.log(â€˜promise1â€™)</li>
<li>ç”±äº promise å¹¶æ²¡æœ‰ resolvedã€rejectedï¼Œæ‰€ä»¥ä¸€ç›´å¤„åœ¨ pending çŠ¶æ€ï¼Œæ‰€ä»¥ ä¼šä¸€ç›´ await ï¼Œawait åçš„å†…å®¹ä¹ŸåŒ…æ‹¬ async1 åé¢çš„ thenï¼Œéƒ½ä¸ä¼šæ‰§è¡Œ</li>
</ul>
</li>
</ul>
</li>
<li>console.log(â€˜srcipt endâ€™)</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/6da017ef5e2bef76433a90be0f7804c343869.png" alt="é¢˜ç›®äº”è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>5.6 é¢˜ç›®å…­</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async1 start'</span>);</span><br><span class="line">  <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'promise1'</span>)</span><br><span class="line">    resolve(<span class="string">'promise1 resolve'</span>)</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async1 success'</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'async1 end'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'srcipt start'</span>)</span><br><span class="line">async1().then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'srcipt end'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ†æ<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>console.log(â€˜srcipt startâ€™)</li>
<li>async1()<ul>
<li>console.log(â€˜async1 startâ€™);</li>
<li>await new Promise â€¦ ç­‰å¾… promise æ‰§è¡Œ<ul>
<li>console.log(â€˜promise1â€™)</li>
<li>å…¶ä¸­ promise çŠ¶æ€å˜ä¸º resolvedï¼Œå°†å…¶çŠ¶æ€ä¿å­˜èµ·æ¥</li>
<li>new Promise then â€¦ åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
</li>
<li>console.log(â€˜async1 successâ€™); å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>return â€˜async1 endâ€™</li>
</ul>
</li>
<li>async1().then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(â€˜srcipt endâ€™)</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>.then(res =&gt; console.log(res))<ul>
<li>res â€“&gt; promise1 resolve</li>
</ul>
</li>
<li>console.log(â€˜async1 successâ€™); </li>
<li>res =&gt; console.log(res) res â€“&gt; â€˜async1 endâ€™</li>
</ul>
</li>
</ul>
<ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/478ab1a6c972bd17dab664ba479c1c2859767.png" alt="é¢˜ç›®å…­è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>5.7 é¢˜ç›®ä¸ƒ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async1 start'</span>);</span><br><span class="line">  <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'promise1'</span>)</span><br><span class="line">    resolve(<span class="string">'promise resolve'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async1 success'</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'async1 end'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'srcipt start'</span>)</span><br><span class="line">async1().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise2'</span>)</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'timer'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>console.log(â€˜srcipt startâ€™)</li>
<li>async1()<ul>
<li>console.log(â€˜async1 startâ€™);</li>
<li>await new Promise â€¦<ul>
<li>console.log(â€˜promise1â€™)</li>
<li>å…¶ä¸­ promise çŠ¶æ€å˜ä¸º resolveï¼Œå°†å…¶ä¿å­˜èµ·æ¥</li>
</ul>
</li>
<li>console.log(â€˜async1 successâ€™); å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>return â€˜async1 endâ€™</li>
</ul>
</li>
<li>async1().then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä»£ç <ul>
<li>console.log(â€˜promise2â€™)</li>
<li>setTimeout â€¦ åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡</li>
<li>console.log(â€˜async1 successâ€™);</li>
<li>console.log(res) res â€“&gt; â€˜async1 endâ€™</li>
<li>å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>console.log(â€˜timerâ€™)</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/59c38ec9bef1877e27b64b056fd9258663945.png" alt="é¢˜ç›®ä¸ƒè¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>5.8 é¢˜ç›®å…«</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async1 start"</span>);</span><br><span class="line">  <span class="keyword">await</span> async2();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async1 end"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"async2"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"script start"</span>);</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"setTimeout"</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">async1();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"promise1"</span>);</span><br><span class="line">  resolve();</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"promise2"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'script end'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>console.log(â€œscript startâ€);</li>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>async1()<ul>
<li>console.log(â€œasync1 startâ€);</li>
<li>await async2();<ul>
<li>console.log(â€œasync2â€);</li>
</ul>
</li>
<li>console.log(â€œasync1 endâ€); å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
</li>
<li>new promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°<ul>
<li>console.log(â€œpromise1â€);</li>
<li>å…¶ä¸­ promise çŠ¶æ€æ”¹å˜ä¸º resolveï¼Œå°†å…¶ä¿å­˜</li>
</ul>
</li>
<li>new promise then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(â€˜script endâ€™)</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡</li>
<li>console.log(â€œasync1 endâ€);</li>
<li>new Promise then â€¦ <ul>
<li>console.log(â€œpromise2â€);</li>
</ul>
</li>
<li>å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡<ul>
<li>console.log(â€œsetTimeoutâ€);</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/05bcc26014cb3a56f1da38df3e28141974246.png" alt="é¢˜ç›®å…«è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>5.9 é¢˜ç›®ä¹</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">testSometing</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"æ‰§è¡ŒtestSometing"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"testSometing"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">testAsync</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"æ‰§è¡ŒtestAsync"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(<span class="string">"hello async"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"test start..."</span>);</span><br><span class="line">  <span class="keyword">const</span> v1 = <span class="keyword">await</span> testSometing();</span><br><span class="line">  <span class="built_in">console</span>.log(v1);</span><br><span class="line">  <span class="keyword">const</span> v2 = <span class="keyword">await</span> testAsync();</span><br><span class="line">  <span class="built_in">console</span>.log(v2);</span><br><span class="line">  <span class="built_in">console</span>.log(v1, v2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"promise start..."</span>);</span><br><span class="line">  resolve(<span class="string">"promise"</span>);</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(<span class="function"><span class="params">val</span> =&gt;</span> <span class="built_in">console</span>.log(val));</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"test end..."</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ†æ<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>test()<ul>
<li>console.log(â€œtest startâ€¦â€);</li>
<li>await testSometing()<ul>
<li>console.log(â€œæ‰§è¡ŒtestSometingâ€);</li>
<li>â€œtestSometingâ€;</li>
<li>const v1 = â€œtestSometingâ€;</li>
</ul>
</li>
<li>console.log(â€œtestSometingâ€); å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>await testAsync() å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(v2); å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(v1, v2); å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>new Promise, æ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä»£ç <ul>
<li>console.log(â€œpromise startâ€¦â€);</li>
<li>å…¶ promise çŠ¶æ€å˜ä¸º resolve,å°†å…¶ä¿å­˜</li>
</ul>
</li>
<li>promise.then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(â€œtest endâ€¦â€);</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡<ul>
<li>console.log(â€œtestSometingâ€); v1 â€“&gt; â€œtestSometingâ€</li>
<li>await testAsync() <ul>
<li>console.log(â€œæ‰§è¡ŒtestAsyncâ€);</li>
<li>return Promise.resolve(â€œhello asyncâ€);</li>
<li>Promise.resolve(â€œhello asyncâ€) â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
</li>
<li>console.log(v2); â€¦ é‡æ–°å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(v1, v2); é‡æ–°å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>promise.then â€¦ <ul>
<li>console.log(val) val â€“&gt; promise</li>
</ul>
</li>
<li>Promise.resolve(â€œhello asyncâ€) return â€œhello asyncâ€</li>
<li>v2 = â€œhello asyncâ€</li>
<li>console.log(v2);</li>
<li>console.log(â€œhello asyncâ€);</li>
<li>console.log(v1, v2);<ul>
<li>console.log(â€œæ‰§è¡ŒtestAsyncâ€, â€œhello asyncâ€);</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/09e8b0ae4cadad1f803049e6545d73f091754.png" alt="é¢˜ç›®ä¹è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h3 id="async-å¤„ç†é”™è¯¯"><a href="#async-å¤„ç†é”™è¯¯" class="headerlink" title="async å¤„ç†é”™è¯¯"></a>async å¤„ç†é”™è¯¯</h3><p>6.1 <strong>é¢˜ç›®ä¸€</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">await</span> async2();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async1'</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'async1 success'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'async2'</span>)</span><br><span class="line">    reject(<span class="string">'error'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">async1().then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>async1()<ul>
<li>await async2();<ul>
<li>new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°<ul>
<li>console.log(â€˜async2â€™)</li>
<li>reject(â€˜errorâ€™) promise çŠ¶æ€å˜ä¸º reject,å°†å…¶ä¿å­˜èµ·æ¥ï¼Œå¹¶å‘ä¸ŠæŠ›</li>
<li>Promise {<rejected>: â€œerrorâ€}</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/b3955dc674cf405c9a60de9062b525c736256.png" alt="é¢˜ç›®ä¸€è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>6.2 é¢˜ç›®äºŒ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="built_in">Promise</span>.reject(<span class="string">'error!!!'</span>)</span><br><span class="line">  &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async1'</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(<span class="string">'async1 success'</span>)</span><br><span class="line">&#125;</span><br><span class="line">async1().then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'script start'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>async1()<ul>
<li>Promise.reject(â€˜error!!!â€™)<ul>
<li>promise çŠ¶æ€å˜ä¸º rejectï¼Œå°†å…¶çŠ¶æ€ä¿å­˜èµ·æ¥ï¼Œå‘ä¸ŠæŠ›é”™</li>
</ul>
</li>
<li>catch é”™è¯¯ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(â€˜async1â€™); å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>return Promise.resolve(â€˜async1 successâ€™)</li>
</ul>
</li>
<li>async1().then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(â€˜script startâ€™)</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡</li>
<li>console.log(e) e â€“&gt; â€˜error!!!â€™</li>
<li>console.log(â€˜async1â€™);</li>
<li>console.log(res) res â€“&gt; â€˜async1 successâ€™</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/fc960e772e0fbca1fdf8640c8774999640316.png" alt="é¢˜ç›®äºŒè¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h3 id="ç»¼åˆé¢˜"><a href="#ç»¼åˆé¢˜" class="headerlink" title="ç»¼åˆé¢˜"></a>ç»¼åˆé¢˜</h3><p>7.1 é¢˜ç›®ä¸€</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> first = <span class="function"><span class="params">()</span> =&gt;</span> <span class="function">(<span class="params"><span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">let</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">7</span>);</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">5</span>);</span><br><span class="line">            resolve(<span class="number">6</span>);</span><br><span class="line">            <span class="built_in">console</span>.log(p)</span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">        resolve(<span class="number">1</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    resolve(<span class="number">2</span>);</span><br><span class="line">    p.then(<span class="function">(<span class="params">arg</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(arg);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;));</span><br><span class="line">first().then(<span class="function">(<span class="params">arg</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">4</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>first()<ul>
<li>return ä¸€ä¸ª promise å¯¹è±¡ã€‚å…ˆæ‰§è¡Œ new Promiseï¼Œè¯¥æ„é€ å‡½æ•°ä»£ç </li>
<li>console.log(3);</li>
<li>resolve(2)<ul>
<li>è¯¥ promise çŠ¶æ€å˜ä¸º resolvedï¼Œä¿å­˜èµ·æ¥</li>
</ul>
</li>
<li>p new Promise, æ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä»£ç <ul>
<li>console.log(7);</li>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>resolve(1);</li>
<li>è¯¥ promise çŠ¶æ€å˜ä¸º resolve ,ä¿å­˜èµ·æ¥</li>
</ul>
</li>
<li>p.then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
</li>
<li>first().then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(4);</li>
</ul>
</li>
<li>è¯¥å®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»£ç éƒ½æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>p.then</li>
<li>console.log(arg) arg â€“&gt; 1</li>
<li>p.then å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(arg) arg â€“&gt; 2</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„ä»£ç éƒ½æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>setTimeout â€¦<ul>
<li>console.log(5);</li>
<li>resolve(6); promise p çš„çŠ¶æ€å·²ç»æ”¹å˜ï¼Œæ— æ³•å†è¿›è¡Œæ›´æ”¹ï¼Œæ‰€ä»¥è¯¥è¡Œä»£ç ï¼Œæ— æ•ˆ</li>
<li>console.log(p) p â€“&gt; 1</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/de321f1169135bf57ef98b6dd3346ada56428.png" alt="é¢˜ç›®ä¸€è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>7.2 é¢˜ç›®äºŒ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> async1 = <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async1'</span>);</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'timer1'</span>)</span><br><span class="line">  &#125;, <span class="number">2000</span>)</span><br><span class="line">  <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'promise1'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async1 end'</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'async1 success'</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'script start'</span>);</span><br><span class="line">async1().then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'script end'</span>);</span><br><span class="line"><span class="built_in">Promise</span>.resolve(<span class="number">1</span>)</span><br><span class="line">  .then(<span class="number">2</span>)</span><br><span class="line">  .then(<span class="built_in">Promise</span>.resolve(<span class="number">3</span>))</span><br><span class="line">  .catch(<span class="number">4</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'timer2'</span>)</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>console.log(â€˜script startâ€™);</li>
<li>async1()<ul>
<li>console.log(â€˜async1â€™);</li>
<li>setTimeout â€¦ 2000å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>await new Promise<ul>
<li>æ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä»£ç <ul>
<li>console.log(â€˜promise1â€™)</li>
</ul>
</li>
</ul>
</li>
<li>ç”±äºè¯¥ promise æ²¡æœ‰è¢« resolveã€rejectï¼Œä¸€ç›´å¤„åœ¨ pendingï¼Œå› æ­¤ åé¢çš„<ul>
<li>console.log(â€˜async1 endâ€™) å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>return â€˜async1 successâ€™</li>
<li>å‡ä¸æ‰§è¡Œ</li>
</ul>
</li>
</ul>
</li>
<li>async1().then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(â€˜script endâ€™);</li>
<li>Promise.resolve(1)<ul>
<li>è¯¥ promie çŠ¶æ€å˜ä¸º1ï¼Œä¿å­˜èµ·æ¥</li>
</ul>
</li>
<li>Promise.resolve(1).then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>setTimeout â€¦ 1000å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡</li>
<li>Promise.resolve(1).then â€¦ <ul>
<li>ç”±äº .then(2) .then(Promise.resolve(3)) .catch(4) ä¸€ä¸ªæ˜¯æ•°å­—ï¼Œä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œä¼šå‘ç”Ÿå€¼é€ä¼ ç°è±¡</li>
<li>console.log(res) res â€“&gt; 1</li>
</ul>
</li>
<li>å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>setTimeout â€¦ 1000<ul>
<li>console.log(â€˜timer2â€™)</li>
</ul>
</li>
<li>setTimeout â€¦ 2000<ul>
<li><ul>
<li>console.log(â€˜timer1â€™)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/18d87ace8b51f98e4e30f55c17d0c4ff93076.png" alt="é¢˜ç›®äºŒè¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>7.3 é¢˜ç›®ä¸‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'resolve3'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'timer1'</span>)</span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line">  resolve(<span class="string">'resovle1'</span>);</span><br><span class="line">  resolve(<span class="string">'resolve2'</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(p1)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).finally(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'finally'</span>, res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä»£ç <ul>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>resolve(â€˜resovle1â€™);</li>
<li>promise çŠ¶æ€å˜ä¸º resolve1ï¼Œå¹¶ä¿å­˜èµ·æ¥</li>
</ul>
</li>
<li>Promise.then â€¦<ul>
<li>console.log(res) res â€“&gt; â€˜resovle1â€™</li>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
</li>
<li>Promise.finally â€¦<ul>
<li>console.log(â€˜finallyâ€™, res) res â€“&gt; undefined</li>
</ul>
</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>resolve(â€˜resolve3â€™); promise çŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œæ— æ³•æ›´æ”¹</li>
<li>console.log(â€˜timer1â€™)</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>console.log(p1) p1 â€“&gt; .finallyçš„è¿”å›å€¼ â€“&gt; undefined</li>
</ul>
</li>
<li><p>ç»“è®º</p>
<ul>
<li><strong>finally ä¸ç®¡ Promise çš„çŠ¶æ€æ˜¯ resolved è¿˜æ˜¯ rejected éƒ½ä¼šæ‰§è¡Œï¼Œä¸”å®ƒçš„å›è°ƒå‡½æ•°æ˜¯æ¥æ”¶ä¸åˆ° Promise çš„ç»“æœçš„</strong>ï¼Œæ‰€ä»¥ finally() ä¸­çš„ res æ˜¯ä¸€ä¸ªè¿·æƒ‘é¡¹</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/7be692142d758f1d65ad549a1b106f4146102.png" alt="é¢˜ç›®ä¸‰è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ul>
<li><a href="https://juejin.im/post/5e58c618e51d4526ed66b5cf" target="_blank" rel="noopener">é¢˜ç›®æ¥æº</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Toy-Browser-DAY4</title>
    <url>/2020/05/22/Toy-Browser-DAY4/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>


<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>implementation of a toy-browser ğŸ™†</li>
<li>å˜»å˜»å˜»ï¼Œæˆ‘ä»¬å°†è¦åœ¨åš toy-browser æµè§ˆå™¨ç›¸å…³æ’ç‰ˆé—®é¢˜å•¦</li>
<li><img src="http://p0.meituan.net/myvideodistribute/6d5c67d3d5d0633bf667bd680f6dfb9489753.png" alt="DOM with CSS"></li>
</ul>
<a id="more"></a>

<h3 id="ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–"><a href="#ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–"></a>ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–</h3><ul>
<li><p>æˆ‘ä»¬é‡‡ç”¨ä»¥ä¸‹ html ä»£ç æ®µ</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">maaa</span>=<span class="string">a</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-id">#container</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">width</span><span class="selector-pseudo">:500px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">height</span><span class="selector-pseudo">:300px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">display</span><span class="selector-pseudo">:flex</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">background-color</span><span class="selector-pseudo">:rgb(255</span>,255,255);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-id">#container</span> <span class="selector-id">#myid</span>&#123;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">width</span><span class="selector-pseudo">:200px</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">height</span><span class="selector-pseudo">:100px</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">background-color</span><span class="selector-pseudo">:rgb(255</span>,0,0)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-id">#container</span> <span class="selector-class">.c1</span>&#123;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">flex</span><span class="selector-pseudo">:1</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">background-color</span><span class="selector-pseudo">:rgb(0</span>,255,0)</span></span><br><span class="line">    &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myid"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä»£ç é€»è¾‘è‡ªé¡¶å‘ä¸‹</p>
</li>
<li><p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ endTag çš„æ—¶å€™è¿›è¡Œ layout</p>
<ul>
<li>æˆ‘ä»¬åªå¤„ç† flexï¼Œå¯ä»¥ç®€åŒ–æˆåœ¨ endTag æ—¶ï¼Œè¿›è¡Œ layout å³å¯</li>
</ul>
</li>
<li><p>computeCSS7.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> layout = <span class="built_in">require</span>(<span class="string">"./layout.js"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ... some code</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">emit</span>(<span class="params">token</span>) </span>&#123;</span><br><span class="line">	</span><br><span class="line">  <span class="comment">// ... some code</span></span><br><span class="line">	</span><br><span class="line">  <span class="keyword">if</span> (token.type == <span class="string">"startTag"</span>) &#123;</span><br><span class="line">	    </span><br><span class="line">	 <span class="comment">// ... some code</span></span><br><span class="line">	</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (token.type == <span class="string">"endTag"</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (top.tagName != token.tagName) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Tag start end doesn't match"</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// console.log('pop', stack.pop())</span></span><br><span class="line">      <span class="comment">/** é‡åˆ° style æ ‡ç­¾æ—¶ï¼Œæ‰§è¡Œæ·»åŠ  CCS è§„åˆ™çš„æ“ä½œ */</span></span><br><span class="line">      <span class="keyword">if</span> (top.tagName === <span class="string">"style"</span>) &#123;</span><br><span class="line">        addCSSRules(top.children[<span class="number">0</span>].content)</span><br><span class="line">      &#125;</span><br><span class="line">      layout(top)</span><br><span class="line">      stack.pop()</span><br><span class="line">    &#125;</span><br><span class="line">    currentTextNode = <span class="literal">null</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (token.type == <span class="string">"text"</span>) &#123;</span><br><span class="line">	    </span><br><span class="line">	 <span class="comment">// ... some code</span></span><br><span class="line">	</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="flex-å¸ƒå±€åŸºç¡€æ¦‚å¿µ"><a href="#flex-å¸ƒå±€åŸºç¡€æ¦‚å¿µ" class="headerlink" title="flex å¸ƒå±€åŸºç¡€æ¦‚å¿µ"></a>flex å¸ƒå±€åŸºç¡€æ¦‚å¿µ</h4></li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/1e160d5f7cbdc299f68d432dcb19cca1137896.png" alt="flex æ’ç‰ˆè§£é‡Šå›¾"></p>
<blockquote>
<p>ç»™ div è¿™ç±»å—çŠ¶å…ƒç´ å…ƒç´ è®¾ç½® display: flex æˆ–è€…ç»™ span è¿™ç±»å†…è”å…ƒç´ è®¾ç½® display: inline-flex ï¼Œflex å¸ƒå±€å³åˆ›å»ºï¼å…¶ä¸­ï¼Œç›´æ¥è®¾ç½® display: flex æˆ–è€… display: inline-flex çš„å…ƒç´ ç§°ä¸º flex å®¹å™¨ï¼Œé‡Œé¢çš„å­å…ƒç´ ç§°ä¸º flex å­é¡¹ã€‚</p>
</blockquote>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/0f5622ba2bab24f882be6007f6761a4422506.png" alt="flex ç›¸å…³æ–¹æ³•æ¦‚è§ˆ"></li>
</ul>
</li>
<li><p>ç”±ä¸Š felx å¸ƒå±€ä¸­çš„ ä¸»è½´ï¼Œäº¤å‰è½´å›¾ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå®šä¹‰å˜é‡</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">mainSize, <span class="comment">// ä¸»è½´size width / height</span></span><br><span class="line">mainStart, <span class="comment">// ä¸»è½´èµ·ç‚¹ left / right / top / bottom</span></span><br><span class="line">mainEnd, <span class="comment">// ä¸»è½´ç»ˆç‚¹ left / right / top / bottom</span></span><br><span class="line">mainSign, <span class="comment">// ä¸»è½´ç¬¦å·ä½ï¼Œç”¨äº æ˜¯å¦ reverse +1 / -1</span></span><br><span class="line">mainBase, <span class="comment">// ä¸»è½´å¼€å§‹çš„ä½ç½® 0 / style.width</span></span><br><span class="line">crossSize, <span class="comment">// äº¤å‰è½´size width / height</span></span><br><span class="line">crossStart, <span class="comment">// äº¤å‰è½´åæ ‡èµ·ç‚¹ left / right / top / bottom</span></span><br><span class="line">crossEnd, <span class="comment">// äº¤å‰è½´åæ ‡ç»ˆç‚¹ left / right / top / bottom</span></span><br><span class="line">crossSign, <span class="comment">// äº¤å‰è½´ç¬¦å·ä½ï¼Œç”¨äº æ˜¯å¦ reverse +1 / -1</span></span><br><span class="line">crossBase; <span class="comment">// äº¤å‰è½´å¼€å§‹çš„ä½ç½® 0 / style.width</span></span><br></pre></td></tr></table></figure></li>
<li><p>å¤„ç† flex å¸ƒå±€ä¸­å±æ€§é»˜è®¤å€¼</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (!style.flexDirection || style.flexDirection === <span class="string">'auto'</span>)</span><br><span class="line">    style.flexDirection = <span class="string">'row'</span></span><br><span class="line"><span class="keyword">if</span> (!style.alignItems || style.alignItems === <span class="string">'auto'</span>)</span><br><span class="line">    style.alignItems = <span class="string">'stretch'</span></span><br><span class="line"><span class="keyword">if</span> (!style.justifyContent || style.justifyContent === <span class="string">'auto'</span>)</span><br><span class="line">    style.justifyContent = <span class="string">'flex-start'</span></span><br><span class="line"><span class="keyword">if</span> (!style.flexWrap || style.flexWrap === <span class="string">'auto'</span>)</span><br><span class="line">    style.flexWrap = <span class="string">'nowrap'</span></span><br><span class="line"><span class="keyword">if</span> (!style.alignContent || style.alignContent === <span class="string">'auto'</span>)</span><br><span class="line">    style.alignContent = <span class="string">'center'</span></span><br></pre></td></tr></table></figure>
<h4 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a>flex-direction</h4></li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/bec69e2fc98cf7ebfaad21b5d166030361399.png" alt="MDN flex-direction è¯­æ³•è§£é‡Š"></p>
<ul>
<li><p>flex-direction: row</p>
<ul>
<li><p>é»˜è®¤å€¼ï¼Œæ˜¾ç¤ºä¸ºè¡Œã€‚æ–¹å‘ä¸ºå½“å‰æ–‡æ¡£æ°´å¹³æµæ–¹å‘ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯ä»å·¦å¾€å³ã€‚</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (style.flexDirection === <span class="string">'row'</span>) &#123;</span><br><span class="line">	mainSize = <span class="string">'width'</span></span><br><span class="line">	mainStart = <span class="string">'left'</span></span><br><span class="line">	mainEnd = <span class="string">'right'</span></span><br><span class="line">	mainSign = +<span class="number">1</span></span><br><span class="line">	mainBase = <span class="number">0</span></span><br><span class="line">		</span><br><span class="line">	crossSize = <span class="string">'height'</span></span><br><span class="line">	crossStart = <span class="string">'top'</span></span><br><span class="line">	crossEnd = <span class="string">'bottom'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>flex-direction: row-reverse</p>
<ul>
<li><p>æ˜¾ç¤ºä¸ºè¡Œã€‚ä½†æ–¹å‘å’Œrowå±æ€§å€¼æ˜¯åçš„ã€‚</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (style.flexDirection === <span class="string">'row-reverse'</span>) &#123;</span><br><span class="line">    mainSize = <span class="string">'width'</span></span><br><span class="line">    mainStart = <span class="string">'right'</span></span><br><span class="line">    mainEnd = <span class="string">'left'</span></span><br><span class="line">    mainSign = <span class="number">-1</span></span><br><span class="line">    mainBase = style.width</span><br><span class="line"></span><br><span class="line">    crossSize = <span class="string">'height'</span></span><br><span class="line">    crossStart = <span class="string">'top'</span></span><br><span class="line">    crossEnd = <span class="string">'bottom'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>flex-direction: column</p>
<ul>
<li><p>æ˜¾ç¤ºä¸ºåˆ—ã€‚æ–¹å‘ä¸ºå½“å‰æ–‡æ¡£å‚ç›´æµæ–¹å‘ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯ä»ä¸Šè‡³ä¸‹ã€‚</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (style.flexDirection === <span class="string">'column'</span>) &#123;</span><br><span class="line">    mainSize = <span class="string">'height'</span></span><br><span class="line">    mainStart = <span class="string">'top'</span></span><br><span class="line">    mainEnd = <span class="string">'bottom'</span></span><br><span class="line">    mainSign = +<span class="number">1</span></span><br><span class="line">    mainBase = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    crossSize = <span class="string">'width'</span></span><br><span class="line">    crossStart = <span class="string">'left'</span></span><br><span class="line">    crossEnd = <span class="string">'right'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>flex-direction: column-reverse</p>
<ul>
<li><p>æ˜¾ç¤ºä¸ºåˆ—ã€‚ä½†æ–¹å‘å’Œcolumnå±æ€§å€¼æ˜¯åçš„ã€‚</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (style.flexDirection === <span class="string">'column-reverse'</span>) &#123;</span><br><span class="line">    mainSize = <span class="string">'height'</span></span><br><span class="line">    mainStart = <span class="string">'bottom'</span></span><br><span class="line">    mainEnd = <span class="string">'top'</span></span><br><span class="line">    mainSign = <span class="number">-1</span></span><br><span class="line">    mainBase = style.height</span><br><span class="line"></span><br><span class="line">    crossSize = <span class="string">'width'</span></span><br><span class="line">    crossStart = <span class="string">'left'</span></span><br><span class="line">    crossEnd = <span class="string">'right'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a>flex-wrap</h4><ul>
<li><p><img src="http://p0.meituan.net/myvideodistribute/137acf28be957d3b145c9571e3af265462518.png" alt="MDN flex-wrapè¯­æ³•è§£é‡Š"></p>
<ul>
<li><p>flex-wrap: nowrap</p>
<ul>
<li><p>é»˜è®¤å€¼ï¼Œè¡¨ç¤ºå•è¡Œæ˜¾ç¤ºï¼Œä¸æ¢è¡Œã€‚äºæ˜¯å¾ˆå®¹æ˜“å‡ºç°å®½åº¦æº¢å‡ºçš„åœºæ™¯ï¼Œå…¶æ¸²æŸ“è¡¨ç°æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦å¯¹CSS3å®½åº¦æœ‰ä¸€å®šäº†è§£ã€‚è¿™è¾¹æˆ‘ä»¬ç®€å•å¤„ç†ä¸ºï¼šï¼ˆä»¥æ°´å¹³å¸ƒå±€ä¸¾ä¾‹ï¼‰</p>
<ul>
<li><p>flex å­é¡¹å®½åº¦ width ä¹‹å’Œå¤§äº flex å®¹å™¨å®½åº¦ï¼Œåˆ™å†…å®¹æº¢å‡ºï¼Œè¡¨ç°å’Œ white-space: nowrap ç±»ä¼¼ã€‚</p>
</li>
<li><p>flex å­é¡¹å®½åº¦ width ä¹‹å’Œå¤§äº flex å®¹å™¨å®½åº¦ï¼Œåˆ™å†…å®¹ä¸æº¢å‡º</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">crossBase = <span class="number">0</span></span><br><span class="line">crossSign = +<span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>flex-wrap: wrap</p>
<ul>
<li><p>å®½åº¦ä¸è¶³æ¢è¡Œæ˜¾ç¤º</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">crossBase = <span class="number">0</span></span><br><span class="line">crossSign = +<span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>flex-wrap: wrap-reverse</p>
<ul>
<li><p>å®½åº¦ä¸è¶³æ¢è¡Œæ˜¾ç¤ºï¼Œä½†æ˜¯æ˜¯ä»ä¸‹å¾€ä¸Šå¼€å§‹ï¼Œä¹Ÿå°±æ˜¯åŸæœ¬æ¢è¡Œåœ¨ä¸‹é¢çš„å­é¡¹ç°åœ¨è·‘åˆ°ä¸Šé¢</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (style.flexWrap === <span class="string">'wrap-reverse'</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> temp = crossStart</span><br><span class="line">    crossStart = crossEnd</span><br><span class="line">    crossEnd = temp</span><br><span class="line">    crossSign = <span class="number">-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><a href="https://github.com/Ele-Peng/toy-browser/blob/master/layout1.js" target="_blank" rel="noopener">layout1.js å®Œæ•´ä»£ç -ç‚¹å‡»ä¸€ä¸‹</a></li>
</ul>
<h3 id="ç¬¬äºŒæ­¥ï¼šæ”¶é›†å…ƒç´ è¿›è¡Œ"><a href="#ç¬¬äºŒæ­¥ï¼šæ”¶é›†å…ƒç´ è¿›è¡Œ" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šæ”¶é›†å…ƒç´ è¿›è¡Œ"></a>ç¬¬äºŒæ­¥ï¼šæ”¶é›†å…ƒç´ è¿›è¡Œ</h3><ul>
<li><p>flex å®¹å™¨æ²¡æœ‰è®¾ç½® mainSizeï¼Œç›´æ¥æ’‘å¼€ï¼Œcount flex å­é¡¹ mainSize</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> isAutoMainSize = <span class="literal">false</span></span><br><span class="line"><span class="comment">// æ²¡æœ‰è®¾ç½® mainSize ç›´æ¥æ’‘å¼€</span></span><br><span class="line"><span class="keyword">if</span> (!style[mainSize]) &#123; <span class="comment">// auto sizing</span></span><br><span class="line">     elementStyle[mainSize] = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; items.length; i ++) &#123;</span><br><span class="line">	<span class="keyword">let</span> item = items[i]</span><br><span class="line">	<span class="keyword">if</span> (itemStyle[mainSize] !== <span class="literal">null</span> || itemStyle[mainSize] !== (<span class="keyword">void</span> <span class="number">0</span>)) </span><br><span class="line">	  elementStyle[mainSize] = elementStyle[mainSize] + itemStyle[mainSize]</span><br><span class="line">  &#125;</span><br><span class="line">  isAutoMainSize = <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>flex å®¹å™¨ flex-wrap: no-wrap &amp;&amp; isAutoMainSizeï¼ŒmainSpace ä¸º0ï¼Œå…è®¸æ’‘å¤§ï¼Œ<strong>å¼ºè¡Œåˆ†è¿›ç¬¬ä¸€è¡Œ</strong></p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (style.flexWrap === <span class="string">'nowrap'</span> &amp;&amp; isAutoMainSize) &#123;</span><br><span class="line">     mainSpace -= itemStyle[mainSize]</span><br><span class="line">     <span class="keyword">if</span> (itemStyle[crossSize] !== <span class="literal">null</span> &amp;&amp; itemStyle[crossSize] !== (<span class="keyword">void</span> <span class="number">0</span>)) &#123;</span><br><span class="line">       crossSpace = <span class="built_in">Math</span>.max(crossSpace, itemStyle[crossSize])</span><br><span class="line">     &#125;</span><br><span class="line">     flexLine.push(item)</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>flex å­é¡¹ display ä¸º flexï¼Œç›´æ¥å¡è¿›å½“å‰è¡Œï¼ŒmainSpace ä¸ä½œå¤„ç†ï¼Œåç»­è‡ªé€‚åº”</p>
<ul>
<li><p>flex: none | auto | [ &lt;â€™flex-growâ€™&gt; &lt;â€™flex-shrinkâ€™&gt;? || &lt;â€™flex-basisâ€™&gt; ]</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (itemStyle.flex) &#123;</span><br><span class="line">   flexLine.push(item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>flex å®¹å™¨æ˜¯å¦æ¢è¡Œ</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å½“å‰flex å­é¡¹ï¼Œå¤§äº flex mainSize,è‡ªé€‚åº”</span></span><br><span class="line"><span class="keyword">if</span> (itemStyle[mainSize] &gt; style[mainSize]) &#123;</span><br><span class="line">    itemStyle[mainSize] = style[mainSize]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å½“å‰flex å­é¡¹ï¼Œå¤§äº flex å®¹å™¨å‰©ä½™ mainSpaceï¼Œå¦èµ·æ–°è¡Œ</span></span><br><span class="line"><span class="keyword">if</span> (mainSpace &lt; itemStyle[mainSize]) &#123;</span><br><span class="line">    flexLine.mainSpace = mainSpace</span><br><span class="line">    flexLine.crossSpace = crossSpace</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºæ–°è¡Œ</span></span><br><span class="line">    flexLine = []</span><br><span class="line">    flexLines.push(flexLine)</span><br><span class="line">    flexLine.push(item)</span><br><span class="line"></span><br><span class="line">    mainSpace = style[mainSize]</span><br><span class="line">    crossSpace = <span class="number">0</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123; <span class="comment">// æœªè¶…è¿‡ flex å®¹å™¨å‰©ä½™ mainSpaceï¼Œæ·»åŠ è¿›è¡Œ </span></span><br><span class="line">    flexLine.push(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¤„ç†äº¤å‰è½´ï¼Œåªéœ€è¦å– flex å­é¡¹æœ€å¤§ crossSize</span></span><br><span class="line"><span class="keyword">if</span> (itemStyle[crossSize] !== <span class="literal">null</span> &amp;&amp; itemStyle[crossSize] !== (<span class="keyword">void</span> <span class="number">0</span>)) &#123;</span><br><span class="line">    crossSpace = <span class="built_in">Math</span>.max(crossSpace, itemStyle[crossSize])</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// flex å®¹å™¨å‰©ä½™ mainSpace</span></span><br><span class="line">mainSpace -= itemStyle[mainSize]</span><br></pre></td></tr></table></figure></li>
<li><p><a href="https://github.com/Ele-Peng/toy-browser/blob/master/layout2.js" target="_blank" rel="noopener">layout2.js å®Œæ•´ä»£ç -ç‚¹å‡»ä¸€ä¸‹</a></p>
</li>
</ul>
<h3 id="ç¬¬ä¸‰æ­¥ï¼šè®¡ç®—ä¸»è½´"><a href="#ç¬¬ä¸‰æ­¥ï¼šè®¡ç®—ä¸»è½´" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šè®¡ç®—ä¸»è½´"></a>ç¬¬ä¸‰æ­¥ï¼šè®¡ç®—ä¸»è½´</h3><ul>
<li><p>è®¡ç®—ä¸»è½´æ–¹å‘</p>
<ul>
<li><p>æ‰¾å‡ºæ‰€æœ‰ flex å­é¡¹ä¹Ÿä¸º flex å…ƒç´ </p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> item = items[i]</span><br><span class="line">    <span class="keyword">const</span> itemStyle = getStyle(item)</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">if</span> ((itemStyle.flex !== <span class="literal">null</span>) &amp;&amp; (itemStyle.flex !== (<span class="keyword">void</span> <span class="number">0</span>))) &#123;</span><br><span class="line">      flexTotal += itemStyle.flex</span><br><span class="line">      <span class="keyword">continue</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>å­˜åœ¨ flex å­é¡¹ä¹Ÿä¸º flex</p>
<ul>
<li><p>å¡«å…… flexLine å‰©ä½™ mainSpace ç©ºé—´</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> currentMain = mainBase</span><br><span class="line">		</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> item = items[i]</span><br><span class="line">  <span class="keyword">const</span> itemStyle = getStyle(item)</span><br><span class="line">		</span><br><span class="line">  <span class="keyword">if</span> (itemStyle.flex) &#123;</span><br><span class="line">    itemStyle[mainSize] = (mainSpace / flexTotal) * itemStyle.flex</span><br><span class="line">  &#125;</span><br><span class="line">  itemStyle[mainStart] = currentMain</span><br><span class="line">  itemStyle[mainEnd] = itemStyle[mainStart] + mainSign * itemStyle[mainSize]</span><br><span class="line">  currentMain = itemStyle[mainEnd]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ä¸å­˜åœ¨ flex å­é¡¹ä¹Ÿä¸º flexï¼ŒæŠŠä¸»è½´æ–¹å‘å‰©ä½™å°ºå¯¸æŒ‰æ¯”ä¾‹åˆ†é…ç»™è¿™äº›å…ƒç´ </p>
</li>
<li><p>justify-content: flex-start | flex-end | center | space-between | space-around | space-evenly;</p>
<ul>
<li><p>justify-content: flex-start</p>
<ul>
<li><p>é»˜è®¤å€¼</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (!style.justifyContent || style.justifyContent === <span class="string">'auto'</span>)</span><br><span class="line">    style.justifyContent = <span class="string">'flex-start'</span></span><br></pre></td></tr></table></figure>

  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (style.justifyContent === <span class="string">'flex-start'</span>) &#123;</span><br><span class="line">  currentMain = mainBase</span><br><span class="line">  gap = <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>justify-content: flex-end</p>
<ul>
<li><p>é€»è¾‘CSSå±æ€§å€¼ï¼Œä¸é»˜è®¤æ–‡æ¡£æµæ–¹å‘ç›¸å</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (style.justifyContent === <span class="string">'flex-start'</span>) &#123;</span><br><span class="line">  currentMain = mainSpace * mainSign + mainBase</span><br><span class="line">  gap = <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>justify-content: center</p>
<ul>
<li><p>å±…ä¸­å¯¹é½</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (style.justifyContent === <span class="string">'center'</span>) &#123;</span><br><span class="line">  currentMain = mainSpace / <span class="number">2</span> * mainSign + mainBase</span><br><span class="line">  gap = <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>justify-content: space-between</p>
<ul>
<li><p>è¡¨ç°ä¸ºä¸¤ç«¯å¯¹é½ã€‚between æ˜¯ä¸­é—´çš„æ„æ€ï¼Œæ„æ€æ˜¯å¤šä½™çš„ç©ºç™½é—´è·åªåœ¨å…ƒç´ ä¸­é—´åŒºåŸŸåˆ†é…</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (style.justifyContent === <span class="string">'space-between'</span>) &#123;</span><br><span class="line">  gap = mainSpace / (items.length - <span class="number">1</span>) * mainSign</span><br><span class="line">  currentMain = mainBase</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>justify-content: space-around</p>
<ul>
<li><p>around æ˜¯ç¯ç»•çš„æ„æ€ï¼Œæ„æ€æ˜¯æ¯ä¸ª flex å­é¡¹ä¸¤ä¾§éƒ½ç¯ç»•äº’ä¸å¹²æ‰°çš„ç­‰å®½çš„ç©ºç™½é—´è·ï¼Œæœ€ç»ˆè§†è§‰ä¸Šè¾¹ç¼˜ä¸¤ä¾§çš„ç©ºç™½åªæœ‰ä¸­é—´ç©ºç™½å®½åº¦ä¸€åŠ</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (style.justifyContent === <span class="string">'space-around'</span>) &#123;</span><br><span class="line">  gap = mainSpace / items.length * mainSign</span><br><span class="line">  currentMain = gap / <span class="number">2</span> + mainBase</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>justify-content: space-evenly</p>
<ul>
<li><p>evenly æ˜¯åŒ€ç§°ã€å¹³ç­‰çš„æ„æ€ã€‚ä¹Ÿå°±æ˜¯è§†è§‰ä¸Šï¼Œæ¯ä¸ª flex å­é¡¹ä¸¤ä¾§ç©ºç™½é—´è·å®Œå…¨ç›¸ç­‰</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (style.justifyContent === <span class="string">'space-evenly'</span>) &#123;</span><br><span class="line">  gap = mainSpace / (items.length + <span class="number">1</span>) * mainSign</span><br><span class="line">  currentMain = gap + mainBase</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li><p>å¾ªç¯è®¡ç®— flex å­é¡¹ä½ç½®</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> item = items[i]</span><br><span class="line">  itemStyle[mainStart] = currentMain</span><br><span class="line">  itemStyle[mainEnd] = itemStyle[mainStart] + mainSign * itemStyle[mainSize]</span><br><span class="line">  currentMain = itemStyle[mainEnd] + gap</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>è‹¥å‰©ä½™ç©ºé—´ä¸ºè´Ÿæ•°ï¼Œæ‰€æœ‰ flex å…ƒç´ ä¸º 0ï¼Œç­‰æ¯”å‹ç¼©å‰©ä½™å…ƒç´ </p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (mainSpace &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯¹è´Ÿçš„ mainSpaceï¼Œ æ‰€æœ‰è¯¥è¡Œ flex å­é¡¹ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼ˆæœªè®¾ç½® flex-shrink é»˜è®¤å€¼æ˜¯1ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤æ‰€æœ‰çš„ flex å­é¡¹éƒ½ä¼šæ”¶ç¼©ï¼‰</span></span><br><span class="line">    <span class="keyword">const</span> scale = style[mainSize] / (style[mainSize] - mainSpace)</span><br><span class="line">    <span class="keyword">const</span> currentMain = mainBase</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; items.length; i ++) &#123;</span><br><span class="line">      <span class="keyword">const</span> item = items[i]</span><br><span class="line">      <span class="keyword">const</span> itemStyle = getStyle(item)</span><br><span class="line">	</span><br><span class="line">      <span class="keyword">if</span> (itemStyle.flex) &#123;</span><br><span class="line">        itemStyle[mainSize] = <span class="number">0</span></span><br><span class="line">      &#125;</span><br><span class="line">	</span><br><span class="line">      itemStyle[mainSize] = itemStyle[mainSize] * scale</span><br><span class="line">	</span><br><span class="line">      <span class="comment">// flex å®¹å™¨è¿™ä¸€è¡Œå†…ï¼Œflex å­é¡¹æ’å¸ƒ</span></span><br><span class="line">      itemStyle[mainStart] = currentMain</span><br><span class="line">      itemStyle[mainEnd] = itemStyle[mainStart] + mainSign * itemStyle[mainSize]</span><br><span class="line">      currentMain = itemStyle[mainEnd]</span><br><span class="line">    &#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><a href="https://github.com/Ele-Peng/toy-browser/blob/master/layout3.js" target="_blank" rel="noopener">layout3.js å®Œæ•´ä»£ç -ç‚¹å‡»ä¸€ä¸‹</a></p>
</li>
</ul>
<h3 id="ç¬¬å››æ­¥ï¼šè®¡ç®—äº¤å‰è½´"><a href="#ç¬¬å››æ­¥ï¼šè®¡ç®—äº¤å‰è½´" class="headerlink" title="ç¬¬å››æ­¥ï¼šè®¡ç®—äº¤å‰è½´"></a>ç¬¬å››æ­¥ï¼šè®¡ç®—äº¤å‰è½´</h3><ul>
<li><p>è®¡ç®—äº¤å‰è½´æ–¹å‘</p>
<ul>
<li><p>æ ¹æ®æ¯ä¸€è¡Œä¸­æœ€å¤§å…ƒç´ å°ºå¯¸è®¡ç®—è¡Œé«˜</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (!style[crossSize]) &#123; <span class="comment">// äº¤å‰è½´ï¼ŒcrossSize æœªè®¾å®šæ—¶é»˜è®¤ä¸º count flexLines æ¯è¡Œæœ€å¤§ crossSpace ä¹‹å’Œ </span></span><br><span class="line">    crossSpace = <span class="number">0</span></span><br><span class="line">    elementStyle[crossSize] = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; flexLines.length; i ++) &#123;</span><br><span class="line">      elementStyle[crossSize] = elementStyle[crossSize] + flexLines[i].crossSpace</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123; <span class="comment">// è®¾å®šåï¼Œè®¡ç®—å‡º æœ€ç»ˆçš„ crossSpaceï¼Œä¸º crossSpace å‡å»æ¯è¡Œæœ€å¤§ crossSpaceï¼Œå‰©ä½™ç©ºé—´ï¼Œç”¨ä½œåˆ†é…</span></span><br><span class="line">    crossSpace = style[crossSize]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; flexLines.length; i ++) &#123;</span><br><span class="line">      crossSpace -= flexLines[i].crossSpace</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>æ ¹æ®è¡Œé«˜ flex-align å’Œ item-alignï¼Œç¡®å®šå…ƒç´ å…·ä½“ä½ç½®</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">flexLines.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">items</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> lineCrossSize = style.alignContent === <span class="string">'stretch'</span> ? <span class="comment">// æ‹‰ä¼¸ flex å­é¡¹ï¼Œå¡«æ»¡äº¤å‰è½´</span></span><br><span class="line">      items.crossSpace + crossSpace / flexLines.length :</span><br><span class="line">      item.crossSpace</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; items.length; i ++) &#123;</span><br><span class="line">      <span class="keyword">const</span> item = items[i]</span><br><span class="line">      <span class="keyword">const</span> itemStyle = getStyle(item)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> align = itemStyle.alignSelf || style.alignItems <span class="comment">// align-selfæŒ‡æ§åˆ¶å•ç‹¬æŸä¸€ä¸ªflexå­é¡¹çš„å‚ç›´å¯¹é½æ–¹å¼</span></span><br><span class="line">      <span class="comment">// align-itemså±æ€§ï¼Œè¡¨ç¤ºå­é¡¹ä»¬</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (itemStyle[crossSize] === <span class="literal">null</span>) &#123;</span><br><span class="line">        itemStyle[crossSize] = (align === <span class="string">'stretch'</span>) ?</span><br><span class="line">          lineCrossSize : <span class="number">0</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (align === <span class="string">'flex-start'</span>) &#123;</span><br><span class="line">        itemStyle[crossStart] = crossBase</span><br><span class="line">        itemStyle[crossEnd] = itemStyle[crossStart] + crossSign * itemStyle[crossSize]</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (align === <span class="string">'flex-end'</span>) &#123;</span><br><span class="line">        itemStyle[crossEnd] = crossBase + crossSign * lineCrossSize</span><br><span class="line">        itemStyle[crossStart] = itemStyle[crossEnd] - crossSign * itemStyle[crossSize]</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (align === <span class="string">'center'</span>) &#123;</span><br><span class="line">        itemStyle[crossStart] = crossBase + crossSign * (lineCrossSize - itemStyle[crossSize]) / <span class="number">2</span></span><br><span class="line">        itemStyle[crossEnd] = itemStyle[crossStart] + crossSign * itemStyle[crossSize]</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (align === <span class="string">'stretch'</span>) &#123;</span><br><span class="line">        itemStyle[crossStart] = crossBase</span><br><span class="line">        itemStyle[crossEnd] = crossBase + crossSign * ((itemStyle[crossSize] !== <span class="literal">null</span> &amp;&amp; itemStyle[crossSize] !== (<span class="keyword">void</span> <span class="number">0</span>)) ?</span><br><span class="line">          itemStyle[crossSize] : lineCrossSize)</span><br><span class="line"></span><br><span class="line">        itemStyle[crossSize] = crossSign * (itemStyle[crossEnd] - itemStyle[crossStart])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    crossBase += crossSign * (lineCrossSize + step)</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/0e488c9e6c482d1d67f2a1872a58aa0d231450.png" alt="ç¬¬å››æ­¥è¿è¡Œç»“æœ"></li>
</ul>
</li>
<li><p><a href="https://github.com/Ele-Peng/toy-browser/blob/master/layout4.js" target="_blank" rel="noopener">layout4.js å®Œæ•´ä»£ç -ç‚¹å‡»ä¸€ä¸‹</a></p>
</li>
</ul>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ul>
<li><a href="https://www.zhangxinxu.com/wordpress/2018/10/display-flex-css3-css/#justify-content" target="_blank" rel="noopener">display: flex æ•™ç¨‹</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener">Flex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Flex" target="_blank" rel="noopener">MDN Flex</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>æµè§ˆå™¨</category>
      </categories>
      <tags>
        <tag>æµè§ˆå™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€æœªå®Œã€‘ä»URLè¾“å…¥åˆ°...ï¼ˆä¸€ï¼‰</title>
    <url>/2020/05/12/%E4%BB%8EURL%E8%BE%93%E5%85%A5%E5%88%B0/</url>
    <content><![CDATA[<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>å˜¿å˜¿å˜¿ ğŸ˜±</li>
<li>åˆ«æƒ³æ­ªï¼Œæˆ‘ä»¬è¿™ä¸ªç³»åˆ—è¦åšçš„æ˜¯ä»ç»å…¸é¢è¯•é¢˜å…¥æ‰‹<ul>
<li>ä» URL è¾“å…¥ <a href="https://ele-peng.github.io/" target="_blank" rel="noopener">https://ele-peng.github.io/</a> åˆ°é¡µé¢å±•ç°åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</li>
</ul>
</li>
<li>ç®€å•äº†è§£ä¸€ä¸‹è®¡ç®—æœºç½‘ç»œç›¸å…³çŸ¥è¯†ã€‚æ˜¯çš„ï¼ŒElle å¾ˆæƒ¨ğŸ˜­ è®¡ç®—æœºç½‘ç»œå­¦å¾—ç¨€çƒ‚</li>
</ul>
<a id="more"></a>

<h2 id="ç®€å•è¿‡ç¨‹"><a href="#ç®€å•è¿‡ç¨‹" class="headerlink" title="ç®€å•è¿‡ç¨‹"></a>ç®€å•è¿‡ç¨‹</h2><ul>
<li>ä½ å…ˆåœ¨æµè§ˆå™¨é‡Œé¢è¾“å…¥ <a href="https://ele-peng.github.io/" target="_blank" rel="noopener">https://ele-peng.github.io/</a> ï¼Œè¿™æ˜¯ä¸€ä¸ª URLã€‚æµè§ˆå™¨åªçŸ¥é“åå­—æ˜¯â€œele-peng.github.ioâ€ï¼Œä½†æ˜¯ä¸çŸ¥é“å…·ä½“çš„åœ°ç‚¹ï¼Œæ‰€ä»¥ä¸çŸ¥é“åº”è¯¥å¦‚ä½•è®¿é—®ã€‚äºæ˜¯ï¼Œå®ƒæ‰“å¼€åœ°å€ç°¿å»æŸ¥æ‰¾ã€‚å¯ä»¥ä½¿ç”¨ä¸€èˆ¬çš„åœ°å€ç°¿åè®® DNS å»æŸ¥æ‰¾ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å¦ä¸€ç§æ›´åŠ ç²¾å‡†çš„åœ°å€ç°¿æŸ¥æ‰¾åè®® HTTPDNS ã€‚</li>
<li>æ— è®ºç”¨å“ªä¸€ç§æ–¹æ³•æŸ¥æ‰¾ï¼Œæœ€ç»ˆéƒ½ä¼šå¾—åˆ°è¿™ä¸ªåœ°å€ï¼š52.74.223.119ã€‚è¿™ä¸ªæ˜¯ IP åœ°å€ï¼Œæ˜¯äº’è”ç½‘ä¸–ç•Œçš„â€œé—¨ç‰Œå·â€ã€‚</li>
<li>çŸ¥é“äº†ç›®æ ‡åœ°å€ï¼Œæµè§ˆå™¨å°±å¼€å§‹æ‰“åŒ…å®ƒçš„è¯·æ±‚ã€‚è¿™é‡Œä¼šä½¿ç”¨HTTPSåè®®ã€‚æ— è®ºæ˜¯ä»€ä¹ˆåè®®ï¼Œé‡Œé¢éƒ½ä¼šå†™æ˜â€œä½ è¦è¯·æ±‚ä»€ä¹ˆâ€ã€‚ï»¿</li>
<li>DNSã€HTTPã€HTTPS æ‰€åœ¨çš„å±‚æˆ‘ä»¬ç§°ä¸º<strong>åº”ç”¨å±‚</strong>ã€‚ç»è¿‡åº”ç”¨å±‚å°è£…åï¼Œæµè§ˆå™¨ä¼šå°†åº”ç”¨å±‚çš„åŒ…äº¤ç»™ä¸‹ä¸€å±‚å»å®Œæˆï¼Œ<strong>é€šè¿‡ socket ç¼–ç¨‹æ¥å®ç°</strong>ã€‚ä¸‹ä¸€å±‚æ˜¯<strong>ä¼ è¾“å±‚</strong>ã€‚ä¼ è¾“å±‚æœ‰ä¸¤ç§åè®®ï¼Œä¸€ç§æ˜¯æ— è¿æ¥çš„åè®®UDPï¼Œä¸€ç§æ˜¯é¢å‘è¿æ¥çš„åè®®TCPã€‚è¿™é‡Œä½¿ç”¨ TCP åè®®ã€‚æ‰€è°“çš„é¢å‘è¿æ¥å°±æ˜¯ï¼ŒTCP ä¼šä¿è¯è¿™ä¸ªåŒ…èƒ½å¤Ÿåˆ°è¾¾ç›®çš„åœ°ã€‚å¦‚æœä¸èƒ½åˆ°è¾¾ï¼Œå°±ä¼šé‡æ–°å‘é€ï¼Œç›´è‡³åˆ°è¾¾ã€‚</li>
<li>TCP åè®®é‡Œé¢ä¼šæœ‰ä¸¤ä¸ªç«¯å£ï¼Œä¸€ä¸ªæ˜¯æµè§ˆå™¨ç›‘å¬çš„ç«¯å£ï¼Œä¸€ä¸ªæ˜¯ github çš„æœåŠ¡å™¨ç›‘å¬çš„ç«¯å£ã€‚æ“ä½œç³»ç»Ÿå¾€å¾€é€šè¿‡ç«¯å£æ¥åˆ¤æ–­ï¼Œå®ƒå¾—åˆ°çš„åŒ…åº”è¯¥ç»™å“ªä¸ªè¿›ç¨‹ã€‚</li>
<li>ä¼ è¾“å±‚å°è£…å®Œæ¯•åï¼Œæµè§ˆå™¨ä¼šå°†åŒ…äº¤ç»™æ“ä½œç³»ç»Ÿçš„<strong>ç½‘ç»œå±‚</strong>ã€‚ç½‘ç»œå±‚çš„åè®®æ˜¯ IP åè®®ã€‚åœ¨ IP åè®®é‡Œé¢ä¼šæœ‰æº IP åœ°å€ï¼Œå³æµè§ˆå™¨æ‰€åœ¨æœºå™¨çš„ IP åœ°å€å’Œç›®æ ‡ IP åœ°å€ï¼Œä¹Ÿå³ github æ‰€åœ¨æœåŠ¡å™¨çš„ IP åœ°å€ã€‚</li>
<li>æ“ä½œç³»ç»Ÿæ—¢ç„¶çŸ¥é“äº†ç›®æ ‡ IP åœ°å€ï¼Œå°±å¼€å§‹æƒ³å¦‚ä½•æ ¹æ®è¿™ä¸ªé—¨ç‰Œå·æ‰¾åˆ°ç›®æ ‡æœºå™¨ã€‚æ“ä½œç³»ç»Ÿå¾€å¾€ä¼šåˆ¤æ–­ï¼Œè¿™ä¸ªç›®æ ‡ IP åœ°å€æ˜¯æœ¬åœ°äººï¼Œè¿˜æ˜¯å¤–åœ°äººã€‚å¦‚æœæ˜¯æœ¬åœ°äººï¼Œä»é—¨ç‰Œå·å°±èƒ½çœ‹å‡ºæ¥ï¼Œä½†æ˜¯æ˜¾ç„¶ github ç½‘ç«™ä¸åœ¨æœ¬åœ°ï¼Œè€Œåœ¨é¥è¿œçš„åœ°æ–¹ã€‚</li>
<li>æ“ä½œç³»ç»ŸçŸ¥é“è¦ç¦»å¼€æœ¬åœ°å»è¿œæ–¹ã€‚è™½ç„¶ä¸çŸ¥é“è¿œæ–¹åœ¨ä½•å¤„ï¼Œä½†æ˜¯å¯ä»¥è¿™æ ·ç±»æ¯”ä¸€ä¸‹ï¼šå¦‚æœå»å›½å¤–è¦å»æµ·å…³ï¼Œå»å¤–åœ°å°±è¦å»ç½‘å…³ã€‚è€Œæ“ä½œç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™ï¼Œå°±ä¼šè¢« DHCP åè®®é…ç½® IP åœ°å€ï¼Œä»¥åŠé»˜è®¤çš„ç½‘å…³çš„ IP åœ°å€ 192.168.1.1ã€‚</li>
<li>æ“ä½œç³»ç»Ÿå¦‚ä½•å°† IP åœ°å€å‘ç»™ç½‘å…³å‘¢ï¼Ÿåœ¨æœ¬åœ°é€šä¿¡åŸºæœ¬é å¼ï¼Œäºæ˜¯æ“ä½œç³»ç»Ÿå¤§å¼ä¸€å£°ï¼Œè°æ˜¯ 192.168.1.1 å•Šï¼Ÿç½‘å…³ä¼šå›ç­”å®ƒï¼Œæˆ‘å°±æ˜¯ï¼Œæˆ‘çš„æœ¬åœ°åœ°å€åœ¨æ‘ä¸œå¤´ã€‚è¿™ä¸ªæœ¬åœ°åœ°å€å°±æ˜¯ MAC åœ°å€ï¼Œè€Œå¤§å¼çš„é‚£ä¸€å£°æ˜¯ ARP åè®®ã€‚</li>
<li>äºæ˜¯æ“ä½œç³»ç»Ÿå°† IP åŒ…äº¤ç»™äº†ä¸‹ä¸€å±‚ï¼Œä¹Ÿå°±æ˜¯ <strong>MAC å±‚</strong>ã€‚ç½‘å¡å†å°†åŒ…å‘å‡ºå»ã€‚ç”±äºè¿™ä¸ªåŒ…é‡Œé¢æ˜¯æœ‰ MAC åœ°å€çš„ï¼Œå› è€Œå®ƒèƒ½å¤Ÿåˆ°è¾¾ç½‘å…³ã€‚</li>
<li>ç½‘å…³æ”¶åˆ°åŒ…ä¹‹åï¼Œä¼šæ ¹æ®è‡ªå·±çš„çŸ¥è¯†ï¼Œåˆ¤æ–­ä¸‹ä¸€æ­¥åº”è¯¥æ€ä¹ˆèµ°ã€‚ç½‘å…³å¾€å¾€æ˜¯ä¸€ä¸ªè·¯ç”±å™¨ï¼Œåˆ°æŸä¸ª IP åœ°å€åº”è¯¥æ€ä¹ˆèµ°ï¼Œè¿™ä¸ªå«ä½œè·¯ç”±è¡¨ã€‚</li>
<li>è·¯ç”±å™¨æœ‰ç‚¹åƒç„å¥˜è¥¿è¡Œè·¯è¿‡çš„ä¸€ä¸ªä¸ªå›½å®¶çš„ä¸€ä¸ªä¸ªåŸå…³ã€‚æ¯ä¸ªåŸå…³éƒ½è¿ç€ä¸¤ä¸ªå›½å®¶ï¼Œæ¯ä¸ªå›½å®¶ç›¸å½“äºä¸€ä¸ªå±€åŸŸç½‘ï¼Œåœ¨æ¯ä¸ªå›½å®¶å†…éƒ¨ï¼Œéƒ½å¯ä»¥ä½¿ç”¨æœ¬åœ°çš„åœ°å€ MAC è¿›è¡Œé€šä¿¡ã€‚</li>
<li>ä¸€æ—¦è·¨è¶ŠåŸå…³ï¼Œå°±éœ€è¦æ‹¿å‡º IP å¤´æ¥é—®ï¼Œç›®æ ‡ IP åœ°å€æ€ä¹ˆèµ°ï¼Ÿ</li>
<li>åŸå…³å¾€å¾€æ˜¯çŸ¥é“è¿™äº›â€œçŸ¥è¯†â€çš„ï¼Œå› ä¸ºåŸå…³å’Œä¸´è¿‘çš„åŸå…³ä¹Ÿä¼šç»å¸¸æ²Ÿé€šã€‚åˆ°å“ªé‡Œåº”è¯¥æ€ä¹ˆèµ°ï¼Œè¿™ç§æ²Ÿé€šçš„åè®®ç§°ä¸ºè·¯ç”±åè®®ï¼Œå¸¸ç”¨çš„æœ‰ OSP Få’Œ BGP ã€‚ï»¿</li>
<li>åŸå…³ä¸åŸå…³ä¹‹é—´æ˜¯ä¸€ä¸ªå›½å®¶ï¼Œå½“ç½‘ç»œåŒ…çŸ¥é“äº†ä¸‹ä¸€æ­¥å»å“ªä¸ªåŸå…³ï¼Œè¿˜æ˜¯è¦ä½¿ç”¨å›½å®¶å†…éƒ¨çš„ MAC åœ°å€ï¼Œé€šè¿‡ä¸‹ä¸€ä¸ªåŸå…³çš„ MAC åœ°å€ï¼Œæ‰¾åˆ°ä¸‹ä¸€ä¸ªåŸå…³ï¼Œç„¶åå†é—®ä¸‹ä¸€æ­¥çš„è·¯æ€ä¹ˆèµ°ï¼Œä¸€ç›´åˆ°èµ°å‡ºæœ€åä¸€ä¸ªåŸå…³ã€‚</li>
<li>æœ€åä¸€ä¸ªåŸå…³çŸ¥é“è¿™ä¸ªç½‘ç»œåŒ…è¦å»çš„åœ°æ–¹ã€‚äºæ˜¯ï¼Œå¯¹ç€è¿™ä¸ªå›½å®¶å¼ä¸€å£°ï¼Œè°æ˜¯ç›®æ ‡ IP å•Šï¼Ÿç›®æ ‡æœåŠ¡å™¨å°±ä¼šå›å¤ä¸€ä¸ª MAC åœ°å€ã€‚ç½‘ç»œåŒ…è¿‡å…³åï¼Œé€šè¿‡è¿™ä¸ª MAC åœ°å€å°±èƒ½æ‰¾åˆ°ç›®æ ‡æœåŠ¡å™¨ã€‚</li>
<li>ç›®æ ‡æœåŠ¡å™¨å‘ç° MAC åœ°å€å¯¹ä¸Šäº†ï¼Œå–ä¸‹ MAC å¤´æ¥ï¼Œå‘é€ç»™æ“ä½œç³»ç»Ÿçš„ç½‘ç»œå±‚ã€‚å‘ç° IP ä¹Ÿå¯¹ä¸Šäº†ï¼Œå°±å–ä¸‹ IP å¤´ã€‚IP å¤´é‡Œä¼šå†™ä¸Šä¸€å±‚å°è£…çš„æ˜¯ TCP åè®®ï¼Œç„¶åå°†å…¶äº¤ç»™ä¼ è¾“å±‚ï¼Œå³TCP å±‚ã€‚</li>
<li>åœ¨è¿™ä¸€å±‚é‡Œï¼Œå¯¹äºæ”¶åˆ°çš„æ¯ä¸ªåŒ…ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªå›å¤çš„åŒ…è¯´æ˜æ”¶åˆ°äº†ã€‚è¿™ä¸ªå›å¤çš„åŒ…ç»éè¿™æ¬¡æŸ¥è¯¢è¯·æ±‚çš„ç»“æœï¼Œè€Œä»…ä»…æ˜¯ TCP å±‚çš„ä¸€ä¸ªè¯´æ˜ï¼Œå³æ”¶åˆ°ä¹‹åçš„å›å¤ã€‚å½“ç„¶è¿™ä¸ªå›å¤ï¼Œä¼šæ²¿ç€åˆšæ‰æ¥çš„æ–¹å‘èµ°å›å»ï¼ŒæŠ¥ä¸ªå¹³å®‰ã€‚</li>
<li>å¦‚æœè¿‡ä¸€æ®µæ—¶é—´è¿˜æ˜¯æ²¡åˆ°ï¼Œå‘é€ç«¯çš„ TCP å±‚ä¼šé‡æ–°å‘é€è¿™ä¸ªåŒ…ï¼Œè¿˜æ˜¯ä¸Šé¢çš„è¿‡ç¨‹ï¼Œç›´åˆ°æœ‰ä¸€å¤©æ”¶åˆ°å¹³å®‰åˆ°è¾¾çš„å›å¤ã€‚è¿™ä¸ªé‡è¯•ç»éä½ çš„æµè§ˆå™¨é‡æ–°è¯·æ±‚ github ä¸ªäººä¸»é¡µã€‚å¯¹äºæµè§ˆå™¨æ¥è®²ï¼Œå°±å‘é€äº†ä¸€æ¬¡ github ä¸ªäººä¸»é¡µè¯·æ±‚ï¼ŒTCP å±‚ä¸æ–­è‡ªå·±é—·å¤´é‡è¯•ã€‚é™¤é TCP è¿™ä¸€å±‚å‡ºäº†é—®é¢˜ï¼Œä¾‹å¦‚è¿æ¥æ–­äº†ï¼Œæ‰è½®åˆ°æµè§ˆå™¨çš„åº”ç”¨å±‚é‡æ–°å‘é€ github ä¸ªäººä¸»é¡µè¯·æ±‚ã€‚</li>
<li>å½“ç½‘ç»œåŒ…å¹³å®‰åˆ°è¾¾ TCP å±‚ä¹‹åï¼ŒTCP å¤´ä¸­æœ‰ç›®æ ‡ç«¯å£å·ï¼Œé€šè¿‡è¿™ä¸ªç«¯å£å·ï¼Œå¯ä»¥æ‰¾åˆ° github ç½‘ç«™çš„è¿›ç¨‹æ­£åœ¨ç›‘å¬è¿™ä¸ªç«¯å£å·ï¼Œå‡è®¾ä¸€ä¸ª Tomcatï¼Œå°†è¿™ä¸ªåŒ…å‘ç»™ github ç½‘ç«™ã€‚ï»¿</li>
<li>github ç½‘ç«™çš„è¿›ç¨‹å¾—åˆ° HTTP è¯·æ±‚çš„å†…å®¹ï¼ŒçŸ¥é“äº†è¦å“åº”å•¥ã€‚å¾€å¾€ä¸€ä¸ªç”µå•†ç½‘ç«™æœ€åˆæ¥å¾…è¯·æ±‚çš„è¿™ä¸ª Tomcat åªæ˜¯ä¸ªæ¥å¾…å‘˜ï¼Œè´Ÿè´£ç»Ÿç­¹å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼Œè€Œä¸æ˜¯æ‰€æœ‰çš„äº‹æƒ…éƒ½è‡ªå·±åšã€‚ä¾‹å¦‚ï¼Œè¿™ä¸ªæ¥å¾…å‘˜è¦å‘Šè¯‰ä¸“é—¨ç®¡ç† GitHub ä¸ªäººä¸»é¡µçš„è¿›ç¨‹ï¼Œè¦å“åº”å•¥ç­‰ç­‰ã€‚</li>
<li>å¦‚ä½•å‘Šè¯‰ç›¸å…³çš„è¿›ç¨‹å‘¢ï¼Ÿå¾€å¾€é€šè¿‡ RPC è°ƒç”¨ï¼Œå³è¿œç¨‹è¿‡ç¨‹è°ƒç”¨çš„æ–¹å¼æ¥å®ç°ã€‚è¿œç¨‹è¿‡ç¨‹è°ƒç”¨å°±æ˜¯å½“å‘Šè¯‰ç®¡ç† GitHub ä¸ªäººä¸»é¡µçš„è¿›ç¨‹çš„æ—¶å€™ï¼Œæ¥å¾…å‘˜ä¸ç”¨å…³å¿ƒä¸­é—´çš„ç½‘ç»œäº’è¿é—®é¢˜ï¼Œä¼šç”± RPC æ¡†æ¶ç»Ÿä¸€å¤„ç†ã€‚RPC æ¡†æ¶æœ‰å¾ˆå¤šç§ï¼Œæœ‰åŸºäº HTTP åè®®æ”¾åœ¨ HTTP çš„æŠ¥æ–‡é‡Œé¢çš„ï¼Œæœ‰ç›´æ¥å°è£…åœ¨ TCP æŠ¥æ–‡é‡Œé¢çš„ã€‚</li>
<li>å½“æ¥å¾…å‘˜å‘ç°ç›¸åº”çš„éƒ¨é—¨éƒ½å¤„ç†å®Œæ¯•ï¼Œå°±å›å¤ä¸€ä¸ª HTTPS çš„åŒ…ï¼Œå‘ŠçŸ¥æŸ¥è¯¢æˆåŠŸã€‚è¿™ä¸ª HTTPS çš„åŒ…ï¼Œä¼šåƒæ¥çš„æ—¶å€™ä¸€æ ·ï¼Œç»è¿‡åƒéš¾ä¸‡é™©åˆ°è¾¾ä½ çš„ä¸ªäººç”µè„‘ï¼Œæœ€ç»ˆè¿›å…¥æµè§ˆå™¨ï¼Œæ˜¾ç¤ºä¸ªäººä¸»é¡µã€‚</li>
</ul>
<h2 id="ç½‘ç»œåˆ†å±‚æ¨¡å‹"><a href="#ç½‘ç»œåˆ†å±‚æ¨¡å‹" class="headerlink" title="ç½‘ç»œåˆ†å±‚æ¨¡å‹"></a>ç½‘ç»œåˆ†å±‚æ¨¡å‹</h2><h3 id="TCP-IP-åè®®æ ˆ"><a href="#TCP-IP-åè®®æ ˆ" class="headerlink" title="TCP/IP åè®®æ ˆ"></a>TCP/IP åè®®æ ˆ</h3><ul>
<li><img src="http://p0.meituan.net/myvideodistribute/6fea0628affaf34d09b59d845ffeb60a75766.png" alt="TCP/IP åè®®æ ˆ"></li>
<li><strong>link layer é“¾æ¥å±‚</strong>ï¼šè´Ÿè´£åœ¨ä»¥å¤ªç½‘ã€WiFi è¿™æ ·çš„åº•å±‚ç½‘ç»œä¸Šå‘é€åŸå§‹æ•°æ®åŒ…ï¼ˆframe å¸§ï¼‰ï¼Œå·¥ä½œåœ¨ç½‘å¡è¿™ä¸ªå±‚æ¬¡ï¼Œä½¿ç”¨ MAC åœ°å€æ¥æ ‡è®°ç½‘ç»œä¸Šçš„è®¾å¤‡ï¼Œæ‰€ä»¥æœ‰æ—¶å€™ä¹Ÿå« MAC å±‚ã€‚</li>
<li><strong>internet layer ç½‘é™…å±‚</strong>ï¼šIP åè®®å°±å¤„åœ¨è¿™ä¸€å±‚ã€‚å› ä¸º IP åè®®å®šä¹‰äº†â€œIP åœ°å€â€çš„æ¦‚å¿µï¼Œæ‰€ä»¥å°±å¯ä»¥åœ¨â€œé“¾æ¥å±‚â€çš„åŸºç¡€ä¸Šï¼Œç”¨ IP åœ°å€å–ä»£ MAC åœ°å€ï¼ŒæŠŠè®¸è®¸å¤šå¤šçš„å±€åŸŸç½‘ã€å¹¿åŸŸç½‘è¿æ¥æˆä¸€ä¸ªè™šæ‹Ÿçš„å·¨å¤§ç½‘ç»œï¼Œåœ¨è¿™ä¸ªç½‘ç»œé‡Œæ‰¾è®¾å¤‡æ—¶åªè¦æŠŠ IP åœ°å€å†â€œç¿»è¯‘â€æˆ MAC åœ°å€å°±å¯ä»¥äº†ã€‚ä¼ è¾“å•ä½æ˜¯åŒ…ï¼ˆpacketï¼‰</li>
<li><strong>transport layer ä¼ è¾“å±‚</strong>ï¼šTCP/UDP åè®®å·¥ä½œçš„å±‚æ¬¡<ul>
<li>TCP æ˜¯ä¸€ä¸ªæœ‰çŠ¶æ€çš„åè®®ï¼Œéœ€è¦å…ˆä¸å¯¹æ–¹å»ºç«‹è¿æ¥ç„¶åæ‰èƒ½å‘é€æ•°æ®ï¼Œè€Œä¸”ä¿è¯æ•°æ®ä¸ä¸¢å¤±ä¸é‡å¤ã€‚è€Œ UDP åˆ™æ¯”è¾ƒç®€å•ï¼Œå®ƒæ— çŠ¶æ€ï¼Œä¸ç”¨äº‹å…ˆå»ºç«‹è¿æ¥å°±å¯ä»¥ä»»æ„å‘é€æ•°æ®ï¼Œä½†ä¸ä¿è¯æ•°æ®ä¸€å®šä¼šå‘åˆ°å¯¹æ–¹ã€‚ä¸¤ä¸ªåè®®çš„å¦ä¸€ä¸ªé‡è¦åŒºåˆ«åœ¨äºæ•°æ®çš„å½¢å¼ã€‚TCP çš„æ•°æ®æ˜¯è¿ç»­çš„â€œå­—èŠ‚æµâ€ï¼Œæœ‰å…ˆåé¡ºåºï¼Œè€Œ UDP åˆ™æ˜¯åˆ†æ•£çš„å°æ•°æ®åŒ…ï¼Œæ˜¯é¡ºåºå‘ï¼Œä¹±åºæ”¶ã€‚</li>
<li>TCP å±‚çš„ä¼ è¾“å•ä½æ˜¯æ®µï¼ˆsegmentï¼‰</li>
</ul>
</li>
<li><strong>application layer åº”ç”¨å±‚</strong>ï¼šå„ç§é¢å‘å…·ä½“åº”ç”¨çš„åè®®ï¼Œä¾‹å¦‚ DHCPã€HTTPã€HTTPSã€RTMPã€DNSã€P2Pã€GTPã€RPCã€Telnetã€SSHã€FTPã€SMTP ç­‰ç­‰ã€‚<ul>
<li>HTTP çš„ä¼ è¾“å•ä½åˆ™æ˜¯æ¶ˆæ¯æˆ–æŠ¥æ–‡ï¼ˆmessageï¼‰</li>
</ul>
</li>
</ul>
<h3 id="OSI-Open-System-Interconnection-Reference-Model-å¼€æ”¾å¼ç³»ç»Ÿäº’è”é€šä¿¡å‚è€ƒæ¨¡å‹"><a href="#OSI-Open-System-Interconnection-Reference-Model-å¼€æ”¾å¼ç³»ç»Ÿäº’è”é€šä¿¡å‚è€ƒæ¨¡å‹" class="headerlink" title="OSI (Open System Interconnection Reference Model) å¼€æ”¾å¼ç³»ç»Ÿäº’è”é€šä¿¡å‚è€ƒæ¨¡å‹"></a>OSI (Open System Interconnection Reference Model) å¼€æ”¾å¼ç³»ç»Ÿäº’è”é€šä¿¡å‚è€ƒæ¨¡å‹</h3><ul>
<li><img src="http://p1.meituan.net/myvideodistribute/53145af5e2b1d0846761c3382cce24c5104243.png" alt="OSIå‚è€ƒæ¨¡å‹"></li>
<li><strong>physical layer ç‰©ç†å±‚</strong>ï¼šç½‘ç»œçš„ç‰©ç†å½¢å¼ï¼Œä¾‹å¦‚ç”µç¼†ã€å…‰çº¤ã€ç½‘å¡ã€é›†çº¿å™¨ç­‰ç­‰</li>
<li><strong>data link layer æ•°æ®é“¾è·¯å±‚</strong>ï¼šåŸºæœ¬ç›¸å½“äº TCP/IP çš„é“¾æ¥å±‚</li>
<li><strong>network layer ç½‘ç»œå±‚</strong>ï¼šç›¸å½“äº TCP/IP é‡Œçš„ç½‘é™…å±‚</li>
<li><strong>transport layer ä¼ è¾“å±‚</strong>ï¼šç›¸å½“äº TCP/IP é‡Œçš„ä¼ è¾“å±‚</li>
<li><strong>session layer ä¼šè¯å±‚</strong>ï¼šç»´æŠ¤ç½‘ç»œä¸­çš„è¿æ¥çŠ¶æ€ï¼Œå³ä¿æŒä¼šè¯å’ŒåŒæ­¥</li>
<li><strong>presentation layer è¡¨ç¤ºå±‚</strong>ï¼šæŠŠæ•°æ®è½¬æ¢ä¸ºåˆé€‚ã€å¯ç†è§£çš„è¯­æ³•å’Œè¯­ä¹‰</li>
<li><strong>application layer åº”ç”¨å±‚</strong>ï¼šé¢å‘å…·ä½“çš„åº”ç”¨ä¼ è¾“æ•°æ®</li>
</ul>
<h3 id="ä¸¤ä¸ªåˆ†å±‚æ¨¡å‹çš„æ˜ å°„å…³ç³»"><a href="#ä¸¤ä¸ªåˆ†å±‚æ¨¡å‹çš„æ˜ å°„å…³ç³»" class="headerlink" title="ä¸¤ä¸ªåˆ†å±‚æ¨¡å‹çš„æ˜ å°„å…³ç³»"></a>ä¸¤ä¸ªåˆ†å±‚æ¨¡å‹çš„æ˜ å°„å…³ç³»</h3><ul>
<li><img src="http://p0.meituan.net/myvideodistribute/0042adbffe9810c7913862252fa27662164155.png" alt="ä¸¤ä¸ªåˆ†å±‚æ¨¡å‹çš„æ˜ å°„å…³ç³»"></li>
<li>ç¬¬ä¸€å±‚ï¼šç‰©ç†å±‚ï¼ŒTCP/IP é‡Œæ— å¯¹åº”</li>
<li>ç¬¬äºŒå±‚ï¼šæ•°æ®é“¾è·¯å±‚ï¼Œå¯¹åº” TCP/IP çš„é“¾æ¥å±‚</li>
<li>ç¬¬ä¸‰å±‚ï¼šç½‘ç»œå±‚ï¼Œå¯¹åº” TCP/IP çš„ç½‘é™…å±‚</li>
<li>ç¬¬å››å±‚ï¼šä¼ è¾“å±‚ï¼Œå¯¹åº” TCP/IP çš„ä¼ è¾“å±‚</li>
<li>ç¬¬äº”ã€å…­ã€ä¸ƒå±‚ï¼šç»Ÿä¸€å¯¹åº”åˆ° TCP/IP çš„åº”ç”¨å±‚<ul>
<li>TCP/IP å®é™…åº”ç”¨æ—¶çš„ä¼šè¯ç®¡ç†ã€ç¼–ç è½¬æ¢ã€å‹ç¼©ç­‰å’Œå…·ä½“åº”ç”¨ç»å¸¸è”ç³»çš„å¾ˆç´§å¯†ï¼Œå¾ˆéš¾åˆ†å¼€</li>
</ul>
</li>
</ul>
<h2 id="HTTP-HyperText-Transfer-Protocol"><a href="#HTTP-HyperText-Transfer-Protocol" class="headerlink" title="HTTP - HyperText Transfer Protocol"></a>HTTP - HyperText Transfer Protocol</h2><ul>
<li><img src="http://p0.meituan.net/myvideodistribute/0eac1c72dc8c7c0ac87363d73f51b19b30633.png" alt="HTTPæ¦‚è§ˆå›¾"></li>
<li>Protocol<ul>
<li>åè®®å¿…é¡»è¦æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªå‚ä¸è€…ï¼Œä¹Ÿå°±æ˜¯â€œåâ€</li>
<li>åè®®æ˜¯å¯¹å‚ä¸è€…çš„ä¸€ç§è¡Œä¸ºçº¦å®šå’Œè§„èŒƒï¼Œä¹Ÿå°±æ˜¯â€œè®®â€ï¼ŒåŒ…æ‹¬è¯­æ³•ã€è¯­ä¹‰ã€åŒæ­¥è§„åˆ™å’Œé”™è¯¯å¤„ç†</li>
<li>æ€»ç»“ï¼š<strong>HTTP æ˜¯ä¸€ä¸ªç”¨åœ¨è®¡ç®—æœºä¸–ç•Œé‡Œçš„åè®®ã€‚å®ƒä½¿ç”¨è®¡ç®—æœºèƒ½å¤Ÿç†è§£çš„è¯­è¨€ç¡®ç«‹äº†ä¸€ç§è®¡ç®—æœºä¹‹é—´äº¤æµé€šä¿¡çš„è§„èŒƒï¼Œä»¥åŠç›¸å…³çš„å„ç§æ§åˆ¶å’Œé”™è¯¯å¤„ç†æ–¹å¼ã€‚</strong></li>
</ul>
</li>
<li>Transfer<ul>
<li>HTTP åè®®æ˜¯ä¸€ä¸ªâ€œåŒå‘åè®®â€</li>
<li>æ•°æ®è™½ç„¶æ˜¯åœ¨ A å’Œ B ä¹‹é—´ä¼ è¾“ï¼Œä½†å¹¶æ²¡æœ‰é™åˆ¶åªæœ‰ A å’Œ B è¿™ä¸¤ä¸ªè§’è‰²ï¼Œå…è®¸ä¸­é—´æœ‰â€œä¸­è½¬â€æˆ–è€…â€œæ¥åŠ›â€<ul>
<li>ä¼ è¾“æ–¹å¼ä»â€œA&lt;===&gt;Bâ€ å¯ä»¥å˜æˆäº† â€œA&lt;=&gt;X&lt;=&gt;Y&lt;=&gt;Z&lt;=&gt;Bâ€</li>
<li>A åˆ° B çš„ä¼ è¾“è¿‡ç¨‹ä¸­å¯ä»¥å­˜åœ¨ä»»æ„å¤šä¸ªâ€œä¸­é—´äººâ€ï¼Œè€Œè¿™äº›ä¸­é—´äººä¹Ÿéƒ½éµä» HTTP åè®®ï¼Œåªè¦ä¸æ‰“æ‰°åŸºæœ¬çš„æ•°æ®ä¼ è¾“ï¼Œå°±å¯ä»¥æ·»åŠ ä»»æ„çš„é¢å¤–åŠŸèƒ½ï¼Œä¾‹å¦‚å®‰å…¨è®¤è¯ã€æ•°æ®å‹ç¼©ã€ç¼–ç è½¬æ¢ç­‰ç­‰ï¼Œä¼˜åŒ–æ•´ä¸ªä¼ è¾“è¿‡ç¨‹ã€‚</li>
</ul>
</li>
<li>æ€»ç»“ï¼š<strong>HTTP æ˜¯ä¸€ä¸ªåœ¨è®¡ç®—æœºä¸–ç•Œé‡Œä¸“é—¨ç”¨æ¥åœ¨ä¸¤ç‚¹ä¹‹é—´ä¼ è¾“æ•°æ®çš„çº¦å®šå’Œè§„èŒƒã€‚</strong></li>
</ul>
</li>
<li>HyperText<ul>
<li>Text<ul>
<li>è¡¨ç¤º HTTP ä¼ è¾“çš„ä¸æ˜¯ TCP/UDP è¿™äº›åº•å±‚åè®®é‡Œè¢«åˆ‡åˆ†çš„æ‚ä¹±æ— ç« çš„äºŒè¿›åˆ¶åŒ…ï¼ˆdatagramï¼‰ï¼Œè€Œæ˜¯å®Œæ•´çš„ã€æœ‰æ„ä¹‰çš„æ•°æ®ï¼Œå¯ä»¥è¢«æµè§ˆå™¨ã€æœåŠ¡å™¨è¿™æ ·çš„ä¸Šå±‚åº”ç”¨ç¨‹åºå¤„ç†ã€‚</li>
</ul>
</li>
<li>è¶…æ–‡æœ¬ï¼šæ–‡å­—ã€å›¾ç‰‡ã€éŸ³é¢‘å’Œè§†é¢‘ç­‰çš„æ··åˆä½“ï¼Œæœ€å…³é”®çš„æ˜¯å«æœ‰â€œè¶…é“¾æ¥â€ï¼Œèƒ½å¤Ÿä»ä¸€ä¸ªâ€œè¶…æ–‡æœ¬â€è·³è·ƒåˆ°å¦ä¸€ä¸ªâ€œè¶…æ–‡æœ¬â€ï¼Œå½¢æˆå¤æ‚çš„éçº¿æ€§ã€ç½‘çŠ¶çš„ç»“æ„å…³ç³»ã€‚</li>
</ul>
</li>
<li>æ€»ç»“ï¼š<strong>HTTP æ˜¯ä¸€ä¸ªåœ¨è®¡ç®—æœºä¸–ç•Œé‡Œä¸“é—¨åœ¨ä¸¤ç‚¹ä¹‹é—´ä¼ è¾“æ–‡å­—ã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰è¶…æ–‡æœ¬æ•°æ®çš„çº¦å®šå’Œè§„èŒƒ</strong></li>
</ul>
<h3 id="HTTPä¸æ˜¯ï¼Ÿ"><a href="#HTTPä¸æ˜¯ï¼Ÿ" class="headerlink" title="HTTPä¸æ˜¯ï¼Ÿ"></a>HTTPä¸æ˜¯ï¼Ÿ</h3><ul>
<li><strong>ä¸å­˜åœ¨â€œå•ç‹¬çš„å®ä½“â€</strong>ï¼Œä½† HTTP åˆä¸åº”ç”¨ç¨‹åºã€æ“ä½œç³»ç»Ÿã€Web æœåŠ¡å™¨å¯†åˆ‡ç›¸å…³ï¼Œåœ¨å®ƒä»¬ä¹‹é—´çš„é€šä¿¡è¿‡ç¨‹ä¸­å­˜åœ¨ï¼Œè€Œä¸”æ˜¯ä¸€ç§â€œåŠ¨æ€çš„å­˜åœ¨â€ï¼Œæ˜¯å‘ç”Ÿåœ¨ç½‘ç»œè¿æ¥ã€ä¼ è¾“è¶…æ–‡æœ¬æ•°æ®æ—¶çš„ä¸€ä¸ªâ€œåŠ¨æ€è¿‡ç¨‹â€ã€‚</li>
<li><strong>HTTP ä¸æ˜¯äº’è”ç½‘</strong><ul>
<li>äº’è”ç½‘ï¼ˆInternetï¼‰æ˜¯éå¸ƒäºå…¨çƒçš„è®¸å¤šç½‘ç»œäº’ç›¸è¿æ¥è€Œå½¢æˆçš„ä¸€ä¸ªå·¨å¤§çš„å›½é™…ç½‘ç»œï¼Œåœ¨å®ƒä¸Šé¢å­˜æ”¾ç€å„å¼å„æ ·çš„èµ„æºï¼Œä¹Ÿå¯¹åº”ç€å„å¼å„æ ·çš„åè®®ï¼Œä¾‹å¦‚è¶…æ–‡æœ¬èµ„æºä½¿ç”¨ HTTPï¼Œæ™®é€šæ–‡ä»¶ä½¿ç”¨ FTPï¼Œç”µå­é‚®ä»¶ä½¿ç”¨ SMTP å’Œ POP3 ç­‰ã€‚</li>
</ul>
</li>
<li><strong>HTTP ä¸æ˜¯ç¼–ç¨‹è¯­è¨€</strong><ul>
<li>ç¼–ç¨‹è¯­è¨€æ˜¯äººä¸è®¡ç®—æœºæ²Ÿé€šäº¤æµæ‰€ä½¿ç”¨çš„è¯­è¨€ï¼Œè€Œ HTTP æ˜¯è®¡ç®—æœºä¸è®¡ç®—æœºæ²Ÿé€šäº¤æµçš„è¯­è¨€</li>
<li>æ— æ³•ä½¿ç”¨ HTTP æ¥ç¼–ç¨‹ï¼Œä½†å¯ä»¥åè¿‡æ¥ï¼Œç”¨ç¼–ç¨‹è¯­è¨€å»å®ç° HTTPï¼Œå‘Šè¯‰è®¡ç®—æœºå¦‚ä½•ç”¨ HTTP æ¥ä¸å¤–ç•Œé€šä¿¡</li>
</ul>
</li>
<li><strong>HTTP ä¸æ˜¯ç”¨äºä»äº’è”ç½‘æœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨çš„åè®®</strong><ul>
<li>è¿‡äºç‰‡é¢ï¼ŒHTTP å‘ç”Ÿåœ¨ä¸¤ç‚¹ä¹‹é—´ï¼Œå³æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¸æ˜¯åªåŒ…æ‹¬æœ¬åœ°æµè§ˆå™¨ï¼ŒæœåŠ¡å™¨ä¹Ÿå¯ä»¥ä½œä¸ºå®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¹Ÿä¸ä»…ä»…åªæœ‰æµè§ˆå™¨ï¼Œè¿˜å¯ä»¥æœ‰ Appã€å°ç¨‹åºï¼Œæµè§ˆå™¨åªèƒ½ä½œä¸ºå®¢æˆ·ç«¯</li>
</ul>
</li>
<li><strong>HTTP ä¸æ˜¯ä¸€ä¸ªå­¤ç«‹çš„åè®®</strong><ul>
<li>HTTP é€šå¸¸è·‘åœ¨ TCP/IP åè®®æ ˆä¹‹ä¸Šï¼Œä¾é  IP åè®®å®ç°å¯»å€å’Œè·¯ç”±ã€TCP åè®®å®ç°å¯é æ•°æ®ä¼ è¾“ã€DNS åè®®å®ç°åŸŸåæŸ¥æ‰¾ã€SSL/TLS åè®®å®ç°å®‰å…¨é€šä¿¡</li>
<li>è¿˜æœ‰ä¸€äº›åè®®ä¾èµ–äº HTTPï¼Œä¾‹å¦‚ WebSocketã€HTTPDNS ç­‰</li>
</ul>
</li>
<li>æ€»ç»“ï¼š<strong>HTTP æ˜¯æ„å»ºäº’è”ç½‘çš„é‡è¦åŸºç¡€æŠ€æœ¯ï¼Œå®ƒæ²¡æœ‰å®ä½“ï¼Œä¾èµ–è®¸å¤šå…¶ä»–çš„æŠ€æœ¯æ¥å®ç°ï¼Œä½†åŒæ—¶è®¸å¤šæŠ€æœ¯ä¹Ÿéƒ½ä¾èµ–äºå®ƒã€‚</strong></li>
</ul>
<h2 id="Domain"><a href="#Domain" class="headerlink" title="Domain"></a>Domain</h2><h3 id="Domain-å½¢å¼"><a href="#Domain-å½¢å¼" class="headerlink" title="Domain å½¢å¼"></a>Domain å½¢å¼</h3><ul>
<li>åŸŸåæ˜¯ä¸€ä¸ªæœ‰å±‚æ¬¡çš„ç»“æ„ï¼Œæ˜¯ä¸€ä¸²ç”¨â€œ.â€åˆ†éš”çš„å¤šä¸ªå•è¯ï¼Œæœ€å³è¾¹çš„è¢«ç§°ä¸ºâ€œé¡¶çº§åŸŸåâ€ï¼Œç„¶åæ˜¯â€œäºŒçº§åŸŸåâ€ï¼Œå±‚çº§å…³ç³»å‘å·¦ä¾æ¬¡é™ä½ã€‚</li>
<li>æœ¬è´¨ä¸Šè¿˜æ˜¯ä¸ªåå­—ç©ºé—´ç³»ç»Ÿ</li>
</ul>
<h3 id="DNS-Domain-Name-System"><a href="#DNS-Domain-Name-System" class="headerlink" title="DNS Domain Name System"></a>DNS Domain Name System</h3><ul>
<li>å°±åƒ IP åœ°å€å¿…é¡»è½¬æ¢æˆ MAC åœ°å€æ‰èƒ½è®¿é—®ä¸»æœºä¸€æ ·ï¼ŒåŸŸåä¹Ÿå¿…é¡»è¦è½¬æ¢æˆ IP åœ°å€ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯â€œåŸŸåè§£æâ€ã€‚</li>
<li>DNS ä½¿ç”¨ TCP å’Œ UDP ç«¯å£53</li>
<li>DNS çš„æ ¸å¿ƒç³»ç»Ÿæ˜¯ä¸€ä¸ªä¸‰å±‚çš„æ ‘çŠ¶ã€åˆ†å¸ƒå¼æœåŠ¡ï¼ŒåŸºæœ¬å¯¹åº”åŸŸåçš„ç»“æ„ï¼š<ul>
<li>æ ¹åŸŸåæœåŠ¡å™¨ï¼ˆRoot DNS Serverï¼‰ï¼šç®¡ç†é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼Œè¿”å›â€œcomâ€â€œnetâ€â€œcnâ€ç­‰é¡¶çº§åŸŸåæœåŠ¡å™¨çš„ IP åœ°å€<ul>
<li>å…¨ä¸–ç•Œå…±æœ‰ 13 ç»„æ ¹åŸŸåæœåŠ¡å™¨ï¼Œåˆæœ‰æ•°ç™¾å°çš„é•œåƒï¼Œä¿è¯ä¸€å®šèƒ½å¤Ÿè¢«è®¿é—®åˆ°</li>
</ul>
</li>
<li>çº§åŸŸåæœåŠ¡å™¨ï¼ˆTop-level DNS Serverï¼‰ï¼šç®¡ç†å„è‡ªåŸŸåä¸‹çš„æƒå¨åŸŸåæœåŠ¡å™¨ï¼Œæ¯”å¦‚ com é¡¶çº§åŸŸåæœåŠ¡å™¨å¯ä»¥è¿”å› apple.com åŸŸåæœåŠ¡å™¨çš„ IP åœ°å€</li>
<li>æƒå¨åŸŸåæœåŠ¡å™¨ï¼ˆAuthoritative DNS Serverï¼‰ï¼šç®¡ç†è‡ªå·±åŸŸåä¸‹ä¸»æœºçš„ IP åœ°å€ï¼Œæ¯”å¦‚ apple.com æƒå¨åŸŸåæœåŠ¡å™¨å¯ä»¥è¿”å› <a href="http://www.apple.com" target="_blank" rel="noopener">www.apple.com</a> çš„ IP åœ°å€</li>
<li><img src="http://p0.meituan.net/myvideodistribute/5ac55ff4d8109df28c9afb3fbfc27208625512.png" alt="DNS ä¸‰å±‚çš„æ ‘çŠ¶"></li>
</ul>
</li>
<li>æ‰€ä»¥æˆ‘ä»¬è®¿é—® <a href="https://ele-peng.github.io/" target="_blank" rel="noopener">https://ele-peng.github.io/</a> å°±éœ€è¦è¿›è¡Œä¸‹é¢çš„ä¸‰æ¬¡æŸ¥è¯¢<ul>
<li>è®¿é—®æ ¹åŸŸåæœåŠ¡å™¨ï¼Œå®ƒä¼šå‘Šè¯‰ä½  â€œioâ€ é¡¶çº§åŸŸåæœåŠ¡å™¨çš„åœ°å€</li>
<li>è®¿é—® â€œioâ€ é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼Œå®ƒå†å‘Šè¯‰ä½  â€œgithub.ioâ€ åŸŸåæœåŠ¡å™¨çš„åœ°å€</li>
<li>æœ€åè®¿é—® â€œgithub.ioâ€ åŸŸåæœåŠ¡å™¨ï¼Œå°±å¾—åˆ°äº† â€œele-peng.github.ioâ€ çš„åœ°å€</li>
</ul>
</li>
<li>DNS æ˜¯ä¸€ä¸ªæ ‘çŠ¶çš„åˆ†å¸ƒå¼æŸ¥è¯¢ç³»ç»Ÿï¼Œä¸ºäº†æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œå¤–å›´æœ‰å¤šçº§çš„ç¼“å­˜ï¼ˆéæƒå¨åŸŸåæœåŠ¡å™¨ã€æ“ä½œç³»ç»Ÿç¼“å­˜å’Œ hosts æ–‡ä»¶ç­‰æ‰‹æ®µï¼‰ç”¨æ¥å‡è½»åŸŸåè§£æçš„å‹åŠ›ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ›´å¿«åœ°è·å–ç»“æœï¼ŒåŸºæœ¬æ€è·¯éƒ½æ˜¯<strong>â€œç¼“å­˜â€</strong><ul>
<li>è®¸å¤šå¤§å…¬å¸ã€ç½‘ç»œè¿è¡Œå•†éƒ½ä¼šå»ºç«‹è‡ªå·±çš„ DNS æœåŠ¡å™¨ï¼Œä½œä¸ºç”¨æˆ· DNS æŸ¥è¯¢çš„ä»£ç†ï¼Œä»£æ›¿ç”¨æˆ·è®¿é—®æ ¸å¿ƒ DNS ç³»ç»Ÿã€‚è¿™äº›â€œé‡ç”Ÿâ€æœåŠ¡å™¨è¢«ç§°ä¸ºâ€œéæƒå¨åŸŸåæœåŠ¡å™¨â€ï¼Œå¯ä»¥ç¼“å­˜ä¹‹å‰çš„æŸ¥è¯¢ç»“æœï¼Œå¦‚æœå·²ç»æœ‰äº†è®°å½•ï¼Œå°±æ— éœ€å†å‘æ ¹æœåŠ¡å™¨å‘èµ·æŸ¥è¯¢ï¼Œç›´æ¥è¿”å›å¯¹åº”çš„ IP åœ°å€<ul>
<li>è¿™äº› DNS æœåŠ¡å™¨çš„æ•°é‡è¦æ¯”æ ¸å¿ƒç³»ç»Ÿçš„æœåŠ¡å™¨å¤šå¾ˆå¤šï¼Œè€Œä¸”å¤§å¤šéƒ¨ç½²åœ¨ç¦»ç”¨æˆ·å¾ˆè¿‘çš„åœ°æ–¹ã€‚æ¯”è¾ƒçŸ¥åçš„ DNS æœ‰ Google çš„â€œ8.8.8.8â€ï¼ŒMicrosoft çš„â€œ4.2.2.1â€ï¼Œè¿˜æœ‰ CloudFlare çš„â€œ1.1.1.1â€ç­‰ç­‰ã€‚</li>
</ul>
</li>
<li>å…¶æ¬¡ï¼Œæ“ä½œç³»ç»Ÿé‡Œä¹Ÿä¼šå¯¹ DNS è§£æç»“æœåšç¼“å­˜ï¼Œå¦‚æœä½ ä¹‹å‰è®¿é—®è¿‡â€œele-peng.github.ioâ€ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡åœ¨æµè§ˆå™¨é‡Œå†è¾“å…¥è¿™ä¸ªç½‘å€çš„æ—¶å€™å°±ä¸ä¼šå†è·‘åˆ° DNS é‚£é‡Œå»é—®äº†ï¼Œç›´æ¥åœ¨æ“ä½œç³»ç»Ÿé‡Œå°±å¯ä»¥æ‹¿åˆ° IP åœ°å€</li>
<li>å¦å¤–ï¼Œæ“ä½œç³»ç»Ÿé‡Œè¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„â€œä¸»æœºæ˜ å°„â€æ–‡ä»¶</li>
</ul>
</li>
<li>å‡å¦‚è®¿é—® www.ä¸å­˜åœ¨.com <ul>
<li>www.ä¸å­˜åœ¨.com -&gt; Hosts æ–‡ä»¶ -&gt; æ“ä½œç³»ç»Ÿæœ¬åœ°ç¼“å­˜ -&gt; éæƒå¨åŸŸåæœåŠ¡å™¨æŸ¥è¯¢å…¶ç¼“å­˜ -&gt; æŸ¥è¯¢æ ¹åŸŸåã€é¡¶çº§åŸŸåã€ä»¥åŠåŸŸåæœåŠ¡å™¨ï¼Œå½“åé¢çš„æŸ¥è¯¢å¾—åˆ°ç»“æœæ—¶ï¼Œå°†ä¼šå†™å…¥æœ¬åœ°ç¼“å­˜</li>
</ul>
</li>
<li>ç°åœ¨çš„ DNS æ¶æ„<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/3ba7d376ea3f43fcb761deeb78932622389661.png" alt="ç°åœ¨çš„ DNS æ¶æ„"></li>
</ul>
</li>
<li><strong>ä½¿ç”¨ DNS å¯ä»¥å®ç°åŸºäºåŸŸåçš„è´Ÿè½½å‡è¡¡ï¼Œæ—¢å¯ä»¥åœ¨å†…ç½‘ï¼Œä¹Ÿå¯ä»¥åœ¨å¤–ç½‘</strong></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>å­¦è€Œä¸æ€åˆ™ç½” äº’å‹‰</li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript-convertStringToNumber</title>
    <url>/2020/04/24/convertStringToNumber/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>ç®€å•è®°å½•ä¸€ä¸‹ï¼ŒJavascript parseInt+parseFloat å†…éƒ¨å®ç°ï¼Œå¹¶å®ç° convertStringToNumber</li>
</ul>
<a id="more"></a>

<h2 id="å®è·µå‡†å¤‡"><a href="#å®è·µå‡†å¤‡" class="headerlink" title="å®è·µå‡†å¤‡"></a>å®è·µå‡†å¤‡</h2><ul>
<li>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç®€å•æ¢³ç†ä¸€ä¸‹æˆ‘ä»¬çš„å®ç°è¿‡ç¨‹ï¼Œå†æ ¹æ® <a href="https://www.ecma-international.org/publications/standards/Ecma-262.htm" target="_blank" rel="noopener">ECMAScript-262</a> æ ‡å‡†å®Œå–„å®ç°</li>
<li>input: @params: { str } è¾“å…¥éœ€è¦è½¬æ¢çš„å­—ç¬¦ä¸², { radix } è½¬æ¢çš„æŒ‡å®šåŸºæ•°</li>
<li>å¯¹ input çš„ç®€å•å¤„ç† StringNumericLiteral<ul>
<li>è§„æ ¼åŒ– str</li>
<li><img src="http://p0.meituan.net/myvideodistribute/6f4d129d30fe4d0b45743d72da9760ca14615.png" alt="StringNumericLiteral BNF"><ul>
<li>å°† str ä¸­å¯èƒ½å‡ºç°çš„ StrWhiteSpace å»æ‰<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/3ab76a2ee0627ddeeec42e093ae8307717214.png" alt="StrWhiteSpace BNF"><ul>
<li><img src="http://p0.meituan.net/myvideodistribute/d9ba181d676994f053ba3ba067279cf48592.png" alt="LineTerminator BNF"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>åˆ¤æ–­ radix æ˜¯å¦åˆæ³•ï¼Œä»…æ”¯æŒ Decimal / BinaryInteger / OctalInteger / HexInteger radix<ul>
<li>Decimal: 10</li>
<li>BinaryInteger: 2</li>
<li>OctalInteger: 8</li>
<li>HexInteger: 16</li>
</ul>
</li>
</ul>
</li>
<li>ç®€å•ç®—æ³•å¤„ç†è¿‡ç¨‹<ul>
<li>åè¿›åˆ¶æ•°<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/dbb89c490f4cbe92ce1e7b1025912cde51542.png" alt="StrDecimalLiteral BNF"></li>
<li>å¤„ç† Infinity æƒ…å†µ</li>
<li>ç¬¦å·ä½å¤„ç†</li>
<li>å°æ•°ç‚¹</li>
<li>ç§‘å­¦è®¡æ•°æ³•</li>
</ul>
</li>
<li>äºŒè¿›åˆ¶æ•°<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/f12e98da62b6529c1d3781a6c1dc36a86760.png" alt="BinaryInteger"></li>
</ul>
</li>
<li>å…«è¿›åˆ¶æ•°<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/e11bf633f8350bb17f761b719762ed038371.png" alt="OctalInteger"></li>
</ul>
</li>
<li>åå…­è¿›åˆ¶æ•°<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/274e704676b7d52093ac555c4b43f61013946.png" alt="HexInteger"></li>
</ul>
</li>
</ul>
</li>
<li>output: return number</li>
</ul>
<h2 id="è¯¦ç»†å®è·µ"><a href="#è¯¦ç»†å®è·µ" class="headerlink" title="è¯¦ç»†å®è·µ"></a>è¯¦ç»†å®è·µ</h2><ul>
<li>æ ¹æ®ä¸Šé¢çš„å®è·µå‡†å¤‡</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @params: &#123; str &#125; è¾“å…¥éœ€è¦è½¬æ¢çš„å­—ç¬¦ä¸², &#123; radix &#125; è½¬æ¢çš„æŒ‡å®šåŸºæ•°</span></span><br><span class="line"><span class="comment">* return: number</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convertStringToNumber</span>(<span class="params">str, radix</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> noWhiteSpaceStr = replaceWhiteSpaceInStr(str) <span class="comment">/** å°† str ä¸­çš„ whitespace è¿›è¡ŒåŒ¹é… */</span></span><br><span class="line">  <span class="keyword">const</span> checkedRadixStr = formatStrByRadix(str, radix) <span class="comment">/** å°† str æ ¹æ®æŒ‡å®šåŸºæ•°è¿›è¡Œè½¬æ¢ */</span></span><br><span class="line">  <span class="keyword">let</span> resNum = <span class="number">0</span></span><br><span class="line">  <span class="keyword">switch</span> (radix) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">      resNum = converStringToDeciaml(str) <span class="comment">/** å°† str è½¬æˆåè¿›åˆ¶ */</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">      resNum = converStringToBinaryInteger(str) <span class="comment">/** å°† str è½¬æˆäºŒè¿›åˆ¶*/</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">      resNum = converStringToOctalInteger(str) <span class="comment">/** å°† str è½¬æˆå…«è¿›åˆ¶*/</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">16</span>:</span><br><span class="line">      resNum = converStringToHexIntegers(str) <span class="comment">/** å°† str è½¬æˆåå…­è¿›åˆ¶*/</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">NaN</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> resNum</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>å°† str ä¸­çš„ whitespace è¿›è¡ŒåŒ¹é…</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @params: &#123; str &#125; è¾“å…¥éœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">* return: resStr æ—  whitespace å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replaceWhiteSpaceInStr</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> resStr = str.replace(<span class="regexp">/\s*/g</span>, <span class="string">''</span>) <span class="comment">// å»é™¤ç©ºæ ¼</span></span><br><span class="line">  <span class="comment">// resStr = resStr.replace(/^[\u000A|\u000D|\u2028|\u2029]/g, '') // å»é™¤ LineTerminator unicodeè¾“å…¥æ–¹å¼</span></span><br><span class="line">  resStr =  resStr.replace(<span class="regexp">/[\r|\n]/g</span>, <span class="string">''</span>) <span class="comment">// å»é™¤æ¢è¡Œ</span></span><br><span class="line">  <span class="keyword">return</span> resStr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å•å…ƒæµ‹è¯•<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/a70fa86dd4d8261537f8cbf5c0e5bc2c71147.png" alt="å•å…ƒæµ‹è¯•æˆªå›¾"></li>
</ul>
</li>
</ul>
</li>
<li><p>å°† str æ ¹æ®æŒ‡å®šåŸºæ•°è¿›è¡Œè½¬æ¢</p>
<ul>
<li><p><a href="https://ele-peng.github.io/2020/04/20/Reg-Number/" target="_blank" rel="noopener">æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… Number å­—é¢é‡</a></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @params: &#123; str &#125; è¾“å…¥éœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸², &#123; radix &#125; è½¬æ¢çš„æŒ‡å®šåŸºæ•°</span></span><br><span class="line"><span class="comment">* return: resStr æ ¹æ®æŒ‡å®šåŸºæ•°è½¬æ¢è¿‡å¾—å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formatStrByRadix</span>(<span class="params">str, radix</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> resStr = <span class="string">''</span></span><br><span class="line">  <span class="keyword">let</span> testReg = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">switch</span> (radix) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">      testReg = <span class="regexp">/^((0)|([1-9][0-9]*))?.?([0-9]*)((e|E)?(\+|\-)?([0-9]*))?/</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">      <span class="comment">// æ ¹æ® ECMA-262 æ˜¯ /^0(b|B)(0|1)+$/</span></span><br><span class="line">      <span class="comment">// ä½†æ˜¯æˆ‘åœ¨ Chrome æµè§ˆå™¨ä¸Šæµ‹äº†ï¼ŒäºŒè¿›åˆ¶æ²¡æœ‰ 'b' or 'B'</span></span><br><span class="line">      testReg = <span class="regexp">/^(0|1)+/</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">      <span class="comment">// æ ¹æ® ECMA-262 æ˜¯ /^0(O|o)[0-7]+$/</span></span><br><span class="line">      <span class="comment">// ä½†æ˜¯æˆ‘åœ¨ Chrome æµè§ˆå™¨ä¸Šæµ‹äº†ï¼ŒäºŒè¿›åˆ¶æ²¡æœ‰ 'o' or 'O'</span></span><br><span class="line">      testReg = <span class="regexp">/^[0-7]+/</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">16</span>:</span><br><span class="line">      <span class="comment">// æ ¹æ® ECMA-262 æ˜¯ /^0(x|X)([0-9a-fA-F])+/</span></span><br><span class="line">      <span class="comment">// ä½†æ˜¯æˆ‘åœ¨ Chrome æµè§ˆå™¨è‡ªæµ‹ä¸­å‘ç°ï¼Œæ²¡æœ‰è¡¨ç¤ºç¬¦ 'x' or 'X'ä¹Ÿå¯</span></span><br><span class="line">      testReg = <span class="regexp">/^0(x|X)?([0-9a-fA-F])+/</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`radix: <span class="subst">$&#123;radix&#125;</span>, str:  <span class="subst">$&#123;str&#125;</span> illegal radix`</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  resStr = (testReg.exec(str) &amp;&amp; testReg.exec(str)[<span class="string">'0'</span>]) || <span class="string">'convert fail'</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`radix: <span class="subst">$&#123;radix&#125;</span>, <span class="subst">$&#123;str&#125;</span> --&gt; resStr: `</span>, resStr)</span><br><span class="line">&#125;</span><br><span class="line">formatStrByRadix(<span class="string">'001010101'</span>, <span class="number">3</span>)</span><br><span class="line">formatStrByRadix(<span class="string">'001010101'</span>, <span class="number">2</span>)</span><br><span class="line">formatStrByRadix(<span class="string">'001010101'</span>, <span class="number">8</span>)</span><br><span class="line">formatStrByRadix(<span class="string">'0b01010101'</span>, <span class="number">2</span>)</span><br><span class="line">formatStrByRadix(<span class="string">'012345677'</span>, <span class="number">8</span>)</span><br><span class="line">formatStrByRadix(<span class="string">'012345677'</span>, <span class="number">2</span>)</span><br><span class="line">formatStrByRadix(<span class="string">'0o12345677'</span>, <span class="number">8</span>)</span><br><span class="line">formatStrByRadix(<span class="string">'1.01E+23'</span>, <span class="number">10</span>)</span><br><span class="line">formatStrByRadix(<span class="string">'.012345677'</span>, <span class="number">10</span>)</span><br><span class="line">formatStrByRadix(<span class="string">'.012345677'</span>, <span class="number">10</span>)</span><br><span class="line">formatStrByRadix(<span class="string">'0123acfACF'</span>, <span class="number">16</span>)</span><br><span class="line">formatStrByRadix(<span class="string">'0x123acfACF'</span>, <span class="number">16</span>)</span><br><span class="line">formatStrByRadix(<span class="string">'0x123acfACFG'</span>, <span class="number">16</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>å•å…ƒæµ‹è¯•</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/ff9d3e6a3cd279427f8873f91911290774369.png" alt="å•å…ƒæµ‹è¯•"></li>
</ul>
</li>
</ul>
</li>
<li><p>æ ¹æ®æŒ‡å®šåŸºæ•°è¿›è¡Œç›¸åº”ç®—æ³•è½¬æ¢</p>
<ul>
<li><p>äºŒè¿›åˆ¶ï¼š</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å°† str è½¬æˆäºŒè¿›åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">converStringToBinaryInteger</span>(<span class="params">str, radix</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> strMultipleRadix(str, radix)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @params: &#123; str &#125; è¾“å…¥éœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸², &#123; radix &#125; è½¬æ¢çš„æŒ‡å®šåŸºæ•°</span></span><br><span class="line"><span class="comment">* return: resStr ä¹˜ä»¥æŒ‡å®šåŸºæ•°è½¬æ¢è¿‡å¾—å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strMultipleRadix</span>(<span class="params">str, radix</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> tempStrArr = str.split(<span class="string">''</span>)</span><br><span class="line">  <span class="keyword">let</span> res = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = tempStrArr.length - <span class="number">1</span>; i &gt; <span class="number">0</span>; i --) &#123;</span><br><span class="line">    res += (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'0'</span>.codePointAt(<span class="number">0</span>)) * <span class="built_in">Math</span>.pow(radix, tempStrArr.length - i - <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line">converStringToBinaryInteger(<span class="string">'001010101'</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>å•å…ƒæµ‹è¯•<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/5f3f3d1a2d0851eddaa1e258a182831864745.png" alt="å•å…ƒæµ‹è¯•æˆªå›¾"></li>
</ul>
</li>
</ul>
</li>
<li><p>å…«è¿›åˆ¶</p>
<ul>
<li><p>åŒä¸Š</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å°† str è½¬æˆå…«è¿›åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">converStringToBinaryInteger</span>(<span class="params">str, radix</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> strMultipleRadix(str, radix)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @params: &#123; str &#125; è¾“å…¥éœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸², &#123; radix &#125; è½¬æ¢çš„æŒ‡å®šåŸºæ•°</span></span><br><span class="line"><span class="comment">* return: resStr ä¹˜ä»¥æŒ‡å®šåŸºæ•°è½¬æ¢è¿‡å¾—å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strMultipleRadix</span>(<span class="params">str, radix</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> tempStrArr = str.split(<span class="string">''</span>)</span><br><span class="line">  <span class="keyword">let</span> res = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = tempStrArr.length - <span class="number">1</span>; i &gt; <span class="number">0</span>; i --) &#123;</span><br><span class="line">    res += (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'0'</span>.codePointAt(<span class="number">0</span>)) * <span class="built_in">Math</span>.pow(radix, tempStrArr.length - i - <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line">converStringToBinaryInteger(<span class="string">'001010101'</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>å•å…ƒæµ‹è¯•</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/e9db13d824513d4e72509cd571f90dc069034.png" alt="å•å…ƒæµ‹è¯•æˆªå›¾"></li>
</ul>
</li>
</ul>
</li>
<li><p>åå…­è¿›åˆ¶</p>
<ul>
<li><p>éœ€è¦å¯¹ a-f A-F è¿›è¡Œåˆ¤æ–­ï¼Œåˆ«å¿˜äº†+10</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å°† str è½¬æˆåå…­è¿›åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">converStringToBinaryInteger</span>(<span class="params">str, radix</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> strMultipleRadix(str, radix)</span><br><span class="line">&#125;</span><br><span class="line">			</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @params: &#123; str &#125; è¾“å…¥éœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸², &#123; radix &#125; è½¬æ¢çš„æŒ‡å®šåŸºæ•°</span></span><br><span class="line"><span class="comment">* return: resStr ä¹˜ä»¥æŒ‡å®šåŸºæ•°è½¬æ¢è¿‡å¾—å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strMultipleRadix</span>(<span class="params">str, radix</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> tempStrArr = str.split(<span class="string">''</span>)</span><br><span class="line">  <span class="keyword">let</span> res = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = tempStrArr.length - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">if</span> (radix === <span class="number">16</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> ((tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'0'</span>.codePointAt(<span class="number">0</span>) &gt;= <span class="number">0</span>) &amp;&amp; (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'0'</span>.codePointAt(<span class="number">0</span>) &lt; <span class="number">10</span>)) &#123;</span><br><span class="line">        res += (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'0'</span>.codePointAt(<span class="number">0</span>)) * <span class="built_in">Math</span>.pow(radix, tempStrArr.length - i - <span class="number">1</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'a'</span>.codePointAt(<span class="number">0</span>) &gt;= <span class="number">0</span>) &amp;&amp; (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'a'</span>.codePointAt(<span class="number">0</span>) &lt; <span class="number">6</span>)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'(tempStrArr[i].codePointAt(0)a'</span>, tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'a'</span>.codePointAt(<span class="number">0</span>))</span><br><span class="line">        res += (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'a'</span>.codePointAt(<span class="number">0</span>) + <span class="number">10</span>) * <span class="built_in">Math</span>.pow(radix, tempStrArr.length - i - <span class="number">1</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'A'</span>.codePointAt(<span class="number">0</span>) &gt;= <span class="number">0</span>) &amp;&amp; (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'A'</span>.codePointAt(<span class="number">0</span>) &lt; <span class="number">6</span>)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'(tempStrArr[i].codePointAt(0)A'</span>, tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'A'</span>.codePointAt(<span class="number">0</span>))</span><br><span class="line">        res += (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'A'</span>.codePointAt(<span class="number">0</span>) + <span class="number">10</span>) * <span class="built_in">Math</span>.pow(radix, tempStrArr.length - i - <span class="number">1</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res += (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'0'</span>.codePointAt(<span class="number">0</span>)) * <span class="built_in">Math</span>.pow(radix, tempStrArr.length - i - <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(converStringToBinaryInteger(<span class="string">'001010101'</span>, <span class="number">16</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToBinaryInteger(<span class="string">'00101acfAFF'</span>, <span class="number">16</span>))</span><br></pre></td></tr></table></figure></li>
<li><p>å•å…ƒæµ‹è¯•</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/e2e319f170fe2334f7b589cfc0f77b06205824.png" alt="å•å…ƒæµ‹è¯•æˆªå›¾"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>æœ€ç»ˆäºŒ/å…«/åå…­è¿›åˆ¶æ ¹æ®æŒ‡å®šåŸºæ•°è¿›è¡Œç›¸åº”ç®—æ³•è½¬æ¢æ–¹æ³•ä¸ºï¼š</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @params: &#123; str &#125; è¾“å…¥éœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸², &#123; radix &#125; è½¬æ¢çš„æŒ‡å®šåŸºæ•°</span></span><br><span class="line"><span class="comment"> * return: resStr ä¹˜ä»¥æŒ‡å®šåŸºæ•°è½¬æ¢è¿‡å¾—å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">strMultipleRadix</span>(<span class="params">str, radix</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">let</span> tempStrArr = str.split(<span class="string">''</span>)</span><br><span class="line">   <span class="keyword">let</span> res = <span class="number">0</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">let</span> i = tempStrArr.length - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">     <span class="keyword">if</span> (radix === <span class="number">16</span>) &#123;</span><br><span class="line">       <span class="keyword">if</span> ((tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'0'</span>.codePointAt(<span class="number">0</span>) &gt;= <span class="number">0</span>) &amp;&amp; (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'0'</span>.codePointAt(<span class="number">0</span>) &lt; <span class="number">10</span>)) &#123;</span><br><span class="line">         res += (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'0'</span>.codePointAt(<span class="number">0</span>)) * <span class="built_in">Math</span>.pow(radix, tempStrArr.length - i - <span class="number">1</span>)</span><br><span class="line">       &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'a'</span>.codePointAt(<span class="number">0</span>) &gt;= <span class="number">0</span>) &amp;&amp; (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'a'</span>.codePointAt(<span class="number">0</span>) &lt; <span class="number">6</span>)) &#123;</span><br><span class="line">         res += (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'a'</span>.codePointAt(<span class="number">0</span>) + <span class="number">10</span>) * <span class="built_in">Math</span>.pow(radix, tempStrArr.length - i - <span class="number">1</span>)</span><br><span class="line">       &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'A'</span>.codePointAt(<span class="number">0</span>) &gt;= <span class="number">0</span>) &amp;&amp; (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'A'</span>.codePointAt(<span class="number">0</span>) &lt; <span class="number">6</span>)) &#123;</span><br><span class="line">         res += (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'A'</span>.codePointAt(<span class="number">0</span>) + <span class="number">10</span>) * <span class="built_in">Math</span>.pow(radix, tempStrArr.length - i - <span class="number">1</span>)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       res += (tempStrArr[i].codePointAt(<span class="number">0</span>) - <span class="string">'0'</span>.codePointAt(<span class="number">0</span>)) * <span class="built_in">Math</span>.pow(radix, tempStrArr.length - i - <span class="number">1</span>)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> res</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="è½¬æ¢æˆåè¿›åˆ¶"><a href="#è½¬æ¢æˆåè¿›åˆ¶" class="headerlink" title="è½¬æ¢æˆåè¿›åˆ¶"></a>è½¬æ¢æˆåè¿›åˆ¶</h3></li>
<li><p>å®è·µæ€è·¯</p>
<ol>
<li>åˆ¤æ–­æ­£è´Ÿç¬¦å·ä½</li>
<li>åˆ¤æ–­æ˜¯å¦ä¸º Infinity</li>
<li>åˆ¤æ–­æ˜¯å¦ä¸º æ•´æ•°<ol>
<li>æ•´æ•°<ol>
<li>æ˜¯å¦ä¸ºç§‘å­¦è®¡æ•°æ³•è¡¨ç¤º<ol>
<li>æ˜¯ï¼Œé€šè¿‡æŒ‡æ•°ä½ç½®åˆ†æˆä¸¤éƒ¨åˆ†ï¼šæ•´æ•°éƒ¨åˆ†+æŒ‡æ•°éƒ¨åˆ†</li>
<li>å¦ï¼Œåªéœ€å¤„ç†æ•´æ•°éƒ¨åˆ†</li>
</ol>
</li>
</ol>
</li>
<li>å°æ•°<ol>
<li>æ˜¯å¦ä¸ºç§‘å­¦è®¡æ•°æ³•è¡¨ç¤º<ol>
<li>æ˜¯ï¼Œé€šè¿‡åˆ†å‰²æˆå°æ•°ç‚¹åˆ°æŒ‡æ•°ï¼Œåˆ†æˆä¸‰éƒ¨åˆ†ï¼šæ•´æ•°éƒ¨åˆ†+å°æ•°éƒ¨åˆ†+æŒ‡æ•°éƒ¨åˆ†</li>
<li>å¦ï¼Œé€šè¿‡å°æ•°ç‚¹ä½ç½®ï¼Œåˆ†æˆä¸¤éƒ¨åˆ†ï¼šæ•´æ•°éƒ¨åˆ†+å°æ•°éƒ¨åˆ†</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p>ä»£ç å¤§è‡´ä¸ºï¼š</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">converStringToDeciaml</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// console.log('str-=-=--=-==-=', str)</span></span><br><span class="line">  <span class="keyword">const</span> sign = getSign(str)</span><br><span class="line">  <span class="keyword">const</span> strFormatBySign = formatStrBySign(str)</span><br><span class="line">  <span class="keyword">if</span> (isInfinity(strFormatBySign)) <span class="keyword">return</span> (<span class="number">1</span> / <span class="number">0</span>) * sign <span class="comment">// å¦‚æœä¸º Inifity,ä¹˜ä»¥ç¬¦å·ä½è¾“å‡ºInfinity</span></span><br><span class="line">  <span class="keyword">const</span> numberObject = splitStr(strFormatBySign)</span><br><span class="line">  <span class="keyword">const</span> &#123;int, float, exponentSign, exponent&#125; = numberObject</span><br><span class="line">  <span class="comment">// console.log('numberObject', numberObject)</span></span><br><span class="line">  <span class="keyword">const</span> resInt = calculateInt(int) <span class="comment">// è®¡ç®—æ•´æ•°éƒ¨åˆ†</span></span><br><span class="line">  <span class="comment">// console.log('resInt', resInt)</span></span><br><span class="line">  <span class="keyword">const</span> resFloat = calculateFloat(float) <span class="comment">// è®¡ç®—å°æ•°éƒ¨åˆ†</span></span><br><span class="line">  <span class="comment">// console.log('resFloat', resFloat)</span></span><br><span class="line">  <span class="keyword">const</span> resExponent = calculateExponent(resInt, resFloat, exponentSign, exponent) <span class="comment">// è®¡ç®—ï¼ˆæ•´æ•°+å°æ•°ï¼‰*  æŒ‡æ•°éƒ¨åˆ†</span></span><br><span class="line">  <span class="keyword">const</span> res = sign * resExponent <span class="comment">// æœ€åä¹˜ä»¥ç¬¦å·ä½</span></span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ¤æ–­æ­£è´Ÿï¼Œå¹¶æ ¹æ®ç¬¦å·ä½æ ¼å¼åŒ–å­—ç¬¦ä¸²"><a href="#åˆ¤æ–­æ­£è´Ÿï¼Œå¹¶æ ¹æ®ç¬¦å·ä½æ ¼å¼åŒ–å­—ç¬¦ä¸²" class="headerlink" title="åˆ¤æ–­æ­£è´Ÿï¼Œå¹¶æ ¹æ®ç¬¦å·ä½æ ¼å¼åŒ–å­—ç¬¦ä¸²"></a>åˆ¤æ–­æ­£è´Ÿï¼Œå¹¶æ ¹æ®ç¬¦å·ä½æ ¼å¼åŒ–å­—ç¬¦ä¸²</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// è·å–ç¬¦å·ä½</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSign</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å¦‚æœSçš„é¦–å­—ç¬¦ä¸º'-'</span></span><br><span class="line">  <span class="keyword">if</span>(str.indexOf(<span class="string">'-'</span>) == <span class="number">0</span>) &#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ ¹æ®ç¬¦å·ä½æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆç§»é™¤å­—ç¬¦å·ä½ï¼‰"><a href="#æ ¹æ®ç¬¦å·ä½æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆç§»é™¤å­—ç¬¦å·ä½ï¼‰" class="headerlink" title="æ ¹æ®ç¬¦å·ä½æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆç§»é™¤å­—ç¬¦å·ä½ï¼‰"></a>æ ¹æ®ç¬¦å·ä½æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆç§»é™¤å­—ç¬¦å·ä½ï¼‰</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ®ç¬¦å·ä½æ ¼å¼åŒ–å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formatStrBySign</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å¦‚æœ str çš„é¦–å­—ç¬¦ä¸ºâ€˜+â€™æˆ–'-'ï¼Œåˆ™ç§»é™¤é¦–å­—ç¬¦</span></span><br><span class="line">  <span class="keyword">if</span> (str.indexOf(<span class="string">'-'</span>) == <span class="number">0</span> || str.indexOf(<span class="string">'+'</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">    str = str.substring(<span class="number">1</span>, str.length)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ¤æ–­æ˜¯å¦ä¸ºInfinity"><a href="#åˆ¤æ–­æ˜¯å¦ä¸ºInfinity" class="headerlink" title="åˆ¤æ–­æ˜¯å¦ä¸ºInfinity"></a>åˆ¤æ–­æ˜¯å¦ä¸ºInfinity</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ˜¯å¦ä¸º Infinity</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isInfinity</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> testReg = <span class="regexp">/^Infinity/</span></span><br><span class="line">  <span class="keyword">let</span> resReg = testReg.exec(str)</span><br><span class="line">  <span class="keyword">return</span> resReg &amp;&amp; resReg[<span class="number">0</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ‡å‰²å­—ç¬¦ä¸²ï¼Œåˆ†æˆæ•´æ•°-å°æ•°-æŒ‡æ•°ä½ç¬¦å·-æŒ‡æ•°éƒ¨åˆ†"><a href="#åˆ‡å‰²å­—ç¬¦ä¸²ï¼Œåˆ†æˆæ•´æ•°-å°æ•°-æŒ‡æ•°ä½ç¬¦å·-æŒ‡æ•°éƒ¨åˆ†" class="headerlink" title="åˆ‡å‰²å­—ç¬¦ä¸²ï¼Œåˆ†æˆæ•´æ•°+å°æ•°+æŒ‡æ•°ä½ç¬¦å·+æŒ‡æ•°éƒ¨åˆ†"></a>åˆ‡å‰²å­—ç¬¦ä¸²ï¼Œåˆ†æˆæ•´æ•°+å°æ•°+æŒ‡æ•°ä½ç¬¦å·+æŒ‡æ•°éƒ¨åˆ†</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ‡å‰²å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @params: &#123; str &#125; è¾“å…¥éœ€è¦åˆ‡å‰²çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">* return: res: Object &#123;</span></span><br><span class="line"><span class="comment">*   int: æ•´æ•°ä½,</span></span><br><span class="line"><span class="comment">*   float: å°æ•°ä½,</span></span><br><span class="line"><span class="comment">*   exponentSign: æŒ‡æ•°ä½ç¬¦å·,</span></span><br><span class="line"><span class="comment">*   exponent: æŒ‡æ•°ä½</span></span><br><span class="line"><span class="comment">* &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">splitStr</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> testReg = <span class="regexp">/^((0)|([1-9][0-9]*))?.?([0-9]*)(e|E)?((\+|\-)?([0-9]*))?/</span></span><br><span class="line">  <span class="keyword">let</span> resReg = testReg.exec(str)</span><br><span class="line">  <span class="keyword">let</span> res = &#123;</span><br><span class="line">    int: resReg[<span class="string">'1'</span>] || <span class="number">0</span>,</span><br><span class="line">    float: resReg[<span class="string">'4'</span>] || <span class="number">0</span>,</span><br><span class="line">    exponentSign: resReg[<span class="string">'7'</span>] || <span class="string">'+'</span>,</span><br><span class="line">    exponent: resReg[<span class="string">'8'</span>] || <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ•´æ•°éƒ¨åˆ†è¿ç®—"><a href="#æ•´æ•°éƒ¨åˆ†è¿ç®—" class="headerlink" title="æ•´æ•°éƒ¨åˆ†è¿ç®—"></a>æ•´æ•°éƒ¨åˆ†è¿ç®—</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// æ•´æ•°éƒ¨åˆ†è¿ç®—</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculateInt</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> res = <span class="number">0</span></span><br><span class="line">  <span class="keyword">const</span> radix = <span class="number">10</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = str.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    res += (str[i].codePointAt(<span class="number">0</span>) - <span class="string">'0'</span>.codePointAt(<span class="number">0</span>)) * <span class="built_in">Math</span>.pow(radix, str.length - i - <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="å°æ•°éƒ¨åˆ†è¿ç®—"><a href="#å°æ•°éƒ¨åˆ†è¿ç®—" class="headerlink" title="å°æ•°éƒ¨åˆ†è¿ç®—"></a>å°æ•°éƒ¨åˆ†è¿ç®—</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å°æ•°éƒ¨åˆ†è¿ç®—</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculateFloat</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> res = <span class="number">0</span></span><br><span class="line">  <span class="keyword">const</span> radix = <span class="number">10</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; str.length; i++) &#123;</span><br><span class="line">    res += (str[i].codePointAt(<span class="number">0</span>) - <span class="string">'0'</span>.codePointAt(<span class="number">0</span>)) * <span class="built_in">Math</span>.pow(radix, i * <span class="number">-1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="æŒ‡æ•°éƒ¨åˆ†è¿ç®—"><a href="#æŒ‡æ•°éƒ¨åˆ†è¿ç®—" class="headerlink" title="æŒ‡æ•°éƒ¨åˆ†è¿ç®—"></a>æŒ‡æ•°éƒ¨åˆ†è¿ç®—</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// æŒ‡æ•°éƒ¨åˆ†è¿ç®—</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculateExponent</span>(<span class="params">int, float, exponentSign, exponent</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// if (float)</span></span><br><span class="line">  <span class="keyword">let</span> str = int + <span class="number">0.1</span> * float</span><br><span class="line">  <span class="keyword">const</span> radix = <span class="number">10</span></span><br><span class="line">  <span class="keyword">const</span> exponentInt = calculateInt(exponent)</span><br><span class="line">  <span class="keyword">if</span> (exponentSign === <span class="string">'+'</span>) &#123;</span><br><span class="line">    str = str * <span class="built_in">Math</span>.pow(radix, exponentInt)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    str = str * <span class="built_in">Math</span>.pow(radix, exponentInt * <span class="number">-1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// console.log('Math.abs(str)', Math.abs(str) -  Math.floor(str))</span></span><br><span class="line">  <span class="comment">// // console.log('Number.EPSILON', Number.EPSILON)</span></span><br><span class="line">  <span class="comment">// if (Math.abs(str) -  Math.floor(str)) &#123;</span></span><br><span class="line">  <span class="comment">//   return str.toFixed(1)</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">  <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a>å•å…ƒæµ‹è¯•</h4><ul>
<li>æµ‹è¯•ç”¨ä¾‹</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'1.0e+10'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'1.0e+10'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'-1.0e+10'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'-1.0e+10'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'1.012e+10'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'1.012e+10'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'-1.012e+10'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'-1.012e+10'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'.012e+10'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'.012e+10'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'-.012e+10'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'-.012e+10'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'0.12e+10'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'0.12e+10'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'-0.12e+10'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'-0.12e+10'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'1.2e-10'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'1.2e-10'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'-1.2e-10'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'-1.2e-10'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'-1.22'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'-1.22'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'Infinity'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'Infinity'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'Infinity2222'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'Infinity2222'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(converStringToDeciaml(<span class="string">'22Infinity2222'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'parseFloat ç»“æœ'</span>, <span class="built_in">parseFloat</span>(<span class="string">'22Infinity2222'</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure>

<ul>
<li>æµ‹è¯•æˆªå›¾</li>
<li><img src="http://p1.meituan.net/myvideodistribute/f3bc45ab42eea92318ad58711d21a666220332.png" alt="ç¬¬ä¸€éƒ¨åˆ†æµ‹è¯•æˆªå›¾"></li>
<li><img src="http://p1.meituan.net/myvideodistribute/2cf7b8c0ae63f2009cbd77d83dec1e2c176792.png" alt="ç¬¬äºŒéƒ¨åˆ†æµ‹è¯•æˆªå›¾"></li>
</ul>
<h2 id="å¾…è§£å†³é—®é¢˜"><a href="#å¾…è§£å†³é—®é¢˜" class="headerlink" title="å¾…è§£å†³é—®é¢˜"></a>å¾…è§£å†³é—®é¢˜</h2><ul>
<li>æ˜¯çš„ ğŸ˜­ å®ƒçš„æµ®ç‚¹æ•°çš„èˆå…¥ï¼Œæˆ‘æ²¡æœ‰æƒ³åˆ°å¥½çš„æ–¹æ³•ï¼Œå“­å”§å”§</li>
<li><a href="https://github.com/Ele-Peng/Frontend-01-Template/blob/master/week03/convertStringToNumber.html" target="_blank" rel="noopener">ä»£ç åœ°å€</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç­‰æˆ‘æœ‰ç©ºæŠŠåšå®¢è¯„è®ºæä¸€ä¸‹ï¼Œæ¬¢è¿å¤§å®¶æ¥å‘Šè¯‰æˆ‘çš„é—ç•™é—®é¢˜è¯¥æ€ä¹ˆè§£å†³ï¼Œä»¥åŠä½ ä»¬åœ¨å‚è€ƒæˆ‘çš„å®ç°æ—¶ï¼Œæœ‰æµ‹è¯•ç”¨ä¾‹è¿‡ä¸å»çš„åœ°æ–¹ï¼Œä¹Ÿå¯ä»¥è¯„è®ºå‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼˜åŒ–ä»£ç ã€‚</li>
<li>å¤§å®¶ç­‰ä¸åŠçš„è¯ï¼Œå¯ä»¥å»æˆ‘çš„ <a href="https://blog.csdn.net/Elle_Peng/article/details/105748022" target="_blank" rel="noopener">csdn</a> è¯„è®ºå‘Šè¯‰æˆ‘ï¼Œå‘å¾®å°å½­ï¼Œåœ¨çº¿æ±‚è§£</li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>Toy-Browser-DAY2</title>
    <url>/2020/05/15/Toy-Browser-DAY2/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>


<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>implementation of a toy-browser ğŸ™†</li>
<li>DAY1ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆ HTTPç›¸å…³è§£æï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å†™ HTML çš„è§£æå•¦ï¼Œå¼€ä¸å¼€å¿ƒï¼ğŸ˜</li>
<li><img src="http://p1.meituan.net/myvideodistribute/6e1d35dcd8c01b557925f8d799583cb1130452.png" alt="HTML çš„è§£æ"></li>
</ul>
<a id="more"></a>



<h2 id="å®è·µè¿‡ç¨‹"><a href="#å®è·µè¿‡ç¨‹" class="headerlink" title="å®è·µè¿‡ç¨‹"></a>å®è·µè¿‡ç¨‹</h2><h3 id="ç¬¬ä¸€æ­¥ï¼šæ‹†åˆ†æ–‡ä»¶"><a href="#ç¬¬ä¸€æ­¥ï¼šæ‹†åˆ†æ–‡ä»¶" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šæ‹†åˆ†æ–‡ä»¶"></a>ç¬¬ä¸€æ­¥ï¼šæ‹†åˆ†æ–‡ä»¶</h3><ul>
<li>ä¸ºäº†æ–¹ä¾¿æ–‡ä»¶ç®¡ç†ï¼Œæˆ‘ä»¬æŠŠparseå•ç‹¬æ‹†åˆ°æ–‡ä»¶ä¸­</li>
<li>parser æ¥å— HTML æ–‡æœ¬ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€é¢— DOM æ ‘</li>
</ul>
<ul>
<li><p>server.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  ... some code </span><br><span class="line">  </span><br><span class="line">  res.end(</span><br><span class="line">    <span class="string">`&lt;html maaa=a &gt;</span></span><br><span class="line"><span class="string">    &lt;head&gt;</span></span><br><span class="line"><span class="string">        &lt;style&gt;</span></span><br><span class="line"><span class="string">    body div #myid&#123;</span></span><br><span class="line"><span class="string">        width:100px;</span></span><br><span class="line"><span class="string">        background-color: #ff5000;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    body div img&#123;</span></span><br><span class="line"><span class="string">        width:30px;</span></span><br><span class="line"><span class="string">        background-color: #ff1111;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">        &lt;/style&gt;</span></span><br><span class="line"><span class="string">    &lt;/head&gt;</span></span><br><span class="line"><span class="string">    &lt;body&gt;</span></span><br><span class="line"><span class="string">        &lt;div&gt;</span></span><br><span class="line"><span class="string">            &lt;img id="myid"/&gt;</span></span><br><span class="line"><span class="string">            &lt;img /&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/body&gt;</span></span><br><span class="line"><span class="string">    &lt;/html&gt;`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">8088</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>client.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">... some code</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  ... some code</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> dom = parser.parseHTML(response.body)</span><br><span class="line">  </span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>
</li>
<li><p>parseHTML1.js</p>
</li>
</ul>
<pre><code><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ‹†åˆ†æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports.parseHTML = <span class="function"><span class="keyword">function</span> <span class="title">parseHTML</span>(<span class="params">html</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(html)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre><ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/98a64e9c9eb9f97c01b0bb4ccb0141f976175.png" alt="è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h3 id="ç¬¬äºŒæ­¥ï¼šåˆ›å»ºçŠ¶æ€æœº"><a href="#ç¬¬äºŒæ­¥ï¼šåˆ›å»ºçŠ¶æ€æœº" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šåˆ›å»ºçŠ¶æ€æœº"></a>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºçŠ¶æ€æœº</h3><ul>
<li>æˆ‘ä»¬ç”¨ FSM æ¥å®ç° HTML çš„åˆ†æ</li>
<li>åœ¨ HTML æ ‡å‡†ä¸­ï¼Œå·²ç»è§„å®šäº† HTML çš„çŠ¶æ€</li>
<li>Toy-Browser åªæŒ‘é€‰å…¶ä¸­çš„ä¸€éƒ¨åˆ†çŠ¶æ€ï¼Œå®Œæˆä¸€ä¸ªæœ€ç®€ç‰ˆæœ¬</li>
</ul>
<ul>
<li><p>parseHTML2.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆå§‹åŒ– FSM - Finite State Machine</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> EOF = <span class="built_in">Symbol</span>(<span class="string">"EOF"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">data</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports.parseHTML = <span class="function"><span class="keyword">function</span> <span class="title">parseHTML</span>(<span class="params">html</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> state = data</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> html) &#123;</span><br><span class="line">    state = state(c)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  state = state(EOF)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="ç¬¬ä¸‰æ­¥ï¼šè§£ææ ‡ç­¾"><a href="#ç¬¬ä¸‰æ­¥ï¼šè§£ææ ‡ç­¾" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šè§£ææ ‡ç­¾"></a>ç¬¬ä¸‰æ­¥ï¼šè§£ææ ‡ç­¾</h3><ul>
<li><p>ä¸»è¦çš„æ ‡ç­¾æœ‰ï¼šå¼€å§‹æ ‡ç­¾ï¼Œç»“æŸæ ‡ç­¾å’Œè‡ªå°é—­æ ‡ç­¾</p>
</li>
<li><p>åœ¨è¿™ä¸€æ­¥æˆ‘ä»¬æš‚æ—¶å¿½ç•¥å±æ€§</p>
</li>
<li><p>ã€æœªå®Œï¼šçŠ¶æ€å›¾åˆ†æã€‘</p>
</li>
<li><p>parseHTML3.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è§£ææ ‡ç­¾</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> EOF = <span class="built_in">Symbol</span>(<span class="string">"EOF"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">data</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"&lt;"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> tagOpen</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. å¼€å§‹æ ‡ç­¾</span></span><br><span class="line"><span class="comment">// 2. ç»“æŸæ ‡ç­¾</span></span><br><span class="line"><span class="comment">// 3. è‡ªå°é—­æ ‡ç­¾</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagOpen</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123; <span class="comment">// ç»“æŸæ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">return</span> endTagOpen</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123; <span class="comment">// å¼€å§‹æ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">return</span> tagName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">endTagOpen</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> tagName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(char == EOF) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> tagName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> tagName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">beforeAttributeName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"="</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selfClosingStartTag</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"EOF"</span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports.parseHTML = <span class="function"><span class="keyword">function</span> <span class="title">parseHTML</span>(<span class="params">html</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> state = data</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> html) &#123;</span><br><span class="line">    state = state(char)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  state = state(EOF)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="ç¬¬å››æ­¥ï¼šåˆ›å»ºå…ƒç´ "><a href="#ç¬¬å››æ­¥ï¼šåˆ›å»ºå…ƒç´ " class="headerlink" title="ç¬¬å››æ­¥ï¼šåˆ›å»ºå…ƒç´ "></a>ç¬¬å››æ­¥ï¼šåˆ›å»ºå…ƒç´ </h3><ul>
<li><p>åœ¨çŠ¶æ€ä¸­ï¼Œé™¤äº†çŠ¶æ€è¿ç§»ï¼Œæˆ‘ä»¬è¿˜ä¼šè¦åŠ å…¥ä¸šåŠ¡é€»è¾‘</p>
</li>
<li><p>æˆ‘ä»¬åœ¨æ ‡ç­¾ç»“æŸçŠ¶æ€æäº¤æ ‡ç­¾ token</p>
</li>
<li><p>parseHTML4.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// emitToken åˆ›å»ºå…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> currentToken = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">emit</span>(<span class="params">token</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (token.type != <span class="string">"text"</span>) </span><br><span class="line">    <span class="built_in">console</span>.log(token)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> EOF = <span class="built_in">Symbol</span>(<span class="string">"EOF"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">data</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"&lt;"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> tagOpen</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    emit(&#123;</span><br><span class="line">      type: <span class="string">"EOF"</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. å¼€å§‹æ ‡ç­¾</span></span><br><span class="line"><span class="comment">// 2. ç»“æŸæ ‡ç­¾</span></span><br><span class="line"><span class="comment">// 3. è‡ªå°é—­æ ‡ç­¾</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagOpen</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123; <span class="comment">// ç»“æŸæ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">return</span> endTagOpen</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123; <span class="comment">// å¼€å§‹æ ‡ç­¾</span></span><br><span class="line">    currentToken = &#123;</span><br><span class="line">      type: <span class="string">"startTag"</span>,</span><br><span class="line">      tagName: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tagName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">endTagOpen</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123;</span><br><span class="line">    currentToken = &#123;</span><br><span class="line">      type: <span class="string">"endTag"</span>,</span><br><span class="line">      tagName: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tagName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(char == EOF) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123;</span><br><span class="line">    currentToken.tagName += char.toLowerCase()</span><br><span class="line">    <span class="keyword">return</span> tagName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> tagName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">beforeAttributeName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"="</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selfClosingStartTag</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"&gt;"</span> || char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    currentToken.isSelfClosing = <span class="literal">true</span></span><br><span class="line">    currentToken.type = <span class="string">"selfClosingTag"</span></span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"EOF"</span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports.parseHTML = <span class="function"><span class="keyword">function</span> <span class="title">parseHTML</span>(<span class="params">html</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> state = data</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> html) &#123;</span><br><span class="line">    state = state(char)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  state = state(EOF)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/5c4078e02702211bbe87ca75d2044cdb106832.png" alt="ç¬¬å››æ­¥è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h3 id="ç¬¬äº”æ­¥ï¼šå¤„ç†å±æ€§"><a href="#ç¬¬äº”æ­¥ï¼šå¤„ç†å±æ€§" class="headerlink" title="ç¬¬äº”æ­¥ï¼šå¤„ç†å±æ€§"></a>ç¬¬äº”æ­¥ï¼šå¤„ç†å±æ€§</h3><ul>
<li><p>å±æ€§åˆ†ä¸ºå•å¼•å·ã€åŒå¼•å·ã€æ— å¼•å·ä¸‰ç§å†™æ³•ï¼Œå› æ­¤éœ€è¦è¾ƒå¤šçŠ¶æ€å¤„ç†</p>
</li>
<li><p>å¤„ç†å±æ€§çš„æ–¹å¼è·Ÿæ ‡ç­¾ç±»ä¼¼</p>
</li>
<li><p>å±æ€§ç»“æŸæ—¶ï¼Œæˆ‘ä»¬æŠŠå±æ€§åŠ åˆ°æ ‡ç­¾ token ä¸Š</p>
</li>
<li><p>parseHTML5.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¤„ç†å±æ€§ attribute</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> currentToken = <span class="literal">null</span></span><br><span class="line"><span class="keyword">let</span> currentAttribute = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">emit</span>(<span class="params">token</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (token.type != <span class="string">"text"</span>) </span><br><span class="line">    <span class="built_in">console</span>.log(token)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> EOF = <span class="built_in">Symbol</span>(<span class="string">"EOF"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">data</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"&lt;"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> tagOpen</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    emit(&#123;</span><br><span class="line">      type: <span class="string">"EOF"</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    emit(&#123;</span><br><span class="line">      type: <span class="string">"text"</span>,</span><br><span class="line">      content: char</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. å¼€å§‹æ ‡ç­¾</span></span><br><span class="line"><span class="comment">// 2. ç»“æŸæ ‡ç­¾</span></span><br><span class="line"><span class="comment">// 3. è‡ªå°é—­æ ‡ç­¾</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagOpen</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123; <span class="comment">// ç»“æŸæ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">return</span> endTagOpen</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123; <span class="comment">// å¼€å§‹æ ‡ç­¾</span></span><br><span class="line">    currentToken = &#123;</span><br><span class="line">      type: <span class="string">"startTag"</span>,</span><br><span class="line">      tagName: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tagName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">endTagOpen</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123;</span><br><span class="line">    currentToken = &#123;</span><br><span class="line">      type: <span class="string">"endTag"</span>,</span><br><span class="line">      tagName: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tagName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123;</span><br><span class="line">    currentToken.tagName += char.toLowerCase()</span><br><span class="line">    <span class="keyword">return</span> tagName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> tagName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">beforeAttributeName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span> || char == <span class="string">"/"</span> || char == EOF) &#123;</span><br><span class="line">    <span class="keyword">return</span> afterAttributeName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"="</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute = &#123;</span><br><span class="line">      name: <span class="string">""</span>,</span><br><span class="line">      value: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> attributeName(char)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">afterAttributeName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">attributeName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>) || char == <span class="string">"/"</span> || char == <span class="string">"&gt;"</span> || char == EOF) &#123; </span><br><span class="line">    <span class="keyword">return</span> afterAttributeName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"="</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\u0000"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\""</span> || char == <span class="string">"\'"</span> || char == <span class="string">"&lt;"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> attributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute.name += char</span><br><span class="line">    <span class="keyword">return</span> attributeName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">beforeAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>) || char == <span class="string">"/"</span> || char == <span class="string">"&gt;"</span> || char == EOF) &#123; </span><br><span class="line">    <span class="keyword">return</span> beforeAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\""</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> doubleQuotedAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\'"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> singleQuotedAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> UnquotedAttributeValue(char)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doubleQuotedAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"\""</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    <span class="keyword">return</span> afterQuotedAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\u0000"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute.value += char</span><br><span class="line">    <span class="keyword">return</span> doubleQuotedAttributeValue</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">singleQuotedAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"\'"</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    <span class="keyword">return</span> afterQuotedAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\u0000"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute.value += char</span><br><span class="line">    <span class="keyword">return</span> singleQuotedAttributeValue</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">afterQuotedAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char ==<span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UnquotedAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    <span class="comment">// emit(currentToken)</span></span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    <span class="comment">// emit(currentToken)</span></span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\u0000"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\""</span> || char == <span class="string">"\'"</span> || char == <span class="string">"&lt;"</span> || char == <span class="string">"="</span> || char == <span class="string">"`"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute.value += char</span><br><span class="line">    <span class="keyword">return</span> UnquotedAttributeValue</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selfClosingStartTag</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"&gt;"</span> || char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    currentToken.isSelfClosing = <span class="literal">true</span></span><br><span class="line">    currentToken.type = <span class="string">"selfClosingTag"</span></span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"EOF"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports.parseHTML = <span class="function"><span class="keyword">function</span> <span class="title">parseHTML</span>(<span class="params">html</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> state = data</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> html) &#123;</span><br><span class="line">    state = state(char)</span><br><span class="line">    <span class="comment">// console.log(state)</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  state = state(EOF)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/3b45aac402868fe1c62c7d7debbcfd24114412.png" alt="ç¬¬äº”æ­¥è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h3 id="ç¬¬å…­æ­¥ï¼šæ„å»º-DOM-æ ‘"><a href="#ç¬¬å…­æ­¥ï¼šæ„å»º-DOM-æ ‘" class="headerlink" title="ç¬¬å…­æ­¥ï¼šæ„å»º DOM æ ‘"></a>ç¬¬å…­æ­¥ï¼šæ„å»º DOM æ ‘</h3><ul>
<li><p>ä»æ ‡ç­¾åˆ›å»º DOM æ ‘çš„åŸºæœ¬æŠ€å·§æ˜¯ä½¿ç”¨æ ˆ</p>
</li>
<li><p>é‡åˆ°å¼€å§‹æ ‡ç­¾æ—¶åˆ›å»ºå…ƒç´ å¹¶å…¥æ ˆï¼Œé‡åˆ°ç»“æŸæ ‡ç­¾æ—¶å‡ºæ ˆ</p>
</li>
<li><p>è‡ªå°é—­èŠ‚ç‚¹å¯è§†ä¸ºå…¥æ ˆåç«‹åˆ»å‡ºæ ˆ</p>
</li>
<li><p>ä»»ä½•å…ƒç´ çš„çˆ¶å…ƒç´ æ˜¯å®ƒå…¥æ ˆå‰çš„æ ˆé¡¶</p>
</li>
<li><p>parseHTML6.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¤„ç†å±æ€§ constructTree</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> currentToken = <span class="literal">null</span></span><br><span class="line"><span class="keyword">let</span> currentAttribute = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> stack = [&#123;<span class="attr">type</span>: <span class="string">"document"</span>, <span class="attr">children</span>: []&#125;]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">emit</span>(<span class="params">token</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (token.type == <span class="string">"text"</span>) </span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> top = stack[stack.length - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (token.type == <span class="string">"startTag"</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> element = &#123;</span><br><span class="line">      type: <span class="string">"element"</span>,</span><br><span class="line">      children: [],</span><br><span class="line">      attributes: []</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    element.tagName = token.tagName</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> p <span class="keyword">in</span> token) &#123;</span><br><span class="line">      <span class="keyword">if</span> (p != <span class="string">"type"</span> &amp;&amp; p != <span class="string">"tagName"</span>) &#123;</span><br><span class="line">        element.attributes.push(&#123;</span><br><span class="line">          name: p,</span><br><span class="line">          value: token[p]</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    top.children.push(element)</span><br><span class="line">    element.parent = top</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!token.isSelfClosing)</span><br><span class="line">      stack.push(element)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'push'</span>, element)</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (token.type == <span class="string">"endTag"</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (top.tagName != token.tagName) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Tag start end doesn't match"</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'pop'</span>, stack.pop())</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> EOF = <span class="built_in">Symbol</span>(<span class="string">"EOF"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">data</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"&lt;"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> tagOpen</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    emit(&#123;</span><br><span class="line">      type: <span class="string">"EOF"</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    emit(&#123;</span><br><span class="line">      type: <span class="string">"text"</span>,</span><br><span class="line">      content: char</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. å¼€å§‹æ ‡ç­¾</span></span><br><span class="line"><span class="comment">// 2. ç»“æŸæ ‡ç­¾</span></span><br><span class="line"><span class="comment">// 3. è‡ªå°é—­æ ‡ç­¾</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagOpen</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123; <span class="comment">// ç»“æŸæ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">return</span> endTagOpen</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123; <span class="comment">// å¼€å§‹æ ‡ç­¾</span></span><br><span class="line">    currentToken = &#123;</span><br><span class="line">      type: <span class="string">"startTag"</span>,</span><br><span class="line">      tagName: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tagName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">endTagOpen</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123;</span><br><span class="line">    currentToken = &#123;</span><br><span class="line">      type: <span class="string">"endTag"</span>,</span><br><span class="line">      tagName: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tagName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123;</span><br><span class="line">    currentToken.tagName += char.toLowerCase()</span><br><span class="line">    <span class="keyword">return</span> tagName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> tagName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">beforeAttributeName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span> || char == <span class="string">"/"</span> || char == EOF) &#123;</span><br><span class="line">    <span class="keyword">return</span> afterAttributeName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"="</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute = &#123;</span><br><span class="line">      name: <span class="string">""</span>,</span><br><span class="line">      value: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> attributeName(char)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">afterAttributeName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">attributeName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>) || char == <span class="string">"/"</span> || char == <span class="string">"&gt;"</span> || char == EOF) &#123; </span><br><span class="line">    <span class="keyword">return</span> afterAttributeName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"="</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\u0000"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\""</span> || char == <span class="string">"\'"</span> || char == <span class="string">"&lt;"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> attributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute.name += char</span><br><span class="line">    <span class="keyword">return</span> attributeName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">beforeAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>) || char == <span class="string">"/"</span> || char == <span class="string">"&gt;"</span> || char == EOF) &#123; </span><br><span class="line">    <span class="keyword">return</span> beforeAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\""</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> doubleQuotedAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\'"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> singleQuotedAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> UnquotedAttributeValue(char)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doubleQuotedAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"\""</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    <span class="keyword">return</span> afterQuotedAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\u0000"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute.value += char</span><br><span class="line">    <span class="keyword">return</span> doubleQuotedAttributeValue</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">singleQuotedAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"\'"</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    <span class="keyword">return</span> afterQuotedAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\u0000"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute.value += char</span><br><span class="line">    <span class="keyword">return</span> singleQuotedAttributeValue</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">afterQuotedAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char ==<span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UnquotedAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    <span class="comment">// emit(currentToken)</span></span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    <span class="comment">// emit(currentToken)</span></span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\u0000"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\""</span> || char == <span class="string">"\'"</span> || char == <span class="string">"&lt;"</span> || char == <span class="string">"="</span> || char == <span class="string">"`"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute.value += char</span><br><span class="line">    <span class="keyword">return</span> UnquotedAttributeValue</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selfClosingStartTag</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"&gt;"</span> || char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    currentToken.isSelfClosing = <span class="literal">true</span></span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"EOF"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports.parseHTML = <span class="function"><span class="keyword">function</span> <span class="title">parseHTML</span>(<span class="params">html</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> state = data</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> html) &#123;</span><br><span class="line">    state = state(char)</span><br><span class="line">    <span class="comment">// console.log(state)</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  state = state(EOF)</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">console</span>.log(stack)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œç»“æœï¼šè¿™è¾¹æˆ‘åœ¨æ¯æ¬¡å¯¹æ ˆæ“ä½œæ—¶(push/pop)æ—¶ï¼Œæ·»åŠ äº† console</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/f83a95f5afec8c5ad34c8df0a34a6ff8116344.png" alt="ç¬¬å…­æ­¥è¿è¡Œç»“æœ"></li>
</ul>
</li>
<li><p>è¿™è¾¹æ¨èä½¿ç”¨ <a href="https://code.visualstudio.com/docs/editor/debugging" target="_blank" rel="noopener">vs-code debugger ä½¿ç”¨æ–¹æ³•</a></p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/7a4cb0d87ac89cb3a5ae4252c3a5d6a7321211.png" alt="ç¬¬å…­æ­¥è¿è¡Œç»“æœ vscode debugger"></li>
</ul>
</li>
</ul>
<h3 id="ç¬¬ä¸ƒæ­¥ï¼šæ–‡æœ¬èŠ‚ç‚¹"><a href="#ç¬¬ä¸ƒæ­¥ï¼šæ–‡æœ¬èŠ‚ç‚¹" class="headerlink" title="ç¬¬ä¸ƒæ­¥ï¼šæ–‡æœ¬èŠ‚ç‚¹"></a>ç¬¬ä¸ƒæ­¥ï¼šæ–‡æœ¬èŠ‚ç‚¹</h3><ul>
<li><p>æ–‡æœ¬èŠ‚ç‚¹ä¸è‡ªå°é—­æ ‡ç­¾å¤„ç†ç±»ä¼¼</p>
</li>
<li><p>å¤šä¸ªæ–‡æœ¬èŠ‚ç‚¹éœ€è¦åˆå¹¶</p>
</li>
<li><p>parseHTML7.js</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¤„ç†æ–‡æœ¬èŠ‚ç‚¹ combineText</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> currentToken = <span class="literal">null</span></span><br><span class="line"><span class="keyword">let</span> currentAttribute = <span class="literal">null</span></span><br><span class="line"><span class="keyword">let</span> currentTextNode = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> stack = [&#123;<span class="attr">type</span>: <span class="string">"document"</span>, <span class="attr">children</span>: []&#125;]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">emit</span>(<span class="params">token</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> top = stack[stack.length - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (token.type == <span class="string">"startTag"</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> element = &#123;</span><br><span class="line">      type: <span class="string">"element"</span>,</span><br><span class="line">      children: [],</span><br><span class="line">      attributes: []</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    element.tagName = token.tagName</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> p <span class="keyword">in</span> token) &#123;</span><br><span class="line">      <span class="keyword">if</span> (p != <span class="string">"type"</span> &amp;&amp; p != <span class="string">"tagName"</span>) &#123;</span><br><span class="line">        element.attributes.push(&#123;</span><br><span class="line">          name: p,</span><br><span class="line">          value: token[p]</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    top.children.push(element)</span><br><span class="line">    element.parent = top</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!token.isSelfClosing)</span><br><span class="line">      stack.push(element)</span><br><span class="line">    </span><br><span class="line">    currentTextNode = <span class="literal">null</span></span><br><span class="line">    <span class="comment">// console.log('push', element)</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (token.type == <span class="string">"endTag"</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (top.tagName != token.tagName) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Tag start end doesn't match"</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// console.log('pop', stack.pop())</span></span><br><span class="line">      stack.pop()</span><br><span class="line">    &#125;</span><br><span class="line">    currentTextNode = <span class="literal">null</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (token.type == <span class="string">"text"</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (currentTextNode == <span class="literal">null</span>) &#123;</span><br><span class="line">      currentTextNode = &#123;</span><br><span class="line">        type: <span class="string">"text"</span>,</span><br><span class="line">        content: <span class="string">""</span></span><br><span class="line">      &#125;</span><br><span class="line">      top.children.push(currentTextNode)</span><br><span class="line">    &#125;</span><br><span class="line">    currentTextNode.content += token.content</span><br><span class="line">    <span class="comment">// console.log(top.children)</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> EOF = <span class="built_in">Symbol</span>(<span class="string">"EOF"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">data</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"&lt;"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> tagOpen</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    emit(&#123;</span><br><span class="line">      type: <span class="string">"EOF"</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    emit(&#123;</span><br><span class="line">      type: <span class="string">"text"</span>,</span><br><span class="line">      content: char</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. å¼€å§‹æ ‡ç­¾</span></span><br><span class="line"><span class="comment">// 2. ç»“æŸæ ‡ç­¾</span></span><br><span class="line"><span class="comment">// 3. è‡ªå°é—­æ ‡ç­¾</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagOpen</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123; <span class="comment">// ç»“æŸæ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">return</span> endTagOpen</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123; <span class="comment">// å¼€å§‹æ ‡ç­¾</span></span><br><span class="line">    currentToken = &#123;</span><br><span class="line">      type: <span class="string">"startTag"</span>,</span><br><span class="line">      tagName: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tagName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">endTagOpen</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123;</span><br><span class="line">    currentToken = &#123;</span><br><span class="line">      type: <span class="string">"endTag"</span>,</span><br><span class="line">      tagName: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tagName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char.match(<span class="regexp">/^[a-zA-Z]$/</span>)) &#123;</span><br><span class="line">    currentToken.tagName += char.toLowerCase()</span><br><span class="line">    <span class="keyword">return</span> tagName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> tagName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">beforeAttributeName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span> || char == <span class="string">"/"</span> || char == EOF) &#123;</span><br><span class="line">    <span class="keyword">return</span> afterAttributeName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"="</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute = &#123;</span><br><span class="line">      name: <span class="string">""</span>,</span><br><span class="line">      value: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> attributeName(char)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">afterAttributeName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">attributeName</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>) || char == <span class="string">"/"</span> || char == <span class="string">"&gt;"</span> || char == EOF) &#123; </span><br><span class="line">    <span class="keyword">return</span> afterAttributeName(char)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"="</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\u0000"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\""</span> || char == <span class="string">"\'"</span> || char == <span class="string">"&lt;"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> attributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute.name += char</span><br><span class="line">    <span class="keyword">return</span> attributeName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">beforeAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>) || char == <span class="string">"/"</span> || char == <span class="string">"&gt;"</span> || char == EOF) &#123; </span><br><span class="line">    <span class="keyword">return</span> beforeAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\""</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> doubleQuotedAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\'"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> singleQuotedAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> UnquotedAttributeValue(char)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doubleQuotedAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"\""</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    <span class="keyword">return</span> afterQuotedAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\u0000"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute.value += char</span><br><span class="line">    <span class="keyword">return</span> doubleQuotedAttributeValue</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">singleQuotedAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"\'"</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    <span class="keyword">return</span> afterQuotedAttributeValue</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\u0000"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute.value += char</span><br><span class="line">    <span class="keyword">return</span> singleQuotedAttributeValue</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">afterQuotedAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char ==<span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UnquotedAttributeValue</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char.match(<span class="regexp">/^[\t\n\f ]$/</span>)) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    <span class="comment">// emit(currentToken)</span></span><br><span class="line">    <span class="keyword">return</span> beforeAttributeName</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    <span class="comment">// emit(currentToken)</span></span><br><span class="line">    <span class="keyword">return</span> selfClosingStartTag</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"&gt;"</span>) &#123;</span><br><span class="line">    currentToken[currentAttribute.name] = currentAttribute.value</span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\u0000"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"\""</span> || char == <span class="string">"\'"</span> || char == <span class="string">"&lt;"</span> || char == <span class="string">"="</span> || char == <span class="string">"`"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == EOF) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    currentAttribute.value += char</span><br><span class="line">    <span class="keyword">return</span> UnquotedAttributeValue</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selfClosingStartTag</span>(<span class="params">char</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (char == <span class="string">"&gt;"</span> || char == <span class="string">"/"</span>) &#123;</span><br><span class="line">    currentToken.isSelfClosing = <span class="literal">true</span></span><br><span class="line">    emit(currentToken)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">"EOF"</span>) &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// return data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports.parseHTML = <span class="function"><span class="keyword">function</span> <span class="title">parseHTML</span>(<span class="params">html</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> state = data</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> html) &#123;</span><br><span class="line">    state = state(char)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  state = state(EOF)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/1d00a3a9aa02bd2ff5eb52805c38768b345257.png" alt="ç¬¬å…­æ­¥è¿è¡Œç»“æœ vscode debugger"></li>
</ul>
</li>
</ul>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ul>
<li><a href="https://html.spec.whatwg.org/multipage/" target="_blank" rel="noopener">HTML standard docs</a></li>
<li><a href="https://code.visualstudio.com/docs/editor/debugging" target="_blank" rel="noopener">VSCODE debugger</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li><a href="https://github.com/Ele-Peng/toy-browser" target="_blank" rel="noopener">å®Œæ•´ä»£ç åœ°å€-ç‚¹å‡»ä¸€ä¸‹</a></li>
<li>å­¦è€Œä¸æ€åˆ™ç½” äº’å‹‰</li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>æµè§ˆå™¨</category>
      </categories>
      <tags>
        <tag>æµè§ˆå™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€æœªå®Œã€‘Javascript-è¿è¡Œæœºåˆ¶ï¼ˆä¸€ï¼‰</title>
    <url>/2020/04/30/Javascript-%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>äº”ä¸€å‡æœŸï¼Œæ¥å†™ä¸€å†™ Promise çš„é¢˜å§ï¼Œå˜¿å˜¿å˜¿ ğŸ˜ƒ</li>
<li>äº”ä¸€å€’è®¡æ—¶ 3 å¤©</li>
</ul>
<a id="more"></a>

<h2 id="å®è·µå‡†å¤‡"><a href="#å®è·µå‡†å¤‡" class="headerlink" title="å®è·µå‡†å¤‡"></a>å®è·µå‡†å¤‡</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &lt;Foundation&#x2F;Foundation.h&gt;</span><br><span class="line">#import &lt;JavaScriptCore&#x2F;JavaScriptCore.h&gt;</span><br><span class="line"></span><br><span class="line">int main(int argx, const char * argv[]) &#123;</span><br><span class="line">  @autoreleasepool &#123;</span><br><span class="line">    &#x2F;&#x2F; var context &#x3D; new JSContext</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; define a javascript context</span><br><span class="line">    JSContext* context &#x3D; [[JSContext alloc] init];</span><br><span class="line">    &#x2F;&#x2F; like:var result &#x3D; null;</span><br><span class="line">    JSValue* result;</span><br><span class="line">    </span><br><span class="line">    while(true) &#123;</span><br><span class="line">      char sourcecode[1024];</span><br><span class="line">      </span><br><span class="line">      scanf(&#39;%s&#39;, &amp;sourcecode);</span><br><span class="line">      NSString* code &#x3D; [NSString stringWithUTF8String: sourcecode];</span><br><span class="line">      </span><br><span class="line">      result &#x3D; [context evaluateScript:code];</span><br><span class="line">      </span><br><span class="line">      NSLog(@&quot;%@&quot;, [result toString]);</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  return 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚ä¸Šå®ç°ä¸€ä¸ªç®€å•çš„äº‹ä»¶å¾ªç¯ï¼Œç”¨æ¥è¾“å‡º console</li>
<li><img src="http://p1.meituan.net/myvideodistribute/a99619da1cded49f443ded2fc219b27432778.png" alt="OC æ–¹æ³•"></li>
<li>æˆ‘ä»¬åœ¨ Javascript ä¸­è®²çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ã€å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ˜¯ Javascript è°ƒç”¨æ–¹å»ä½¿ç”¨ Javascript çš„ä¸€ç§æ–¹å¼ï¼Œå¦‚æœä»…æ˜¯æ‰§è¡Œä¸€æ®µä»£ç ï¼Œæ˜¯ä¸éœ€è¦äº‹ä»¶å¾ªç¯çš„ã€‚é€šè¿‡è¿™æ®µä»£ç ï¼Œæ˜¯å¯ä»¥çœ‹å‡ºæ¥ï¼ŒJavascript çš„äº‹ä»¶å¾ªç¯ï¼Œæ˜¯åœ¨ JSContext ä¹‹å¤–ï¼Œäº‹ä»¶å¾ªç¯ç›¸å…³çŸ¥è¯†ï¼Œæ—¢ä¸æ˜¯ Javascript å¼•æ“çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿä¸æ˜¯ Javascript è¯­è¨€çš„ä¸€éƒ¨åˆ†ã€‚</li>
<li>code çš„ä¼ å…¥æ–¹å¼<ul>
<li>&lt;script&gt;&lt;/script&gt; æ™®é€šä»£ç ç‰‡æ®µ</li>
<li>&lt;script type=â€moduleâ€&gt;&lt;/script&gt;</li>
<li>å‡½æ•°</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &lt;Foundation&#x2F;Foundation.h&gt;</span><br><span class="line">#import &lt;JavaScriptCore&#x2F;JavaScriptCore.h&gt;</span><br><span class="line"></span><br><span class="line">int main(int argx, const char * argv[]) &#123;</span><br><span class="line">  @autoreleasepool &#123;</span><br><span class="line">    &#x2F;&#x2F; var context &#x3D; new JSContext</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; define a javascript context</span><br><span class="line">    JSContext* context &#x3D; [[JSContext alloc] init];</span><br><span class="line">    &#x2F;&#x2F; like:var result &#x3D; null;</span><br><span class="line">    JSValue* result;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; TODO: calculate the square of arg x</span><br><span class="line">    NSString* code &#x3D; @&quot;(function(x)&#123; return x * x; &#125;)&quot;;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; like: result &#x3D; (function(x)&#123; return x * x; &#125;)</span><br><span class="line">    result &#x3D; [context evaluateScript:code];</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; passing the number 4 into the function</span><br><span class="line">    JSValue* arg1 &#x3D; [JSValue valueWithInt32:4 inContext:context];</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; execute the function with arg of 4</span><br><span class="line">    NSLog(@&quot;%@&quot;, [[result callWithArguments:@[arg1]] toString]);</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  return 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸Šé¢çš„ Object-C ä»£ç ï¼Œå¯ä»¥çœ‹å‡ºæ¥ï¼Œæˆ‘ä»¬æ˜¯å°†ä¸€æ®µä¸€æ®µçš„ä»£ç ï¼Œä¼ å…¥ evaluateScript ä¸­æ‰§è¡Œã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &lt;Foundation&#x2F;Foundation.h&gt;</span><br><span class="line">#import &lt;JavaScriptCore&#x2F;JavaScriptCore.h&gt;</span><br><span class="line"></span><br><span class="line">int main(int argx, const char * argv[]) &#123;</span><br><span class="line">  @autoreleasepool &#123;</span><br><span class="line">    &#x2F;&#x2F; var context &#x3D; new JSContext</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; define a javascript context</span><br><span class="line">    JSContext* context &#x3D; [[JSContext alloc] init];</span><br><span class="line">    &#x2F;&#x2F; like:var result &#x3D; null;</span><br><span class="line">    JSValue* result;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; TODO: calculate the square of arg x</span><br><span class="line">    NSString* code &#x3D; @&quot;new Promise(resolve &#x3D;&gt; resolve()).then(() &#x3D;&gt; this.a &#x3D; 3), function()&#123;return this.a&#125;;&quot;;</span><br><span class="line">        </span><br><span class="line">    result &#x3D; [context evaluateScript:code];</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; like: result();</span><br><span class="line">    NSLog(@&quot;%@&quot;, [[result callWithArguments:@[]] toString]);</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  return 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>evaluateScript å®é™…ä¸Šæ‰§è¡Œä¸¤æ­¥ï¼š</p>
<ol>
<li><p>æ‰§è¡Œæ•´ä¸ªæ–¹æ³•</p>
<blockquote>
<p>new Promise(resolve =&gt; resolve()).then(() =&gt; this.a = 3), function(){return this.a};</p>
</blockquote>
<ul>
<li>é€—å·è¡¨è¾¾å¼ï¼Œæ°¸è¿œè¿”å›åé¢çš„å€¼ï¼Œå¦‚æœè¢«è°ƒç”¨ï¼Œå‰é¢çš„ä¼šè¢«æ‰§è¡Œ</li>
</ul>
</li>
<li><p>æ‰§è¡Œ Promise ä¸­ then åé¢çš„è¯­å¥</p>
</li>
</ol>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/81d945c99778450fd86a710f20355cbc269796.png" alt="evaluateScript"></li>
<li>æœ‰ then ,å¯èƒ½äº§ç”Ÿä¸€ä¸ªå®ä»»åŠ¡é‡Œé¢æœ‰å¤šä¸ªå¾®ä»»åŠ¡çš„æƒ…å†µï¼Œ ä¸€åˆ‡JS ä»£ç éƒ½æ˜¯å¾®ä»»åŠ¡ä¸­æ‰§è¡Œçš„</li>
<li>æ‹¿æµè§ˆå™¨ä¸¾ä¾‹ï¼šsetTimeoutã€setInterval è¿™ç§å…¶å®ä¸æ˜¯ JS è¯­æ³•æœ¬èº«çš„ APIï¼Œæ˜¯ JS çš„å®¿ä¸»æµè§ˆå™¨æä¾›çš„ APIï¼Œ æ‰€ä»¥æ˜¯å®ä»»åŠ¡ã€‚</li>
<li>è€Œ Promise æ˜¯ JS æœ¬èº«è‡ªå¸¦çš„ APIï¼Œè¿™ç§å°±æ˜¯å¾®ä»»åŠ¡ã€‚</li>
</ul>
</li>
<li><p>æ€»ç»“ï¼š<strong>å®¿ä¸»æä¾›çš„æ–¹æ³•æ˜¯å®ä»»åŠ¡ï¼ŒJS è‡ªå¸¦çš„æ˜¯å¾®ä»»åŠ¡</strong></p>
</li>
<li><p><strong>ä»»åŠ¡åˆ—è¡¨åˆ—é‡Œé¢æœ‰å¾ˆå¤šå®ä»»åŠ¡ï¼Œç„¶åæ¯ä¸ªå®ä»»åŠ¡é‡Œé¢æœ‰ä¸€ä¸ªå¾®ä»»åŠ¡åˆ—è¡¨ï¼Œæ¯ä¸ªå®ä»»åŠ¡æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ä¹‹å‰ä¼šæŠŠè‡ªå·±å†…éƒ¨çš„å¾®ä»»åŠ¡æ‰§è¡Œå®Œ</strong></p>
</li>
<li><p><strong>å®ä»»åŠ¡</strong>åŒ…æ‹¬ï¼šscript ã€setTimeoutã€setInterval ã€setImmediate ã€I/O ã€UI renderingã€‚</p>
</li>
<li><p><strong>å¾®ä»»åŠ¡</strong>åŒ…æ‹¬ï¼šMutationObserverã€Promise.then()æˆ–catch()ã€Promiseä¸ºåŸºç¡€å¼€å‘çš„å…¶å®ƒæŠ€æœ¯ï¼Œæ¯”å¦‚fetch APIã€V8çš„åƒåœ¾å›æ”¶è¿‡ç¨‹ã€Nodeç‹¬æœ‰çš„process.nextTickã€‚</p>
</li>
</ul>
<h1 id="Javascript-ç»“æ„åŒ–ç¨‹åºè®¾è®¡åŸºç¡€"><a href="#Javascript-ç»“æ„åŒ–ç¨‹åºè®¾è®¡åŸºç¡€" class="headerlink" title="Javascript ç»“æ„åŒ–ç¨‹åºè®¾è®¡åŸºç¡€"></a>Javascript ç»“æ„åŒ–ç¨‹åºè®¾è®¡åŸºç¡€</h1><h2 id="å®è·µè®°å½•"><a href="#å®è·µè®°å½•" class="headerlink" title="å®è·µè®°å½•"></a>å®è·µè®°å½•</h2><h3 id="åŸºç¡€é¢˜"><a href="#åŸºç¡€é¢˜" class="headerlink" title="åŸºç¡€é¢˜"></a>åŸºç¡€é¢˜</h3><p>1.1 é¢˜ç›®ä¸€</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise1'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'1'</span>, promise1);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æï¼š</p>
<ul>
<li><p>ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆæ‰§è¡Œ new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­ console.log(â€˜promise1â€™)</p>
<blockquote>
<p>console.log(â€˜1â€™, promise1);</p>
</blockquote>
</li>
<li><p>å†æ‰§è¡ŒåŒæ­¥ä»£ç </p>
</li>
<li><p>æ‰§è¡Œå®Œåï¼Œ promise1 ä¸­å¹¶æ²¡æœ‰ resolved, rejectedï¼Œ ä¸€ç›´å¤„åœ¨ pending çš„çŠ¶æ€</p>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/f45e1dbe45d84e46ab2fd24703cad0c521137.png" alt="é¢˜ç›®ä¸€æ‰§è¡Œ"></li>
</ul>
</li>
</ul>
<p>1.2 é¢˜ç›®äºŒ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">  resolve(<span class="string">'success'</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">4</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆæ‰§è¡Œ new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­<ul>
<li>console.log(1);</li>
<li>resolve(â€˜successâ€™) å°† promise ä¸­çš„çŠ¶æ€æ›´æ”¹ä¸º resolvedï¼Œå¹¶ä¿å­˜ä¸‹æ¥</li>
<li>console.log(2);</li>
</ul>
</li>
<li>promise.then å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å†æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»£ç <ul>
<li>console.log(4);</li>
</ul>
</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸” promise ä¸ºresolvedï¼Œæ‰§è¡Œ promise.then<ul>
<li>console.log(3);</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/c31fd6e9ba9c9f9ac4062d6b395706f230745.png" alt="é¢˜ç›®äºŒæ‰§è¡Œ"></li>
</ul>
</li>
</ul>
<p>1.3 é¢˜ç›®ä¸‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">4</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆæ‰§è¡Œ new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­<ul>
<li>console.log(1);</li>
<li>console.log(2);</li>
<li>è¯¥ promise æ²¡æœ‰ resolved, rejected, ä¸€ç›´å¤„åœ¨ pending</li>
</ul>
</li>
<li>promise.then å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å†æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»£ç <ul>
<li>console.log(4);</li>
</ul>
</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä½† promise ä¸ºpendingï¼Œä¸å¯èƒ½æ‰§è¡Œ promise.then ä¸­æ–¹æ³•</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/b6e827ca293c65c261a83a81f1f5411227105.png" alt="é¢˜ç›®ä¸‰æ‰§è¡Œ"></li>
</ul>
</li>
</ul>
<p>1.4 é¢˜ç›®å››</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise1'</span>)</span><br><span class="line">  resolve(<span class="string">'resolve1'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> promise2 = promise1.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'1'</span>, promise1);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'2'</span>, promise2);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆæ‰§è¡Œ new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­<ul>
<li>console.log(â€˜promise1â€™)</li>
<li>resolve(â€˜resolve1â€™) å°† promise ä¸­çš„çŠ¶æ€æ›´æ”¹ä¸º resolvedï¼Œå¹¶ä¿å­˜ä¸‹æ¥</li>
</ul>
</li>
<li>promise1.then å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>promise2 æ˜¯ä¸€ä¸ªæ–°çŠ¶æ€ä¸º pending çš„ Promise</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜1â€™, promise1);<ul>
<li>promise1 ä¸­çŠ¶æ€åœ¨ä¸Šé¢å·²ç»æ›´æ”¹ä¸º resolved</li>
</ul>
</li>
<li>console.log(â€˜2â€™, promise2);<ul>
<li>promise2 ä¸­çŠ¶æ€ä¸ºpending</li>
</ul>
</li>
</ul>
</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ— promise1.then <ul>
<li>console.log(res) <ul>
<li>å…¶ä¸­ promise1.thenï¼Œ promise1 çš„çŠ¶æ€ä¸º resolved</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/f31e7f8db309521b5252143252eaed2551272.png" alt="é¢˜ç›®å››è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>1.5 é¢˜ç›®äº”</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fn = <span class="function"><span class="params">()</span> =&gt;</span> <span class="function">(<span class="params"><span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">  resolve(<span class="string">'success'</span>)</span><br><span class="line">&#125;))</span><br><span class="line">fn().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'start'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»ä¸Šè‡³ä¸‹ï¼Œconst fn = () =&gt; (Promise Object) è¿”å›ä¸€ä¸ª promise å¯¹è±¡</li>
<li>fn()ï¼Œæ‰§è¡Œ fn æ–¹æ³•<ul>
<li>console.log(1);</li>
<li>resolve(â€˜successâ€™) å°† promise ä¸­çš„çŠ¶æ€æ›´æ”¹ä¸º resolvedï¼Œå¹¶ä¿å­˜ä¸‹æ¥</li>
</ul>
</li>
<li>Function.then å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜startâ€™)</li>
</ul>
</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ— Function.then<ul>
<li>console.log(res) å…¶ä¸­ promise çš„çŠ¶æ€ä¸º resolved</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/955895672615c24a4eb671617d8b739829033.png" alt="é¢˜ç›®äº”è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>1.6 é¢˜ç›®å…­</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fn = <span class="function"><span class="params">()</span> =&gt;</span></span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">    resolve(<span class="string">"success"</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"start"</span>);</span><br><span class="line">fn().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»ä¸Šè‡³ä¸‹ï¼Œconst fn = () =&gt; (Promise Object) è¿”å›ä¸€ä¸ª promise å¯¹è±¡</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€œstartâ€);</li>
</ul>
</li>
<li>fn(), æ‰§è¡Œ fn æ–¹æ³•<ul>
<li>console.log(1);</li>
<li>resolve(â€œsuccessâ€); å°† promise ä¸­çš„çŠ¶æ€æ›´æ”¹ä¸º resolvedï¼Œå¹¶ä¿å­˜ä¸‹æ¥</li>
</ul>
</li>
<li>Function.then å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ— Function.then<ul>
<li>console.log(res); å…¶ä¸­ promise çš„çŠ¶æ€ä¸º resolved</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/ccd1a9148be91f5aa24847a0d4e23dfb31837.png" alt="é¢˜ç›®å…­è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h3 id="Promise-ç»“åˆ-setTimeout"><a href="#Promise-ç»“åˆ-setTimeout" class="headerlink" title="Promise ç»“åˆ setTimeout"></a>Promise ç»“åˆ setTimeout</h3><p>2.1 é¢˜ç›®ä¸€</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'start'</span>)</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'time'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'resolve'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'end'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆæ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜startâ€™)</li>
</ul>
</li>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>Promise.resolve().then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜endâ€™)</li>
</ul>
</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ— Promise.resolve().then<ul>
<li>console.log(â€˜resolveâ€™)</li>
</ul>
</li>
<li>ç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ setTimeout â€¦<ul>
<li>console.log(â€˜timeâ€™)</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/4a9c74ab2a26cc16e55ce53f6fb765d630133.png" alt="é¢˜ç›®ä¸€è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>2.2 é¢˜ç›®äºŒ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"timerStart"</span>);</span><br><span class="line">    resolve(<span class="string">"success"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"timerEnd"</span>);</span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">4</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆæ‰§è¡Œ new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­<ul>
<li>console.log(1);</li>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(2);</li>
</ul>
</li>
<li>promise.then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(4);</li>
</ul>
</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ— å…¶ä¸­ promise ä¸­ï¼Œå¹¶æ²¡æœ‰ resolvedã€rejectedï¼Œä¸€ç›´åœ¨ pendingï¼Œä¸å¯èƒ½æ‰§è¡Œ promise.then ä¸­æ–¹æ³•</li>
<li>ç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ setTimeout â€¦</li>
<li>ç¬¬äºŒä¸ªå®ä»»åŠ¡ setTimeout ä»£ç ä»ä¸Šè‡³ä¸‹æ‰§è¡Œ</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€œtimerStartâ€);</li>
<li>resolve(â€œsuccessâ€); å°† promise ä¸­çš„çŠ¶æ€æ›´æ”¹ä¸º resolvedï¼Œå¹¶ä¿å­˜ä¸‹æ¥</li>
<li>console.log(â€œtimerEndâ€);</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/66ea5bbd68d0841ad58cac5ca771625347414.png" alt="é¢˜ç›®äºŒè¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>2.3 é¢˜ç›®ä¸‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'timer1'</span>);</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'timer3'</span>)</span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'timer2'</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'start'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»ä¸Šæ‰§è¡Œ</li>
<li>setTimeout â€¦ åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>setTimeout â€¦ åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜startâ€™)</li>
</ul>
</li>
<li>ç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ setTimeout â€¦</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç  <ul>
<li>console.log(â€˜timer1â€™);</li>
</ul>
</li>
<li>setTimeout â€¦ åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>ç¬¬äºŒä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜timer2â€™)</li>
</ul>
</li>
<li>ç¬¬ä¸‰ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜timer3â€™)</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/b5ab6578c5ba7d8d727a3bf47ba8879033812.png" alt="é¢˜ç›®ä¸‰è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'timer1'</span>);</span><br><span class="line">  <span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'promise'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'timer2'</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'start'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>setTimeout â€¦ åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>setTimeout â€¦ åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜startâ€™)</li>
</ul>
</li>
<li>ç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ setTimeout â€¦</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜timer1â€™);</li>
<li>Promise.resolve().then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ—<ul>
<li>console.log(â€˜promiseâ€™)</li>
</ul>
</li>
</ul>
</li>
<li>ç¬¬äºŒä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ setTimeout â€¦</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜timer2â€™)</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/f65f2aa65848d2e8aaf5c3918509c6e934427.png" alt="é¢˜ç›®ä¸‰è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>2.4 é¢˜ç›®å››</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise1'</span>);</span><br><span class="line">  <span class="keyword">const</span> timer2 = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'timer2'</span>)</span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> timer1 = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'timer1'</span>)</span><br><span class="line">  <span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'promise2'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'start'</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>Promise.resolve().then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç </li>
<li>console.log(â€˜startâ€™);</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç </li>
<li>console.log(â€˜promise1â€™);</li>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>ç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ setTimeout â€¦</li>
<li>console.log(â€˜timer2â€™)</li>
<li>ç¬¬äºŒä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç </li>
<li>console.log(â€˜timer1â€™)</li>
<li>Promise.resolve().then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>console.log(â€˜promise2â€™)</li>
<li>ç¬¬äºŒä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>console.log(â€˜timer2â€™)</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/60a22379f31bb12de055ed83a31aca0b46969.png" alt="é¢˜ç›®å››è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>2.5 é¢˜ç›®äº” ** å­˜åœ¨å’Œä¹‹å‰ä¸€æ ·çš„ï¼Œpromise resolved åï¼ŒçŠ¶æ€ä¸ŠæŠ›è‡³ä¸Šä¸€ä¸ª å®ä»»åŠ¡é˜Ÿåˆ—çš„é—®é¢˜</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'success'</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> promise2 = promise1.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'error!!!'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'promise1'</span>, promise1)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'promise2'</span>, promise2)</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise1'</span>, promise1)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise2'</span>, promise2)</span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>å…ˆæ‰§è¡Œ new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­</li>
<li>setTimout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>promise1.then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜promise1â€™, promise1)<ul>
<li>å…¶ä¸­ promise1 æ²¡æœ‰ resolvedã€rejected,ä¸€ç›´å¤„åœ¨ pending çŠ¶æ€</li>
<li>promise1 Promise {&lt;pending&gt;}</li>
</ul>
</li>
<li>console.log(â€˜promise2â€™, promise2)<ul>
<li>å…¶ä¸­ promise1 ä¸€ç›´å¤„åœ¨ pending çŠ¶æ€ï¼Œç›´æ¥å½±å“åˆ° promise2 ä¹Ÿä¸€ç›´å¤„åœ¨ pending çŠ¶æ€</li>
<li>promise2 Promise {&lt;pending&gt;}</li>
</ul>
</li>
</ul>
</li>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ— promise1.then â€¦<ul>
<li>ç”±äº promise1 ä»å¤„äº pending çŠ¶æ€ï¼Œä¸å¯èƒ½æ‰§è¡Œ promise1.then â€¦</li>
</ul>
</li>
<li>ç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>resolve(â€˜successâ€™) å°† promise1 ä¸­çš„çŠ¶æ€æ›´æ”¹ä¸º resolvedï¼Œå¹¶ä¿å­˜ä¸‹æ¥</li>
<li>ç¬¬äºŒä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜promise1â€™, promise1)<ul>
<li>å…¶ä¸­ promise1 å¤„åœ¨ resolved çŠ¶æ€</li>
<li>promise1 Promise {&lt;resolved&gt;: â€œsuccessâ€}</li>
</ul>
</li>
<li>console.log(â€˜promise2â€™, promise2)<ul>
<li>promise2 Promise {&lt;rejected&gt;: Error: error!!! at &lt;anonymous&gt;:8:9}</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/3ad654d66c66c648a058adf29154d879107368.png" alt="é¢˜ç›®äº”è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>2.6 é¢˜ç›®å…­</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">"success"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"timer1"</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"promise1é‡Œçš„å†…å®¹"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> promise2 = promise1.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"error!!!"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"promise1"</span>, promise1);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"promise2"</span>, promise2);</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"timer2"</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"promise1"</span>, promise1);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"promise2"</span>, promise2);</span><br><span class="line">&#125;, <span class="number">2000</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œï¼Œå…ˆæ‰§è¡Œ new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°</li>
<li>setTimeout å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€œpromise1é‡Œçš„å†…å®¹â€);</li>
</ul>
</li>
<li>promise1.then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€œpromise1â€, promise1);<ul>
<li>å…¶ä¸­ promise1 æ²¡æœ‰ resolvedã€rejected æ‰ï¼Œä¸€ç›´å¤„åœ¨ pending çŠ¶æ€<ul>
<li>promise1 Promise {&lt;pending&gt;}</li>
</ul>
</li>
</ul>
</li>
<li>console.log(â€œpromise2â€, promise2);<ul>
<li>primise1 çš„ pending çŠ¶æ€ï¼Œç›´æ¥å½±å“ promise2 ä¹Ÿå¤„åœ¨ pending çŠ¶æ€<ul>
<li>promise2 Promise {&lt;pending&gt;}</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ— promise1.then â€¦<ul>
<li>ç”±äº promise1 ä»å¤„äº pending çŠ¶æ€ï¼Œä¸å¯èƒ½æ‰§è¡Œ promise1.then â€¦</li>
</ul>
</li>
<li>ç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œç¬¬äºŒä¸ªå®ä»»åŠ¡</li>
<li>resolve(â€œsuccessâ€); å°† promise1 ä¸­çš„çŠ¶æ€æ›´æ”¹ä¸º resolvedï¼Œå¹¶ä¿å­˜ä¸‹æ¥</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€œtimer1â€);</li>
</ul>
</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ— promise1.then â€¦<ul>
<li>throw new Error(â€œerror!!!â€);</li>
</ul>
</li>
<li>ç¬¬äºŒä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡<ul>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€œtimer2â€);</li>
<li>console.log(â€œpromise1â€, promise1);<ul>
<li>å…¶ä¸­ promise1 çš„çŠ¶æ€å·²ç» resloved</li>
<li>promise1 Promise {&lt;resolved&gt;: â€œsuccessâ€}</li>
</ul>
</li>
<li>console.log(â€œpromise2â€, promise2);<ul>
<li>promise2 Promise {&lt;rejected&gt;: Error: error!!! at &lt;anonymous&gt;:8:9}</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/88a197ec5863fcca93b072d3baecf6a0113849.png" alt="é¢˜ç›®å…­è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h3 id="Promise-ä¸­çš„-thenã€catchã€finally"><a href="#Promise-ä¸­çš„-thenã€catchã€finally" class="headerlink" title="Promise ä¸­çš„ thenã€catchã€finally"></a>Promise ä¸­çš„ thenã€catchã€finally</h3><p>3.1 é¢˜ç›®ä¸€</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  resolve(<span class="string">"success1"</span>);</span><br><span class="line">  reject(<span class="string">"error"</span>);</span><br><span class="line">  resolve(<span class="string">"success2"</span>);</span><br><span class="line">&#125;);</span><br><span class="line">promise</span><br><span class="line">.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"then: "</span>, res);</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"catch: "</span>, err);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œï¼Œå…ˆæ‰§è¡Œ new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°<ul>
<li>resolve(â€œsuccess1â€); å°† promise ä¸­çš„çŠ¶æ€æ›´æ”¹ä¸º resolvedï¼Œå¹¶ä¿å­˜ä¸‹æ¥</li>
</ul>
</li>
<li>promise.then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ— promise.then â€¦<ul>
<li>console then:  success1</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/448d9fb1db29ba7e76762f97a9508d1e35386.png" alt="é¢˜ç›®ä¸€è¿è¡Œç»“æœ"></li>
</ul>
</li>
<li><p>ç»“è®º</p>
<ul>
<li><strong>Promiseçš„çŠ¶æ€ä¸€ç»æ”¹å˜å°±ä¸èƒ½å†æ”¹å˜</strong></li>
<li><strong>æ„é€ å‡½æ•°ä¸­çš„ resolve æˆ– reject åªæœ‰ç¬¬ä¸€æ¬¡æ‰§è¡Œæœ‰æ•ˆï¼Œå¤šæ¬¡è°ƒç”¨æ²¡æœ‰ä»»ä½•ä½œç”¨</strong>ã€‚</li>
</ul>
</li>
</ul>
<p>3.2 é¢˜ç›®äºŒ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  reject(<span class="string">"error"</span>);</span><br><span class="line">  resolve(<span class="string">"success2"</span>);</span><br><span class="line">&#125;);</span><br><span class="line">promise</span><br><span class="line">.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"then1: "</span>, res);</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"then2: "</span>, res);</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"catch: "</span>, err);</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"then3: "</span>, res);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œï¼Œå…ˆæ‰§è¡Œ new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°<ul>
<li>reject(â€œerrorâ€); å°† promise ä¸­çš„çŠ¶æ€æ›´æ”¹ä¸º rejectedï¼Œå¹¶ä¿å­˜ä¸‹æ¥</li>
</ul>
</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ— promise.then â€¦</li>
<li>ç”±äº promise çŠ¶æ€ä¸º rejectedï¼Œå› æ­¤è§¦å‘ catch ï¼Œä¸ç®¡ catch è¿æ¥åˆ°å“ªï¼Œéƒ½èƒ½æ•è·ä¸Šå±‚æœªæ•æ‰è¿‡çš„é”™è¯¯<ul>
<li>console.log(â€œcatch: â€œ, err);</li>
<li>return a new promise</li>
</ul>
</li>
<li>ç”±äº æ–°çš„ promise æ²¡æœ‰è¿”å›å€¼ï¼Œå› æ­¤è¿”å› undefined</li>
</ul>
</li>
<li><p>ç»“è®º</p>
<ul>
<li><strong>catchä¸ç®¡è¢«è¿æ¥åˆ°å“ªé‡Œï¼Œéƒ½èƒ½æ•è·ä¸Šå±‚æœªæ•æ‰è¿‡çš„é”™è¯¯</strong></li>
<li>è‡³äº then3 ä¹Ÿä¼šè¢«æ‰§è¡Œï¼Œé‚£æ˜¯å› ä¸º*<em>catch()ä¹Ÿä¼šè¿”å›ä¸€ä¸ª Promise *</em>ï¼Œä¸”ç”±äºè¿™ä¸ª Promise æ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„æ˜¯ undefined ã€‚</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/8523408bd03cb268237e720380e1273d47036.png" alt="é¢˜ç›®äºŒè¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>3.3 é¢˜ç›®ä¸‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve(<span class="number">1</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>promise çŠ¶æ€ä¸º resolved, å› æ­¤è§¦å‘ then<ul>
<li>console.log(res); res â€“&gt; 1</li>
</ul>
</li>
<li>æ²¡æœ‰æŠ¥é”™ï¼Œç•¥è¿‡ catch</li>
<li>è¢« then æ•æ‰<ul>
<li>console.log(2); è¿”å›æ–°çš„ promiseï¼Œ promise è¿”å› resolve(2)</li>
</ul>
</li>
</ul>
</li>
<li><p>ç»“è®º</p>
<ul>
<li><strong>Promise å¯ä»¥é“¾å¼è°ƒç”¨</strong>ï¼Œä¸è¿‡ promise æ¯æ¬¡è°ƒç”¨ .then æˆ–è€… .catch éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ promiseï¼Œä»è€Œå®ç°äº†é“¾å¼è°ƒç”¨, å®ƒå¹¶ä¸åƒä¸€èˆ¬æˆ‘ä»¬ä»»åŠ¡çš„é“¾å¼è°ƒç”¨ä¸€æ · return thisã€‚</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/2ca378bb1952c6fbacc3028024b1b89027624.png" alt="é¢˜ç›®ä¸‰è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>3.4 é¢˜ç›®å››</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.reject(<span class="number">1</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>promise çŠ¶æ€ä¸º rejectedï¼Œå› æ­¤è§¦å‘ catch<ul>
<li>console.log(err); err â€“&gt; 1</li>
<li>return resolve(3)</li>
</ul>
</li>
<li>è¢« then æ•æ‰<ul>
<li>console.log(3) </li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/ed821dfd96ad96250140abdedf581fd930226.png" alt="é¢˜ç›®å››è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>3.5 é¢˜ç›®äº”</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'timer'</span>)</span><br><span class="line">    resolve(<span class="string">'success'</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> start = <span class="built_in">Date</span>.now();</span><br><span class="line">promise.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="built_in">Date</span>.now() - start)</span><br><span class="line">&#125;)</span><br><span class="line">promise.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="built_in">Date</span>.now() - start)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œï¼Œå…ˆæ‰§è¡Œ new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°</li>
<li>setTimeout â€¦ å…¥é˜Ÿå®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>promise.then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>promise.then â€¦ å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­çš„æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå½“å‰å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ— promise.then â€¦</li>
<li>å› ä¸º promise çŠ¶æ€å¹¶æ²¡æœ‰ resolvedã€rejectedï¼Œä¸€ç›´å¤„åœ¨ pendingï¼Œå¹¶ä¸èƒ½è°ƒç”¨ then æ–¹æ³•</li>
<li>åŒä¸Š</li>
<li>ç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œç¬¬äºŒä¸ªå®ä»»åŠ¡ setTimeout â€¦</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>console.log(â€˜timerâ€™)</li>
<li>promise çŠ¶æ€æ›´æ”¹ä¸º resolvedï¼Œå¹¶ä¿å­˜ä¸‹æ¥<ul>
<li>çŠ¶æ€å¾€ä¸ŠæŠ›</li>
<li>console.log(res, Date.now() - start)</li>
<li>console.log(res, Date.now() - start))</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>ç»“è®º</p>
<ul>
<li><strong>Promise çš„ .then æˆ–è€… .catch å¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡ï¼Œä½†è¿™é‡Œ Promise æ„é€ å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚æˆ–è€…è¯´ promise å†…éƒ¨çŠ¶æ€ä¸€ç»æ”¹å˜ï¼Œå¹¶ä¸”æœ‰äº†ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆåç»­æ¯æ¬¡è°ƒç”¨ .then æˆ–è€… .catch éƒ½ä¼šç›´æ¥æ‹¿åˆ°è¯¥å€¼ã€‚</strong></li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/9ee74ca562f7c913d51c9fd5fe60680543896.png" alt="é¢˜ç›®äº”è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>3.6 é¢˜ç›®å…­</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'error!!!'</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"then: "</span>, res)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"catch: "</span>, err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>promise çŠ¶æ€æ›´æ”¹ä¸º resolveï¼Œå¹¶æ— è¿”å›å€¼</li>
<li>æ‰§è¡Œ then<ul>
<li>throw new Error(â€˜error!!!â€™)</li>
<li>return Promise.reject(new Error(â€˜error!!!â€™))</li>
</ul>
</li>
<li>è¢« catch æ•æ‰<ul>
<li>console.log(â€œcatch: â€œ, err) err â€“&gt; error</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/a1cb4e4f5e5ec95e2215d5b7ecc6a32428525.png" alt="é¢˜ç›®å…­è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>3.7 é¢˜ç›®ä¸ƒ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> promise;</span><br><span class="line">&#125;)</span><br><span class="line">promise.catch(<span class="built_in">console</span>.err)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>promise çŠ¶æ€æ”¹å˜ä¸º resolve ï¼Œå¹¶æ— è¿”å›å€¼</li>
<li>æ‰§è¡Œ then<ul>
<li>return Promise.resolve(promise)</li>
<li>Chaining cycle detected for promise</li>
</ul>
</li>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç <ul>
<li>promise.catch promise cycle</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/70dbed986bad1d410ad7be3de8fe963d21008.png" alt="é¢˜ç›®ä¸ƒè¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>3.8 é¢˜ç›®å…«</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve(<span class="number">1</span>)</span><br><span class="line">  .then(<span class="number">2</span>)</span><br><span class="line">  .then(<span class="built_in">Promise</span>.resolve(<span class="number">3</span>))</span><br><span class="line">  .then(<span class="built_in">console</span>.log)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>promise çŠ¶æ€æ”¹å˜ä¸º resolveï¼Œ return Promise.resolve(1)</li>
<li>.then æˆ–è€… .catch çš„å‚æ•°æœŸæœ›æ˜¯å‡½æ•°ï¼Œä¼ å…¥éå‡½æ•°åˆ™ä¼šå‘ç”Ÿå€¼é€ä¼ </li>
<li>ç¬¬ä¸€ä¸ªthenå’Œç¬¬äºŒä¸ªthenä¸­ä¼ å…¥çš„éƒ½ä¸æ˜¯å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯æ•°å­—ç±»å‹ï¼Œä¸€ä¸ªæ˜¯å¯¹è±¡ç±»å‹ï¼Œå› æ­¤å‘ç”Ÿäº†é€ä¼ ï¼Œå°†resolve(1) çš„å€¼ç›´æ¥ä¼ åˆ°æœ€åä¸€ä¸ªthené‡Œ</li>
</ul>
</li>
<li><p>ç»“è®º</p>
<ul>
<li><strong>.then æˆ–è€… .catch çš„å‚æ•°æœŸæœ›æ˜¯å‡½æ•°ï¼Œä¼ å…¥éå‡½æ•°åˆ™ä¼šå‘ç”Ÿå€¼é€ä¼ </strong></li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/68c56ed26f2845300ecba0dc6dc7a3e914382.png" alt="é¢˜ç›®å…«è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>3.9 é¢˜ç›®ä¹</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.reject(<span class="string">'err!!!'</span>)</span><br><span class="line">  .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'success'</span>, res)</span><br><span class="line">  &#125;, (err) =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'error'</span>, err)</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'catch'</span>, err)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æˆ‘ä»¬å¯ä»¥å…ˆæ¥çœ‹çœ‹ï¼Œå¦‚æœ catch ä½äº†é”™è¯¯ï¼Œerr ä¼šä¸€ç›´é“¾å¼ä¼ é€’ä¸‹å»è¢« catchå˜›</p>
</li>
<li><p><img src="http://p1.meituan.net/myvideodistribute/f9859062c1341e2e575f952e320aba4222620.png" alt="æ˜¯å¦ä¼šè¢«ä¸€ç›´catch"></p>
<ul>
<li>ä¸€æ—¦ catch ä½å½“å‰æŠ¥é”™ï¼Œå½“å‰æŠ¥é”™å¹¶ä¸ä¼šå†å¾€ä¸‹ä¼ é€’</li>
</ul>
</li>
<li><p><img src="http://p1.meituan.net/myvideodistribute/9846287852a98f322045973bf302c58f24992.png" alt="é€è¡Œè°ƒç”¨catchæ˜¯ä¼šä¸€ç›´ä¼ é€’ä¸‹å»çš„"></p>
<ul>
<li>é€è¡Œè°ƒç”¨ then æ˜¯ä¼šä¸€ç›´ä¼ é€’ä¸‹å»çš„</li>
</ul>
</li>
<li><p>é‚£æˆ‘è¿˜å¯ä»¥çœ‹çœ‹ï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œres ä¼šä¸€ç›´é“¾å¼ä¼ é€’ then æ‰§è¡Œå˜›</p>
</li>
<li><p><img src="http://p1.meituan.net/myvideodistribute/e2e72158c05ceee7da7528ff9a20348426425.png" alt="æ˜¯å¦ä¼šè¢«ä¸€ç›´then"></p>
<ul>
<li>å¯ä»¥çœ‹å‡º then æ˜¯ä¼šä¸€ç›´å¾€ä¸‹ä¼ é€’çš„</li>
</ul>
</li>
<li><p><img src="http://p0.meituan.net/myvideodistribute/abb8ccf3daffdd023ce079c86cafdfd626377.png" alt="é€è¡Œè°ƒç”¨then æ˜¯ä¼šä¸€ç›´ä¼ é€’ä¸‹å»çš„"></p>
<ul>
<li>é€è¡Œè°ƒç”¨ then æ˜¯ä¼šä¸€ç›´ä¼ é€’ä¸‹å»çš„</li>
</ul>
</li>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>promise çŠ¶æ€æ”¹å˜ä¸º rejectedï¼Œreturn â€˜err!!!â€™</li>
<li>æ‰§è¡Œ thenï¼Œthen ä¸­ç¬¬äºŒä¸ªå‡½æ•°ï¼Œç›¸å½“äº catch</li>
<li>å› æ­¤æ‰§è¡Œ</li>
<li>console.log(â€˜errorâ€™, err) err â€“&gt; err!!!</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/05e3b86caaf2b9cbf0c6326020e3385327546.png" alt="é¢˜ç›®ä¹è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve()</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> <span class="title">success</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'error!!!'</span>)</span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span> <span class="title">fail1</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'fail1'</span>, err)</span><br><span class="line">  &#125;).catch(<span class="function"><span class="keyword">function</span> <span class="title">fail2</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'fail2'</span>, err)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>promise çŠ¶æ€å˜ä¸º resolveï¼Œ</li>
<li>æ‰§è¡Œ then<ul>
<li>throw new Error(â€˜error!!!â€™)</li>
</ul>
</li>
<li>è¢« catch <ul>
<li>console.log(â€˜fail2â€™, err) err â€“&gt; error!!!</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/c8643d8fb0fd251145befd28d635ed7e33265.png" alt="è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>3.10 é¢˜ç›®å</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve(<span class="string">'1'</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">  &#125;)</span><br><span class="line">  .finally(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'finally'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="built_in">Promise</span>.resolve(<span class="string">'2'</span>)</span><br><span class="line">  .finally(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'finally2'</span>)</span><br><span class="line">  	<span class="keyword">return</span> <span class="string">'æˆ‘æ˜¯finally2è¿”å›çš„å€¼'</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'finally2åé¢çš„thenå‡½æ•°'</span>, res)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>promise çŠ¶æ€å˜ä¸º resolveï¼Œreturn 1</li>
<li>æ‰§è¡Œ then<ul>
<li>console.log(res) res â€“&gt; return new Promiseï¼Œ resolve(1) åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
</li>
<li>promise çŠ¶æ€å˜ä¸º resolve, return 2<ul>
<li>æ‰§è¡Œ finally<ul>
<li>console.log(â€˜finally2â€™)</li>
<li>return new Promiseï¼Œ resolve(â€˜æˆ‘æ˜¯finally2è¿”å›çš„å€¼â€™) åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
</li>
</ul>
</li>
<li>å½“å‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹è¿˜è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—<ul>
<li>console.log(â€˜finallyâ€™)</li>
<li>console.log(â€˜finally2åé¢çš„thenå‡½æ•°â€™, res) res â€“&gt; 2</li>
</ul>
</li>
</ul>
</li>
<li><p>ç»“è®º</p>
<ul>
<li>.finally()æ–¹æ³•ä¸ç®¡Promiseå¯¹è±¡æœ€åçš„çŠ¶æ€å¦‚ä½•éƒ½ä¼šæ‰§è¡Œ</li>
<li>.finally()æ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸æ¥å—ä»»ä½•çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ åœ¨.finally()å‡½æ•°ä¸­æ˜¯æ²¡æ³•çŸ¥é“Promiseæœ€ç»ˆçš„çŠ¶æ€æ˜¯resolvedè¿˜æ˜¯rejectedçš„</li>
<li>å®ƒæœ€ç»ˆè¿”å›çš„é»˜è®¤ä¼šæ˜¯ä¸€ä¸ª<strong>ä¸Šä¸€æ¬¡çš„Promiseå¯¹è±¡å€¼</strong>ï¼Œä¸è¿‡å¦‚æœæŠ›å‡ºçš„æ˜¯ä¸€ä¸ªå¼‚å¸¸åˆ™è¿”å›å¼‚å¸¸çš„Promiseå¯¹è±¡ã€‚</li>
<li><strong>promise æ¯æ¬¡è°ƒç”¨ .then æˆ–è€… .catch éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ promiseï¼Œä»è€Œå®ç°äº†é“¾å¼è°ƒç”¨</strong> </li>
</ul>
</li>
</ul>
<ul>
<li>è¿è¡Œç»“æœ<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/99d8936b8c5029a6786b464868666f7d47917.png" alt="é¢˜ç›®åè¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<h3 id="Promise-ä¸­çš„-all-å’Œ-race"><a href="#Promise-ä¸­çš„-all-å’Œ-race" class="headerlink" title="Promise ä¸­çš„ all å’Œ race"></a>Promise ä¸­çš„ all å’Œ race</h3><ul>
<li>Promise.all(iterable) æ–¹æ³•è¿”å›ä¸€ä¸ª Promise å®ä¾‹ï¼Œæ­¤å®ä¾‹åœ¨ iterable å‚æ•°å†…æ‰€æœ‰çš„ promise éƒ½â€œå®Œæˆï¼ˆresolvedï¼‰â€æˆ–å‚æ•°ä¸­ä¸åŒ…å« promise æ—¶å›è°ƒå®Œæˆï¼ˆresolveï¼‰ï¼›å¦‚æœå‚æ•°ä¸­  promise æœ‰ä¸€ä¸ªå¤±è´¥ï¼ˆrejectedï¼‰ï¼Œæ­¤å®ä¾‹å›è°ƒå¤±è´¥ï¼ˆrejectï¼‰ï¼Œå¤±è´¥çš„åŸå› æ˜¯ç¬¬ä¸€ä¸ªå¤±è´¥ promise çš„ç»“æœã€‚</li>
<li>Promise.race(iterable) æ–¹æ³•è¿”å›ä¸€ä¸ª promiseï¼Œä¸€æ—¦è¿­ä»£å™¨ä¸­çš„æŸä¸ªpromiseè§£å†³æˆ–æ‹’ç»ï¼Œè¿”å›çš„ promiseå°±ä¼šè§£å†³æˆ–æ‹’ç»ã€‚</li>
</ul>
<p>4.1 é¢˜ç›®ä¸€</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">runAsync</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">r</span> =&gt;</span> setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> r(x, <span class="built_in">console</span>.log(x)), <span class="number">1000</span>))</span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Promise</span>.all([runAsync(<span class="number">1</span>), runAsync(<span class="number">2</span>), runAsync(<span class="number">3</span>)])</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>Promise.all å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—<ul>
<li>é—´éš”ä¸€ç§’åï¼Œæ§åˆ¶å°ä¼šåŒæ—¶æ‰“å°å‡º1, 2, 3ï¼Œè¿˜æœ‰ä¸€ä¸ªæ•°ç»„[1, 2, 3]</li>
</ul>
</li>
</ul>
</li>
<li><p>ç»“è®º</p>
<ul>
<li><strong>æœ‰äº†allï¼Œå°±å¯ä»¥å¹¶è¡Œæ‰§è¡Œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼Œå¹¶ä¸”åœ¨ä¸€ä¸ªå›è°ƒä¸­å¤„ç†æ‰€æœ‰çš„è¿”å›æ•°æ®</strong></li>
<li>.all()åé¢çš„.then()é‡Œçš„å›è°ƒå‡½æ•°æ¥æ”¶çš„å°±æ˜¯æ‰€æœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœã€‚</li>
<li>è€Œä¸”è¿™ä¸ªç»“æœä¸­æ•°ç»„çš„é¡ºåºå’ŒPromise.all()æ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºä¸€è‡´</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/d3a6d5f4f158de806b690af124fcec9431029.png" alt="é¢˜ç›®ä¸€è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>4.2 é¢˜ç›®äºŒ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">runAsync</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">r</span> =&gt;</span> setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> r(x, <span class="built_in">console</span>.log(x)), <span class="number">1000</span>))</span><br><span class="line">  <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">runReject</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> rej(<span class="string">`Error: <span class="subst">$&#123;x&#125;</span>`</span>, <span class="built_in">console</span>.log(x)), <span class="number">1000</span> * x))</span><br><span class="line">  <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Promise</span>.all([runAsync(<span class="number">1</span>), runReject(<span class="number">4</span>), runAsync(<span class="number">3</span>), runReject(<span class="number">2</span>)])</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(err))</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>Promise.all å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—<ul>
<li>é—´éš”ä¸€ç§’åï¼Œæ§åˆ¶å°ä¼šåŒæ—¶æ‰“å°å‡º 1, 3</li>
</ul>
</li>
<li>ç”±äº runReject(4) æ¯” runReject(2) æ™šå…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸” catch åªæ‰§è¡Œä¸€æ¬¡<ul>
<li>å†é—´éš”ä¸€ç§’å<ul>
<li>console.log(x) x â€“&gt; 2</li>
<li>console.log(â€˜Error: 2â€™)</li>
</ul>
</li>
<li>å†é—´éš”2ç§’å<ul>
<li>console.log(x) x â€“&gt; 4</li>
<li>ä¸ä¼šå†æ‰§è¡Œ catch</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/e0e25426dc0d49c3af9acee68744760d51135.png" alt="é¢˜ç›®äºŒè¿è¡Œç»“æœ"></li>
</ul>
</li>
<li><p>ç­‰åŒäº</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">runAsync</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">r</span> =&gt;</span> setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> r(x, <span class="built_in">console</span>.log(x)), <span class="number">1000</span>))</span><br><span class="line">  <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">runReject</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> rej(<span class="string">`Error: <span class="subst">$&#123;x&#125;</span>`</span>, <span class="built_in">console</span>.log(x)), <span class="number">1000</span> * x))</span><br><span class="line">  <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Promise</span>.all([runAsync(<span class="number">1</span>), runReject(<span class="number">4</span>), runAsync(<span class="number">3</span>), runReject(<span class="number">2</span>)])</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res), </span><br><span class="line">  err =&gt; <span class="built_in">console</span>.log(err);</span><br></pre></td></tr></table></figure></li>
<li><p>ç»“è®º</p>
<ul>
<li>all å’Œ raceä¼ å…¥çš„æ•°ç»„ä¸­å¦‚æœæœ‰ä¼šæŠ›å‡ºå¼‚å¸¸çš„å¼‚æ­¥ä»»åŠ¡ï¼Œé‚£ä¹ˆåªæœ‰æœ€å…ˆæŠ›å‡ºçš„é”™è¯¯ä¼šè¢«æ•è·ï¼Œå¹¶ä¸”æ˜¯è¢« then çš„ç¬¬äºŒä¸ªå‚æ•°æˆ–è€…åé¢çš„ catch æ•è·ï¼›ä½†å¹¶ä¸ä¼šå½±å“æ•°ç»„ä¸­å…¶å®ƒçš„å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œã€‚</li>
</ul>
</li>
</ul>
<p>4.3 é¢˜ç›®ä¸‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">runAsync</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">r</span> =&gt;</span> setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> r(x, <span class="built_in">console</span>.log(x)), <span class="number">1000</span>))</span><br><span class="line">  <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Promise</span>.race([runAsync(<span class="number">1</span>), runAsync(<span class="number">2</span>), runAsync(<span class="number">3</span>)])</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'result: '</span>, res))</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(err))</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>Promise.race å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡</li>
<li>åœ¨é—´éš”æ—¶é—´éƒ½ä¸€æ ·çš„æƒ…å†µä¸‹ï¼ŒrunAsync1 æœ€å…ˆåŠ å…¥é˜Ÿåˆ—</li>
<li>å› æ­¤<ul>
<li>console.log(x) x â€“&gt; 1</li>
</ul>
</li>
<li>ç”±äº race çš„ç‰¹æ®Šæ€§ï¼Œåªæ•æ‰æœ€å…ˆæ‰§è¡Œå®Œæˆçš„é‚£ä¸ªç»“æœ<ul>
<li>console.log(â€˜result: â€˜, res) res â€“&gt; 1</li>
</ul>
</li>
<li>å†<ul>
<li>console.log(x) x â€“&gt; 2</li>
<li>console.log(x) x â€“&gt; 3</li>
</ul>
</li>
<li>æ²¡æœ‰æŠ¥é”™ï¼Œä¸ä¼šè¢« catch</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p0.meituan.net/myvideodistribute/2eda438cd745e39ba934af362a80521038770.png" alt="é¢˜ç›®ä¸‰è¿è¡Œç»“æœ"></li>
</ul>
</li>
</ul>
<p>4.4 é¢˜ç›®å››</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">runAsync</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">r</span> =&gt;</span></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> r(x, <span class="built_in">console</span>.log(x)), <span class="number">1000</span>)</span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">runReject</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> rej(<span class="string">`Error: <span class="subst">$&#123;x&#125;</span>`</span>, <span class="built_in">console</span>.log(x)), <span class="number">1000</span> * x)</span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Promise</span>.race([runReject(<span class="number">0</span>), runAsync(<span class="number">1</span>), runAsync(<span class="number">2</span>), runAsync(<span class="number">3</span>)])</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"result: "</span>, res))</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(err));</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†æ</p>
<ul>
<li>ä»£ç ä»ä¸Šè‡³ä¸‹å¼€å§‹æ‰§è¡Œ</li>
<li>Promise.race å…¥é˜Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å½“å‰å®ä»»åŠ¡ä¸­åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡</li>
<li>runReject(0) æœ€å…ˆä¼ å…¥</li>
<li>å› æ­¤<ul>
<li>console.log(x) x â€“&gt; 0</li>
<li>console.log(err) err â€“&gt; Error: 0</li>
</ul>
</li>
<li>é—´éš”å°äº1ç§’å</li>
<li>runAsync(1), runAsync(2), runAsync(3)<ul>
<li>ä¾æ¬¡ä¸º</li>
<li>console.log(x) x â€“&gt; 1</li>
<li>console.log(x) x â€“&gt; 2</li>
<li>console.log(x) x â€“&gt; 3</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿è¡Œç»“æœ</p>
<ul>
<li><img src="http://p1.meituan.net/myvideodistribute/89acbf32e7218b90c050526171bd1b3d53719.png" alt="é¢˜ç›®å››"></li>
</ul>
</li>
</ul>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ul>
<li><a href="https://juejin.im/post/5e58c618e51d4526ed66b5cf" target="_blank" rel="noopener">é¢˜ç›®æ¥æº</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯æ¦‚å¿µ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ¦‚å¿µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Elle-è®­ç»ƒç®—æ³•è®¡åˆ’</title>
    <url>/2020/04/06/Elle-%E8%AE%AD%E7%BB%83%E7%AE%97%E6%B3%95%E8%AE%A1%E5%88%92/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>


<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>ç®€å•è®°å½•ä¸€ä¸‹è‡ªå·±æ•´ä¸ªç®—æ³•è®­ç»ƒçš„åŸºç¡€æ­¥éª¤+å­¦ä¹ æ–¹æ³•</li>
<li>ä¸»è¦çš„æ•°æ®ç»“æ„å’Œç®—æ³•ä¼šå•å¼€æ–‡æ¡£æ¥å†™</li>
</ul>
<a id="more"></a>
<h2 id="Chunk-it-up-åˆ‡ç¢çŸ¥è¯†ç‚¹"><a href="#Chunk-it-up-åˆ‡ç¢çŸ¥è¯†ç‚¹" class="headerlink" title="Chunk it up åˆ‡ç¢çŸ¥è¯†ç‚¹"></a>Chunk it up åˆ‡ç¢çŸ¥è¯†ç‚¹</h2><ul>
<li>æ•°æ®ç»“æ„<ul>
<li>ä¸€ç»´æ•°æ®ç»“æ„<ul>
<li>åŸºç¡€ï¼šæ•°ç»„ array(string), é“¾è¡¨ linked list</li>
<li>é«˜çº§ï¼šæ ˆ stack, é˜Ÿåˆ— queue, åŒç«¯é˜Ÿåˆ— deque, é›†åˆ set, æ˜ å°„ map (hash or map), etc</li>
</ul>
</li>
<li>äºŒç»´æ•°æ®ç»“æ„<ul>
<li>ä¸€ç»´æ³›åŒ–</li>
<li>åŸºç¡€ï¼šæ ‘ treeï¼Œå›¾ graph</li>
<li>é«˜çº§ï¼šäºŒå‰æœç´¢æ ‘ binary search tree (red-black tree, AVL)ï¼Œå † heap, å¹¶æŸ¥é›† disjoint set, å­—å…¸æ ‘ trie, etc</li>
</ul>
</li>
<li>ç‰¹æ®Šæ•°æ®ç»“æ„<ul>
<li>ä½è¿ç®— bitwise, å¸ƒéš†è¿‡æ»¤å™¨ bloom filter</li>
<li>LRU Cache</li>
</ul>
</li>
</ul>
</li>
<li>ç®—æ³•<ul>
<li>if-else, switch â€“&gt; branch</li>
<li>for, while loop â€“&gt; iteration</li>
<li>é€’å½’ recursion (divide &amp; conquer åˆ†æ²», backtrace å›æº¯)</li>
<li>æœç´¢ search: æ·±åº¦ä¼˜å…ˆæœç´¢ depth first search, å¹¿åº¦ä¼˜å…ˆæœç´¢ breadth first search, A* (å¯å‘å¼æœç´¢), etc</li>
<li>åŠ¨æ€è§„åˆ’ dynamic programing</li>
<li>äºŒåˆ†æŸ¥æ‰¾ binary search</li>
<li>è´ªå¿ƒ greedy</li>
<li>æ•°å­¦ math, é›†åˆ geometry</li>
</ul>
</li>
</ul>
<h2 id="Deliberate-Practicing-åˆ»æ„ç»ƒä¹ "><a href="#Deliberate-Practicing-åˆ»æ„ç»ƒä¹ " class="headerlink" title="Deliberate Practicing åˆ»æ„ç»ƒä¹ "></a>Deliberate Practicing åˆ»æ„ç»ƒä¹ </h2><ul>
<li>åˆ»æ„ç»ƒä¹ -è¿‡éæ•° (äº”éåˆ·é¢˜æ³•)<ul>
<li>åˆ·é¢˜ç¬¬ä¸€é<ul>
<li>5åˆ†é’Ÿï¼ˆ5~15 minsï¼‰ï¼šè¯»é¢˜+æ€è€ƒ</li>
<li>ç›´æ¥çœ‹è§£æ³•ï¼šæ³¨æ„ï¼å¤šè§£æ³•ï¼Œæ¯”è¾ƒè§£ä¹ä¼˜åŠ£</li>
<li>æœ‰æ€è·¯ï¼Œç›´æ¥å†™</li>
<li>èƒŒè¯µ+é»˜å†™å¥½çš„è§£æ³•</li>
</ul>
</li>
<li>åˆ·é¢˜ç¬¬äºŒé<ul>
<li>é©¬ä¸Šè‡ªå·±å†™ â€“&gt; LeetCodeæäº¤</li>
<li>å¤šç§è§£æ³•æ¯”è¾ƒã€ä½“ä¼š â€“&gt; ä¼˜åŒ–</li>
<li>å¤šç§è§£æ³•è‡ªå·±å†™ä¸€éï¼Œç›´åˆ°é€šè¿‡</li>
</ul>
</li>
<li>åˆ·é¢˜ç¬¬ä¸‰é<ul>
<li>24håï¼Œå†é‡å¤åšé¢˜</li>
<li>ä¸åŒè§£æ³•çš„ç†Ÿç»ƒç¨‹åº¦ â€“&gt; ä¸“é¡¹ç»ƒä¹ </li>
</ul>
</li>
<li>åˆ·é¢˜ç¬¬å››é<ul>
<li>è¿‡äº†ä¸€å‘¨åï¼šåå¤å›æ¥ç»ƒä¹ ç›¸åŒçš„é¢˜ç›®</li>
<li>ä¸ç†Ÿç»ƒçš„é¢˜ç›® â€“&gt; ä¸“é¡¹ç»ƒä¹ </li>
</ul>
</li>
<li>åˆ·é¢˜ç¬¬äº”é<ul>
<li>é¢è¯•å‰äºŒå‘¨æ¢å¤æ€§è®­ç»ƒ</li>
</ul>
</li>
</ul>
</li>
<li>ç»ƒä¹ ç¼ºé™·ã€å¼±ç‚¹åœ°æ–¹<ul>
<li>ä¸­æ–‡ç«™ leetcode-cn.com åˆ·é¢˜</li>
<li>å›½é™…ç«™ leetcode.com çœ‹discuss-most votes</li>
</ul>
</li>
<li>åˆ‡é¢˜<ul>
<li><strong>Clarification å®¡é¢˜</strong></li>
<li><strong>Possible Solutions</strong><ul>
<li>compare (time/space)</li>
<li>optimal (åŠ å¼º)</li>
</ul>
</li>
<li><strong>Coding</strong></li>
<li><strong>Test cases</strong></li>
</ul>
</li>
</ul>
<h2 id="Feedback-åé¦ˆ"><a href="#Feedback-åé¦ˆ" class="headerlink" title="Feedback åé¦ˆ"></a>Feedback åé¦ˆ</h2><ul>
<li>å³æ—¶åé¦ˆ</li>
<li>ä¸»åŠ¨å‹åé¦ˆ</li>
<li>è¢«åŠ¨å‹åé¦ˆ<ul>
<li>code review</li>
</ul>
</li>
</ul>
<h2 id="æŒ‡æ³•"><a href="#æŒ‡æ³•" class="headerlink" title="æŒ‡æ³•"></a>æŒ‡æ³•</h2><ul>
<li>top tips for vscode</li>
</ul>
<h2 id="è‡ªé¡¶å‘ä¸‹çš„ç¼–ç¨‹æ–¹å¼"><a href="#è‡ªé¡¶å‘ä¸‹çš„ç¼–ç¨‹æ–¹å¼" class="headerlink" title="è‡ªé¡¶å‘ä¸‹çš„ç¼–ç¨‹æ–¹å¼"></a>è‡ªé¡¶å‘ä¸‹çš„ç¼–ç¨‹æ–¹å¼</h2><ul>
<li><a href="http://markhneedham.com/blog/2008/09/15/clean-code-book-review/" target="_blank" rel="noopener">è‡ªé¡¶å‘ä¸‹çš„ç¼–ç¨‹æ–¹å¼</a></li>
</ul>
<h2 id="Big-O-Notation"><a href="#Big-O-Notation" class="headerlink" title="Big O Notation"></a>Big O Notation</h2><ul>
<li>O(1): constant Complexity å¸¸æ•°å¤æ‚åº¦</li>
<li>O(log n): Logarithmic Complexity å¯¹æ•°å¤æ‚åº¦</li>
<li>O(n): Linear Complexity çº¿æ€§æ—¶é—´å¤æ‚åº¦</li>
<li>O(n^2): N square Complexity å¹³æ–¹</li>
<li>O(n^3): N cube Complexity ç«‹æ–¹</li>
<li>O(2^n): Exponential Growth æŒ‡æ•°</li>
<li>O(n!): Factorial é˜¶ä¹˜</li>
<li><img src="http://p0.meituan.net/myvideodistribute/c88294c6a8b88448ae14e2914c7bbfd2337181.png" alt="æ—¶é—´å¤æ‚åº¦"></li>
</ul>
<h2 id="master-theorem"><a href="#master-theorem" class="headerlink" title="master theorem"></a>master theorem</h2><ul>
<li>äºŒåˆ†æŸ¥æ‰¾</li>
<li>äºŒå‰æ ‘çš„éå†ï¼ˆæ¯ä¸ªèŠ‚ç‚¹éƒ½è®¿é—®ä¸€æ¬¡ï¼Œä¸”ä»…è®¿é—®ä¸€æ¬¡ï¼‰</li>
<li>äºŒç»´æœ‰åºçŸ©é˜µ</li>
<li>å½’å¹¶æ’åº O(nlogn)</li>
<li><img src="http://p1.meituan.net/myvideodistribute/5b978d58635ea2e9233ea5e502ab706f246540.png" alt="ä¸»å®šç†"></li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•æ¨¡æ¿</title>
    <url>/2020/09/24/%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul>
<li>å¸¸è§ç®—æ³•æ¨¡æ¿ï¼ˆè‡ªå·±æ€»ç»“ï¼Œéå®˜æ–¹ï¼‰</li>
</ul>
<a id="more"></a>

<h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><ul>
<li><a href="https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/" target="_blank" rel="noopener">26. åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹</a></li>
<li><a href="https://leetcode-cn.com/problems/plus-one/" target="_blank" rel="noopener">66. åŠ ä¸€</a></li>
<li><a href="https://leetcode-cn.com/problems/merge-sorted-array/" target="_blank" rel="noopener">88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</a></li>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/" target="_blank" rel="noopener">122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº</a></li>
<li><a href="https://leetcode-cn.com/problems/assign-cookies/" target="_blank" rel="noopener">455. åˆ†å‘é¥¼å¹²</a></li>
<li><a href="https://leetcode-cn.com/problems/rotate-array/" target="_blank" rel="noopener">âœ¨189. æ—‹è½¬æ•°ç»„</a></li>
<li><a href="https://leetcode-cn.com/problems/ugly-number-ii/" target="_blank" rel="noopener">âœ¨264. ä¸‘æ•°-ii</a></li>
<li><a href="https://leetcode-cn.com/problems/walking-robot-simulation/" target="_blank" rel="noopener">874. æ¨¡æ‹Ÿè¡Œèµ°æœºå™¨äºº</a></li>
<li><a href="https://leetcode-cn.com/problems/longest-palindromic-substring/" target="_blank" rel="noopener">5. æœ€é•¿å›æ–‡å­ä¸²</a></li>
<li><a href="https://leetcode-cn.com/problems/plus-one/" target="_blank" rel="noopener">66. åŠ ä¸€</a></li>
<li><a href="https://leetcode-cn.com/problems/pascals-triangle/" target="_blank" rel="noopener">118. æ¨è¾‰ä¸‰è§’</a></li>
<li><a href="https://leetcode-cn.com/problems/candy" target="_blank" rel="noopener">135. åˆ†å‘ç³–æœ</a></li>
<li><a href="https://leetcode-cn.com/problems/house-robber" target="_blank" rel="noopener">198. æ‰“å®¶åŠ«èˆ</a></li>
<li><a href="https://leetcode-cn.com/problems/count-primes" target="_blank" rel="noopener">204. è®¡æ•°è´¨æ•°</a></li>
<li><a href="https://leetcode-cn.com/problems/word-pattern" target="_blank" rel="noopener">290. å•è¯è§„å¾‹</a></li>
<li><a href="https://leetcode-cn.com/problems/patching-array" target="_blank" rel="noopener">330. æŒ‰è¦æ±‚è¡¥å……æ•°ç»„</a></li>
<li><a href="https://leetcode-cn.com/problems/non-overlapping-intervals" target="_blank" rel="noopener">435. æ— é‡å åŒºé—´</a></li>
<li><a href="https://leetcode-cn.com/problems/minimum-number-of-arrows-to-burst-balloons" target="_blank" rel="noopener">452. ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ</a></li>
<li><a href="https://leetcode-cn.com/problems/split-array-into-consecutive-subsequences" target="_blank" rel="noopener">659. åˆ†å‰²æ•°ç»„ä¸ºè¿ç»­å­åºåˆ—</a></li>
<li><a href="https://leetcode-cn.com/problems/monotone-increasing-digits" target="_blank" rel="noopener">738. å•è°ƒé€’å¢çš„æ•°å­—</a></li>
<li><a href="https://leetcode-cn.com/problems/min-cost-climbing-stairs" target="_blank" rel="noopener">746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯</a></li>
<li><a href="https://leetcode-cn.com/problems/score-after-flipping-matrix" target="_blank" rel="noopener">861. ç¿»è½¬çŸ©é˜µåçš„å¾—åˆ†</a></li>
<li><a href="https://leetcode-cn.com/problems/largest-perimeter-triangle" target="_blank" rel="noopener">976. ä¸‰è§’å½¢çš„æœ€å¤§å‘¨é•¿</a></li>
</ul>
<h3 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h3><ul>
<li><a href="https://leetcode-cn.com/problems/linked-list-cycle/" target="_blank" rel="noopener">âœ¨141. ç¯å½¢é“¾è¡¨-i</a></li>
<li><a href="https://leetcode-cn.com/problems/linked-list-cycle-ii/" target="_blank" rel="noopener">âœ¨142. ç¯å½¢é“¾è¡¨-ii</a></li>
<li><a href="https://leetcode-cn.com/problems/reverse-linked-list/" target="_blank" rel="noopener">âœ¨206. åè½¬é“¾è¡¨</a></li>
</ul>
<h3 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h3><ul>
<li><a href="https://leetcode-cn.com/problems/valid-parentheses/" target="_blank" rel="noopener">20. æœ‰æ•ˆçš„æ‹¬å·</a></li>
<li><a href="https://leetcode-cn.com/problems/min-stack/" target="_blank" rel="noopener">155. æœ€å°æ ˆ</a></li>
</ul>
<h3 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h3><ul>
<li><a href="https://leetcode-cn.com/problems/design-circular-queue/" target="_blank" rel="noopener">622. è®¾è®¡å¾ªç¯é˜Ÿåˆ—</a></li>
<li><a href="https://leetcode-cn.com/problems/design-circular-deque/" target="_blank" rel="noopener">ğŸ¤”641. è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ—</a></li>
</ul>
<h3 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h3><ul>
<li><a href="https://leetcode-cn.com/problems/two-sum/" target="_blank" rel="noopener">1. ä¸¤æ•°ä¹‹å’Œ</a></li>
<li><a href="https://leetcode-cn.com/problems/group-anagrams/" target="_blank" rel="noopener">49. å­—æ¯å¼‚ä½è¯åˆ†ç»„</a></li>
<li><a href="https://leetcode-cn.com/problems/majority-element/" target="_blank" rel="noopener">169. å¤šæ•°å…ƒç´ </a></li>
<li><a href="https://leetcode-cn.com/problems/valid-anagram/" target="_blank" rel="noopener">242. æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯</a></li>
<li><a href="https://leetcode-cn.com/problems/lemonade-change/" target="_blank" rel="noopener">860. æŸ æª¬æ°´æ‰¾é›¶</a></li>
<li><a href="https://leetcode-cn.com/problems/contains-duplicate" target="_blank" rel="noopener">217. å­˜åœ¨é‡å¤å…ƒç´ </a></li>
<li><a href="https://leetcode-cn.com/problems/first-unique-character-in-a-string" target="_blank" rel="noopener">387. å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå”¯ä¸€å­—ç¬¦</a></li>
<li><a href="https://leetcode-cn.com/problems/find-the-difference" target="_blank" rel="noopener">389. æ‰¾ä¸åŒ</a></li>
<li><a href="https://leetcode-cn.com/problems/reorganize-string" target="_blank" rel="noopener">767. é‡æ„å­—ç¬¦ä¸²</a></li>
</ul>
<h3 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a><a href="https://leetcode-cn.com/problems/sliding-window-maximum/solution/239-hua-dong-chuang-kou-zui-da-zhi-by-alexer-660/" target="_blank" rel="noopener">æ»‘åŠ¨çª—å£</a></h3><ul>
<li><a href="https://leetcode-cn.com/problems/sliding-window-maximum/" target="_blank" rel="noopener">âœ¨239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼</a></li>
<li></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">s, t</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> need = <span class="keyword">new</span> <span class="built_in">Map</span>; <span class="comment">// éœ€è¦å‡‘é½çš„å­—ç¬¦æ•°</span></span><br><span class="line">  <span class="keyword">let</span> <span class="built_in">window</span> = <span class="keyword">new</span> <span class="built_in">Map</span>; <span class="comment">// çª—å£ä¸­çš„å­—ç¬¦æ•°</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> t) &#123;</span><br><span class="line">    <span class="keyword">if</span> (need.has(i)) need.set(i, need.get(i) + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> need.set(i, <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> valid = <span class="number">0</span>; <span class="comment">// çª—å£ä¸­æ»¡è¶³ need æ¡ä»¶çš„å­—ç¬¦ä¸ªæ•°</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span></span><br><span class="line">  <span class="keyword">while</span> (right &lt; s.length) &#123;</span><br><span class="line">    <span class="keyword">let</span> c = s[right]; <span class="comment">// å³å°†ç§»å…¥çª—å£çš„å­—ç¬¦</span></span><br><span class="line">    right ++; <span class="comment">// å³ç§»çª—å£</span></span><br><span class="line">    <span class="comment">// è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span></span><br><span class="line">    <span class="comment">// ... some code</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// debug here ...</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span></span><br><span class="line">    <span class="keyword">while</span> (valid === need.size) &#123;</span><br><span class="line">      <span class="keyword">let</span> d = s[left]; <span class="comment">// å³å°†ç§»å‡ºçª—å£çš„å­—ç¬¦</span></span><br><span class="line">      left ++; <span class="comment">// å·¦ç§»çª—å£</span></span><br><span class="line">      <span class="comment">// è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span></span><br><span class="line">      <span class="comment">// ... some code</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a>æ ‘</h3><ul>
<li><a href="https://leetcode-cn.com/problems/merge-two-sorted-lists/" target="_blank" rel="noopener">21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</a></li>
<li><a href="https://leetcode-cn.com/problems/swap-nodes-in-pairs/" target="_blank" rel="noopener">24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</a></li>
<li><a href="https://leetcode-cn.com/problems/reverse-nodes-in-k-group/" target="_blank" rel="noopener">ğŸ’‰25. kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨</a></li>
<li><a href="https://leetcode-cn.com/problems/reverse-linked-list-ii/" target="_blank" rel="noopener">ğŸ’‰92. åè½¬é“¾è¡¨-ii</a><ul>
<li><a href="https://mp.weixin.qq.com/s/5wz_YJ3lTkDH3nWfVDi5SA" target="_blank" rel="noopener">92. åè½¬é“¾è¡¨-ii é¢˜è§£</a></li>
</ul>
</li>
<li><a href="https://leetcode-cn.com/problems/same-tree/" target="_blank" rel="noopener">100. ç›¸åŒçš„æ ‘</a></li>
<li><a href="https://leetcode-cn.com/problems/count-complete-tree-nodes/" target="_blank" rel="noopener">222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°</a></li>
<li><a href="https://leetcode-cn.com/problems/search-in-a-binary-search-tree/" target="_blank" rel="noopener">700. äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢</a></li>
<li><a href="https://leetcode-cn.com/problems/insert-into-a-binary-search-tree/" target="_blank" rel="noopener">701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ</a></li>
<li><a href="https://leetcode-cn.com/problems/find-duplicate-subtrees/" target="_blank" rel="noopener">âœ¨652. å¯»æ‰¾é‡å¤çš„å­æ ‘</a></li>
<li><a href="https://leetcode-cn.com/problems/kth-smallest-element-in-a-bst" target="_blank" rel="noopener">âœ¨230. äºŒå‰æœç´¢æ ‘ä¸­çš„ç¬¬kå°çš„å…ƒç´ </a></li>
<li><a href="https://leetcode-cn.com/problems/convert-bst-to-greater-tree" target="_blank" rel="noopener">âœ¨538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢æˆç´¯åŠ æ ‘</a></li>
<li><a href="https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/" target="_blank" rel="noopener">âœ¨297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</a></li>
<li><a href="https://leetcode-cn.com/problems/invert-binary-tree/" target="_blank" rel="noopener">âœ¨226. ç¿»è½¬äºŒå‰æ ‘</a></li>
<li><a href="https://leetcode-cn.com/problems/populating-next-right-pointers-in-each-node/" target="_blank" rel="noopener">âœ¨116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ</a></li>
<li><a href="https://leetcode-cn.com/problems/validate-binary-search-tree/" target="_blank" rel="noopener">âœ¨98. éªŒè¯äºŒå‰æœç´¢æ ‘</a></li>
<li><a href="https://leetcode-cn.com/problems/path-sum/" target="_blank" rel="noopener">âœ¨112. è·¯ç»æ€»å’Œ</a></li>
<li><a href="https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/" target="_blank" rel="noopener">âœ¨104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</a></li>
<li><a href="https://leetcode-cn.com/problems/minimum-depth-of-binary-tree/" target="_blank" rel="noopener">âœ¨111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦</a></li>
<li><a href="https://leetcode-cn.com/problems/delete-node-in-a-bst/" target="_blank" rel="noopener">âœ¨450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</a></li>
<li><a href="https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/" target="_blank" rel="noopener">âœ¨105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</a></li>
<li><a href="https://leetcode-cn.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal/" target="_blank" rel="noopener">âœ¨106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</a></li>
<li><a href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/" target="_blank" rel="noopener">âœ¨236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</a></li>
<li><a href="https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/" target="_blank" rel="noopener">ğŸ¤”ï¸114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</a></li>
<li><a href="https://leetcode-cn.com/problems/binary-tree-preorder-traversal/" target="_blank" rel="noopener">âœ¨144. äºŒå‰æ ‘çš„å‰åºéå†</a></li>
<li><a href="https://leetcode-cn.com/problems/binary-tree-inorder-traversal/" target="_blank" rel="noopener">âœ¨94. äºŒå‰æ ‘çš„ä¸­åºéå†</a></li>
<li><a href="https://leetcode-cn.com/problems/binary-tree-postorder-traversal/" target="_blank" rel="noopener">âœ¨145. äºŒå‰æ ‘çš„ååºéå†</a></li>
<li><a href="https://leetcode-cn.com/problems/binary-tree-level-order-traversal/" target="_blank" rel="noopener">âœ¨102. äºŒå‰æ ‘çš„å±‚åºéå†</a></li>
<li><a href="https://leetcode-cn.com/problems/n-ary-tree-preorder-traversal/" target="_blank" rel="noopener">âœ¨589. Nå‰æ ‘çš„å‰åºéå†</a></li>
<li><a href="https://leetcode-cn.com/problems/n-ary-tree-postorder-traversal/" target="_blank" rel="noopener">âœ¨590. Nå‰æ ‘çš„ååºéå†</a></li>
<li><a href="https://leetcode-cn.com/problems/n-ary-tree-level-order-traversal/" target="_blank" rel="noopener">âœ¨429. Nå‰æ ‘çš„å±‚åºéå†</a></li>
<li><a href="https://leetcode-cn.com/problems/maximum-binary-tree" target="_blank" rel="noopener">654. æœ€å¤§äºŒå‰æ ‘</a></li>
</ul>
<h2 id="å‰ç¼€å’Œ"><a href="#å‰ç¼€å’Œ" class="headerlink" title="å‰ç¼€å’Œ"></a>å‰ç¼€å’Œ</h2><ul>
<li><a href="https://leetcode-cn.com/problems/subarray-sum-equals-k/" target="_blank" rel="noopener">âœ¨560. å’Œä¸ºkçš„å­æ•°ç»„</a></li>
</ul>
<h2 id="å•è°ƒæ ˆ"><a href="#å•è°ƒæ ˆ" class="headerlink" title="å•è°ƒæ ˆ"></a>å•è°ƒæ ˆ</h2><ul>
<li><a href="https://leetcode-cn.com/problems/trapping-rain-water/" target="_blank" rel="noopener">42. æ¥é›¨æ°´</a></li>
<li><a href="https://leetcode-cn.com/problems/largest-rectangle-in-histogram/" target="_blank" rel="noopener">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</a></li>
<li><a href="https://leetcode-cn.com/problems/next-greater-element-i/" target="_blank" rel="noopener">âœ¨496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -i</a></li>
<li><a href="https://leetcode-cn.com/problems/next-greater-element-ii/" target="_blank" rel="noopener">âœ¨503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -ii</a></li>
<li><a href="https://leetcode-cn.com/problems/daily-temperatures/" target="_blank" rel="noopener">âœ¨739. æ¯æ—¥æ¸©åº¦</a></li>
<li><a href="https://leetcode-cn.com/problems/remove-duplicate-letters" target="_blank" rel="noopener">316. å»é™¤é‡å¤å­—æ¯</a></li>
<li></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</span></span><br><span class="line"><span class="comment">// å•è°ƒæ ˆ</span></span><br><span class="line"><span class="keyword">var</span> largestRectangleArea = <span class="function"><span class="keyword">function</span>(<span class="params">heights</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> area = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> stack = [];</span><br><span class="line">  <span class="keyword">let</span> current = <span class="number">0</span>;</span><br><span class="line">  heights = [<span class="number">0</span>, ...heights, <span class="number">0</span>];</span><br><span class="line">  <span class="keyword">while</span> (current &lt; heights.length) &#123;</span><br><span class="line">    <span class="comment">// æ ˆä¸ä¸ºç©º ä¸” å½“å‰å…ƒç´  è¦ å¤§äº æ ˆé¡¶å…ƒç´ </span></span><br><span class="line">    <span class="comment">// æ‰èƒ½è¢«æ¡†ä½</span></span><br><span class="line">    <span class="keyword">while</span>(stack.length &amp;&amp; heights[current] &lt; heights[stack[stack.length - <span class="number">1</span>]]) &#123;</span><br><span class="line">      <span class="keyword">let</span> h = heights[stack[stack.length - <span class="number">1</span>]];</span><br><span class="line">      stack.pop();</span><br><span class="line">      <span class="keyword">if</span> (!stack.length) <span class="keyword">break</span>;</span><br><span class="line">      area = <span class="built_in">Math</span>.max(area, (current - stack[stack.length - <span class="number">1</span>] - <span class="number">1</span>) * h)</span><br><span class="line">    &#125;</span><br><span class="line">    stack.push(current);</span><br><span class="line">    current ++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> area;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> stack = [];</span><br><span class="line"><span class="keyword">let</span> current = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(current &lt; nums.length) &#123;</span><br><span class="line">    <span class="comment">// è¿™æ˜¯å•è°ƒé€’å¢æ ˆï¼Œè§†æƒ…å†µè€Œå®šï¼Œå½“å‰å…ƒç´ æ˜¯å¦å¤§äºæ ˆé¡¶å…ƒç´ </span></span><br><span class="line">    <span class="keyword">while</span>(stack.length &amp;&amp; nums[current] &lt; nums[stack[stack.length <span class="number">-1</span>]]) &#123;</span><br><span class="line">        <span class="keyword">let</span> base = nums[stack[stack.length <span class="number">-1</span>]];</span><br><span class="line">        stack.pop();</span><br><span class="line">        <span class="keyword">if</span> (!stack.length) <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// some code ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    stack.push(current);</span><br><span class="line">    current ++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h2><ul>
<li><a href="https://leetcode-cn.com/problems/two-sum/" target="_blank" rel="noopener">1. ä¸¤æ•°ä¹‹å’Œ</a></li>
<li><a href="https://leetcode-cn.com/problems/container-with-most-water/" target="_blank" rel="noopener">11. ç››æœ€å¤šæ°´çš„å®¹å™¨</a></li>
<li><a href="https://leetcode-cn.com/problems/3sum/" target="_blank" rel="noopener">âœ¨15. ä¸‰æ•°ä¹‹å’Œ</a></li>
<li><a href="https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/" target="_blank" rel="noopener">26. åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹</a></li>
<li><a href="https://leetcode-cn.com/problems/trapping-rain-water/" target="_blank" rel="noopener">42. æ¥é›¨æ°´</a></li>
<li><a href="https://leetcode-cn.com/problems/move-zeroes/" target="_blank" rel="noopener">âœ¨283. ç§»åŠ¨é›¶</a></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> max = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, j = nums.length - <span class="number">1</span>; i !== j; ) &#123;</span><br><span class="line">    max = <span class="built_in">Math</span>.max(max, <span class="built_in">Math</span>.min(nums[i], nums[j]) * (j - i)) ;</span><br><span class="line">    <span class="keyword">if</span> (nums[i] &lt; nums[j]) &#123;</span><br><span class="line">        i ++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        j --;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max;</span><br></pre></td></tr></table></figure>

<h3 id="åŒæŒ‡é’ˆæš´åŠ›"><a href="#åŒæŒ‡é’ˆæš´åŠ›" class="headerlink" title="åŒæŒ‡é’ˆæš´åŠ›"></a>åŒæŒ‡é’ˆæš´åŠ›</h3><ul>
<li><a href="https://leetcode-cn.com/problems/largest-rectangle-in-histogram/" target="_blank" rel="noopener">84. æŸ±çŠ¶å›¾ä¸­çš„æœ€å¤§çŸ©å½¢</a></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> largestRectangleArea = <span class="function"><span class="keyword">function</span>(<span class="params">heights</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!heights.length) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> area = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; heights.length; i ++) &#123;</span><br><span class="line">      <span class="keyword">let</span> leftIndex = i;</span><br><span class="line">      <span class="keyword">let</span> rightIndex = i;</span><br><span class="line">      <span class="keyword">let</span> h = heights[i]; <span class="comment">// åŸºå‡†ç‚¹ï¼Œå¾€å‰å¾€åéå†æ±‚è§£</span></span><br><span class="line">      <span class="keyword">while</span>(heights[leftIndex - <span class="number">1</span>] &gt;= h) &#123;</span><br><span class="line">        leftIndex --;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">while</span>(heights[rightIndex + <span class="number">1</span>] &gt;= h) &#123;</span><br><span class="line">        rightIndex ++;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">let</span> distance = rightIndex - leftIndex + <span class="number">1</span>;</span><br><span class="line">      area = <span class="built_in">Math</span>.max(area, distance * h);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> area;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// let max = 0;</span></span><br><span class="line"><span class="keyword">let</span> leftMax = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> rightMax = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, j = nums.length - <span class="number">1</span>; i !== j; ) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[i] &lt; nums[j]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (leftMax &lt; nums[i]) &#123;</span><br><span class="line">            leftMax = nums[i];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// some code ...</span></span><br><span class="line">        &#125;</span><br><span class="line">        i ++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (rightMax &lt; nums[j]) &#123;</span><br><span class="line">            rightMax = nums[j];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// some code ...</span></span><br><span class="line">        &#125;</span><br><span class="line">        j --;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h2><ul>
<li><a href="https://leetcode-cn.com/problems/climbing-stairs/" target="_blank" rel="noopener">70. çˆ¬æ¥¼æ¢¯</a></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">recursion</span>(<span class="params">level, param1, param2, ...</span>) </span>&#123;</span><br><span class="line">	<span class="comment">// recursion terminator</span></span><br><span class="line">	<span class="keyword">if</span> (level &gt; MAX_LEVEL) &#123;</span><br><span class="line">		procrss_result;</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// process logic in current level</span></span><br><span class="line">	process(level, data ... );</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// drill down</span></span><br><span class="line">	recursion(level + <span class="number">1</span>, <span class="keyword">new</span> param1, <span class="keyword">new</span> param2, ... );</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// reverse the current level status if needed</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="åˆ†æ²»"><a href="#åˆ†æ²»" class="headerlink" title="åˆ†æ²»"></a>åˆ†æ²»</h2><ul>
<li><a href="https://leetcode-cn.com/problems/create-maximum-number" target="_blank" rel="noopener">321. æ‹¼æ¥æœ€å¤§æ•°</a></li>
<li></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">divideConquer</span>(<span class="params">problem, param1, param2, ... </span>) </span>&#123;</span><br><span class="line">	<span class="comment">// recursion terminator</span></span><br><span class="line">	<span class="keyword">if</span> (!problem) &#123;</span><br><span class="line">		print_result;</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// prepare data</span></span><br><span class="line">	data = prepareData(problem);</span><br><span class="line">	subProblems = splitProblem(problem, data);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// conquer subProblems</span></span><br><span class="line">	subResult1 = divideConquer(subProblems[<span class="number">0</span>], newParam1, <span class="keyword">new</span> Param2, ... );</span><br><span class="line">	subResult2 = divideConquer(subProblems[<span class="number">1</span>], newParam1, <span class="keyword">new</span> Param2, ... );</span><br><span class="line">	subResult3 = divideConquer(subProblems[<span class="number">2</span>], newParam1, <span class="keyword">new</span> Param2, ... );</span><br><span class="line">	...</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// process and generate the final result</span></span><br><span class="line">	result = processResult(subResult1, subResult2, subResult3, ... );</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// revert the current level status</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="DFS-å›æº¯"><a href="#DFS-å›æº¯" class="headerlink" title="DFS + å›æº¯"></a><a href="https://leetcode-cn.com/problems/permutations/solution/hui-su-suan-fa-python-dai-ma-java-dai-ma-by-liweiw/" target="_blank" rel="noopener">DFS + å›æº¯</a></h2><blockquote>
<p>tips: åŸºç¡€ç±»å‹ä¸èƒ½ä»£å…¥åˆ°å‚æ•°åˆ—è¡¨ä¸­ï¼Œä¸ä¼šè¢«æ”¹å˜</p>
</blockquote>
<ul>
<li><a href="https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/" target="_blank" rel="noopener">17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ</a></li>
<li><a href="https://leetcode-cn.com/problems/generate-parentheses/" target="_blank" rel="noopener">22. æ‹¬å·ç”Ÿæˆ</a></li>
<li><a href="https://leetcode-cn.com/problems/permutations/" target="_blank" rel="noopener">46. å…¨æ’åˆ—-i</a></li>
<li><a href="https://leetcode-cn.com/problems/permutations-ii/" target="_blank" rel="noopener">47. å…¨æ’åˆ—-ii</a></li>
<li><a href="https://leetcode-cn.com/problems/n-queens/" target="_blank" rel="noopener">51. Nçš‡å</a></li>
<li><a href="https://leetcode-cn.com/problems/combinations/" target="_blank" rel="noopener">77. ç»„åˆ</a></li>
<li><a href="https://leetcode-cn.com/problems/tar.get-sum/" target="_blank" rel="noopener">494. ç›®æ ‡å’Œ</a></li>
<li><a href="https://leetcode-cn.com/problems/split-array-into-fibonacci-sequence" target="_blank" rel="noopener">842. å°†æ•°ç»„æ‹†åˆ†ä¸ºæ–æ³¢é‚£å¥‘æ•°åˆ—</a></li>
</ul>
<h2 id="æ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ·±åº¦ä¼˜å…ˆæœç´¢</h2><ul>
<li><a href="https://leetcode-cn.com/problems/jump-game/" target="_blank" rel="noopener">55. è·³è·ƒæ¸¸æˆ</a></li>
<li><a href="https://leetcode-cn.com/problems/jump-game-ii/" target="_blank" rel="noopener">45. è·³è·ƒæ¸¸æˆ-ii</a></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (node <span class="keyword">in</span> visited) &#123;</span><br><span class="line">		<span class="comment">// already visited</span></span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	visited.add(node);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// process current node</span></span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">	<span class="comment">// logic here</span></span><br><span class="line">	</span><br><span class="line">	dfs(node.left);</span><br><span class="line">	dfs(node.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="DFS-ä»£ç -é€’å½’å†™æ³•"><a href="#DFS-ä»£ç -é€’å½’å†™æ³•" class="headerlink" title="DFS ä»£ç  - é€’å½’å†™æ³•"></a>DFS ä»£ç  - é€’å½’å†™æ³•</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> visited = <span class="keyword">new</span> <span class="built_in">Set</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">node, visited</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (node <span class="keyword">in</span> visited) &#123;</span><br><span class="line">		<span class="comment">// already visited</span></span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	&#125;	</span><br><span class="line">	</span><br><span class="line">	visited.add(node);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// process current  node here</span></span><br><span class="line">	...</span><br><span class="line">	<span class="keyword">for</span> (nextNode <span class="keyword">in</span> node.children) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!nextNode <span class="keyword">in</span> visited) &#123;</span><br><span class="line">			dfs(nextNode, visited);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="DFS-ä»£ç -éé€’å½’å†™æ³•"><a href="#DFS-ä»£ç -éé€’å½’å†™æ³•" class="headerlink" title="DFS ä»£ç  - éé€’å½’å†™æ³•"></a>DFS ä»£ç  - éé€’å½’å†™æ³•</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (!root) <span class="keyword">return</span> [];</span><br><span class="line">	<span class="keyword">const</span> visited = <span class="keyword">new</span> <span class="built_in">Set</span>;</span><br><span class="line">	<span class="keyword">const</span> stack = [root];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span> (stack.length) &#123;</span><br><span class="line">		<span class="keyword">let</span> node = stack.pop();</span><br><span class="line">		visited.add(node);</span><br><span class="line">		</span><br><span class="line">		process(node);</span><br><span class="line">		nodes = generateRelatedNodes(node);</span><br><span class="line">		stack.push(nodes);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// other processing work</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h2><ul>
<li><a href="https://leetcode-cn.com/problems/word-ladder/" target="_blank" rel="noopener">127. å•è¯æ¥é¾™-i</a></li>
<li><a href="https://leetcode-cn.com/problems/open-the-lock/" target="_blank" rel="noopener">752. æ‰“å¼€è½¬ç›˜é”</a></li>
<li><a href="https://leetcode-cn.com/problems/word-ladder-ii/" target="_blank" rel="noopener">126. å•è¯æ¥é¾™-ii</a></li>
<li><a href="https://leetcode-cn.com/problems/number-of-islands/" target="_blank" rel="noopener">200. å²›å±¿æ•°é‡</a></li>
<li><a href="https://leetcode-cn.com/problems/minesweeper/" target="_blank" rel="noopener">529. æ‰«é›·æ¸¸æˆ</a></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">BFS</span>(<span class="params">graph, start, end</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">const</span> queue = [];</span><br><span class="line">	queue.push([start]);</span><br><span class="line">	<span class="keyword">const</span> visited = <span class="keyword">new</span> <span class="built_in">Set</span>;</span><br><span class="line">	visited.add(start);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span> (queue.length) &#123;</span><br><span class="line">		<span class="keyword">let</span> node = queue.shift();</span><br><span class="line">		visited.add(node);</span><br><span class="line">		</span><br><span class="line">		process(node);</span><br><span class="line">		nodes = generateRelatedNodes(node);</span><br><span class="line">		queue.push(nodes);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// other processing work</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h2><ul>
<li><a href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/" target="_blank" rel="noopener">153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼</a><ul>
<li><a href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/solution/er-fen-cha-zhao-wei-shi-yao-zuo-you-bu-dui-cheng-z/" target="_blank" rel="noopener">é¢˜è§£</a></li>
</ul>
</li>
<li><a href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array/" target="_blank" rel="noopener">33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„</a></li>
<li><a href="https://leetcode-cn.com/problems/search-a-2d-matrix/" target="_blank" rel="noopener">74. æœç´¢äºŒç»´çŸ©é˜µ</a></li>
<li><a href="https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/" target="_blank" rel="noopener">34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</a></li>
<li><a href="https://leetcode-cn.com/problems/russian-doll-envelopes" target="_blank" rel="noopener">354. ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜</a></li>
<li></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> left = <span class="number">0</span>, right = arr.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (left &lt; = right) &#123;</span><br><span class="line">	<span class="keyword">let</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">	<span class="keyword">if</span> (arr[mid] === target) &#123;</span><br><span class="line">		<span class="comment">// find the target</span></span><br><span class="line">		<span class="keyword">break</span> or <span class="keyword">return</span> result;</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &lt; target) &#123;</span><br><span class="line">		left = mid + <span class="number">1</span>;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		right = mid - <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç»„åˆ"><a href="#ç»„åˆ" class="headerlink" title="ç»„åˆ"></a>ç»„åˆ</h2><ul>
<li><a href="https://leetcode-cn.com/problems/combinations/" target="_blank" rel="noopener">77. ç»„åˆ</a></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> combine = <span class="function"><span class="keyword">function</span> (<span class="params">n, k</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> res = [];</span><br><span class="line">	<span class="keyword">let</span> start = <span class="number">1</span>, path = [];</span><br><span class="line">	combineHelper(n, k, start, res, path);</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>n 1 ... n æ•°ç»„ 1 ~ n</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>k å– k ä¸ªæ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>start ä»å“ªä¸ªå¼€å§‹å–ï¼ˆä¸ä»æ•°ç»„ä¸‹æ ‡0å¼€å§‹ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>res ç»“æœé›†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>path å•ä¸ªç»“æœ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> combineHelper = <span class="function"><span class="keyword">function</span> (<span class="params">n, k, start, res, path</span>) </span>&#123;</span><br><span class="line">	<span class="comment">// recursion terminator</span></span><br><span class="line">	<span class="keyword">if</span> (path.length === k) &#123;</span><br><span class="line">		res.push(path.slice()); <span class="comment">// å¤‡ä»½ä¸€ä»½</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// logic process</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt;= n; i ++) &#123; <span class="comment">// æ•°ç»„ä¸º 1 ï½ nï¼Œæ‰€ä»¥ç»ˆæ­¢æ¡ä»¶ i &lt;= n;ï¼ˆè§†æƒ…å†µè€Œå®šï¼‰</span></span><br><span class="line">		path.push(i); <span class="comment">// é€‰</span></span><br><span class="line">		<span class="comment">// drill down</span></span><br><span class="line">		combineHelper(n. k, i + <span class="number">1</span>, res, path);</span><br><span class="line">		path.pop(); <span class="comment">// ä¸é€‰</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ’åˆ—"><a href="#æ’åˆ—" class="headerlink" title="æ’åˆ—"></a>æ’åˆ—</h2><ul>
<li><a href="https://leetcode-cn.com/problems/permutations/" target="_blank" rel="noopener">46. å…¨æ’åˆ—-i</a></li>
<li><a href="https://leetcode-cn.com/problems/permutations-ii/" target="_blank" rel="noopener">47. å…¨æ’åˆ—-ii</a></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> permute = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> res = [];</span><br><span class="line">	<span class="keyword">let</span> path =[];</span><br><span class="line">	<span class="keyword">let</span> usedNum = &#123;&#125;;</span><br><span class="line">	permuteHelper(nums, res, path, usedNum);</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>nums ç”¨äºæ’åˆ—çš„æ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>res ç»“æœé›†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>path å•ä¸ªç»“æœ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>usedNum ä½¿ç”¨è¿‡çš„æ•°å­—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> permuteHelper = <span class="function"><span class="keyword">function</span>(<span class="params">nums, res, path, usedNum</span>) </span>&#123;</span><br><span class="line">	<span class="comment">// recursion terminator</span></span><br><span class="line">	<span class="keyword">if</span> (path.length === nums.length) &#123;</span><br><span class="line">    <span class="comment">// å˜é‡ path æ‰€æŒ‡å‘çš„åˆ—è¡¨ åœ¨æ·±åº¦ä¼˜å…ˆéå†çš„è¿‡ç¨‹ä¸­åªæœ‰ä¸€ä»½ ï¼Œæ·±åº¦ä¼˜å…ˆéå†å®Œæˆä»¥åï¼Œå›åˆ°äº†æ ¹ç»“ç‚¹ï¼Œæˆä¸ºç©ºåˆ—è¡¨ã€‚</span></span><br><span class="line">		res.push(path.slice());</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// current level logic </span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i ++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (usedNum[nums[i]] !== <span class="keyword">void</span> <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		path.push(nums[i]); <span class="comment">// é€‰ä¸­</span></span><br><span class="line">		usedNum[nums[i]] = truel;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// drill down</span></span><br><span class="line">		permuteHelper(nums, res, path, usedNum);</span><br><span class="line">		</span><br><span class="line">		path.pop(); <span class="comment">// æœªé€‰ä¸­</span></span><br><span class="line">		usedNum[nums[i]] = <span class="literal">false</span>; <span class="comment">// æ’¤é”€ä½¿ç”¨è®°å½•</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> permuteUnique = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line">  <span class="keyword">let</span> defaultNum = &#123;&#125;;</span><br><span class="line">  <span class="comment">// ç»Ÿè®¡å­—ç¬¦å‡ºç°ä¸ªæ•°</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i ++) &#123;</span><br><span class="line">    defaultNum[nums[i]] ? defaultNum[nums[i]] ++ : defaultNum[nums[i]] = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> usedNum = &#123;... defaultNum&#125;;</span><br><span class="line">  nums = nums.sort();</span><br><span class="line">  permuteUniqueHelper(nums, res, [], usedNum);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>nums ä¼ å…¥çš„å¯ä½¿ç”¨æ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>res ç»“æœ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>path å½“å‰å±‚ç»“æœ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>usedNum ä½¿ç”¨è¿‡çš„map</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> permuteUniqueHelper = <span class="function"><span class="keyword">function</span>(<span class="params">nums, res, path, usedNum</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// recursion terminator</span></span><br><span class="line">  <span class="keyword">if</span> (path.length === nums.length) &#123;</span><br><span class="line">    res.push(path.slice());</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// current level logic</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i ++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[i - <span class="number">1</span>] == nums[i] &amp;&amp; i - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; usedNum[nums[i]]) &#123; <span class="comment">// é¿å…äº§ç”Ÿé‡å¤çš„æ’åˆ—</span></span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (usedNum[nums[i]] !== <span class="keyword">void</span> <span class="number">0</span> &amp;&amp; usedNum[nums[i]] === <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">    usedNum[nums[i]] --; <span class="comment">// ä½¿ç”¨æ¬¡æ•°å‡ä¸€</span></span><br><span class="line">    path.push(nums[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// drill down</span></span><br><span class="line">    permuteUniqueHelper(nums, res, path, usedNum);</span><br><span class="line">    </span><br><span class="line">    path.pop();</span><br><span class="line">    usedNum[nums[i]] ++; <span class="comment">// æ’¤é”€ä½¿ç”¨è®°å½• </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><ul>
<li><a href="https://leetcode-cn.com/problems/longest-increasing-subsequence/" target="_blank" rel="noopener">âœ¨300. æœ€é•¿ä¸Šå‡å­åºåˆ—</a></li>
<li><a href="https://leetcode-cn.com/problems/coin-change/" target="_blank" rel="noopener">âœ¨322 é›¶é’±å…‘æ¢</a></li>
<li><a href="https://leetcode-cn.com/problems/longest-valid-parentheses/" target="_blank" rel="noopener">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·</a></li>
<li><a href="https://leetcode-cn.com/problems/maximum-subarray/" target="_blank" rel="noopener">53. æœ€å¤§å­åºå’Œ</a></li>
<li><a href="https://leetcode-cn.com/problems/unique-paths/" target="_blank" rel="noopener">62. ä¸åŒè·¯å¾„</a></li>
<li><a href="https://leetcode-cn.com/problems/edit-distance/" target="_blank" rel="noopener">72. ç¼–è¾‘è·ç¦»</a></li>
<li><a href="https://leetcode-cn.com/problems/decode-ways/" target="_blank" rel="noopener">91. è§£ç æ–¹æ³•</a></li>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock" target="_blank" rel="noopener">121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº</a></li>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii" target="_blank" rel="noopener">122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-ii</a></li>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii" target="_blank" rel="noopener">123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-iii</a></li>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv" target="_blank" rel="noopener">188. ä¹°ç¥¨è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-iv</a></li>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown" target="_blank" rel="noopener">309. æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ</a></li>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee" target="_blank" rel="noopener">714. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹</a></li>
<li><a href="https://leetcode-cn.com/problems/house-robber-ii" target="_blank" rel="noopener">213. æ‰“å®¶åŠ«èˆ</a></li>
<li><a href="https://leetcode-cn.com/problems/coin-change" target="_blank" rel="noopener">322. é›¶é’±å…‘æ¢</a></li>
<li><a href="https://leetcode-cn.com/problems/coin-change-2" target="_blank" rel="noopener">518. é›¶é’±å…‘æ¢-ii</a></li>
<li><a href="https://leetcode-cn.com/problems/house-robber-iii" target="_blank" rel="noopener">337. æ‰“å®¶åŠ«èˆ-iii</a></li>
<li><a href="https://leetcode-cn.com/problems/wiggle-subsequence" target="_blank" rel="noopener">376. æ‘†åŠ¨åºåˆ—</a></li>
<li><a href="https://leetcode-cn.com/problems/partition-equal-subset-sum" target="_blank" rel="noopener">416. åˆ†å‰²ç­‰å’Œå­é›†</a></li>
<li><a href="https://leetcode-cn.com/problems/fibonacci-number" target="_blank" rel="noopener">509. æ–æ³¢é‚£å¥‘æ•°åˆ—</a></li>
<li><a href="https://leetcode-cn.com/problems/longest-palindromic-subsequence" target="_blank" rel="noopener">516. æœ€é•¿å›æ–‡å­åºåˆ—</a></li>
<li><a href="https://leetcode-cn.com/problems/longest-common-subsequence" target="_blank" rel="noopener">1143. æœ€é•¿å…¬å…±å­åºåˆ—</a></li>
</ul>
<h2 id="åšå¼ˆè®º"><a href="#åšå¼ˆè®º" class="headerlink" title="åšå¼ˆè®º"></a>åšå¼ˆè®º</h2><ul>
<li><a href="https://leetcode-cn.com/problems/nim-game/" target="_blank" rel="noopener">292. Nimæ¸¸æˆ</a></li>
<li><a href="https://leetcode-cn.com/problems/stone-game/" target="_blank" rel="noopener">877. çŸ³å­æ¸¸æˆ</a></li>
</ul>
<h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul>
<li>æœ€æ–°æ›´æ–° 2020-12-29</li>
</ul>
]]></content>
      <categories>
        <category>é¢ç»</category>
      </categories>
  </entry>
  <entry>
    <title>é¢ç»ï¼šå­—èŠ‚è·³åŠ¨</title>
    <url>/2021/03/20/%E9%9D%A2%E7%BB%8F%EF%BC%9A%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h1 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h1><ul>
<li>è¿Ÿåˆ°äº† 3 ä¸ªæœˆçš„é¢ç»ï¼Œæˆ‘æœ‰ç½ª ğŸ˜­</li>
</ul>
<a id="more"></a>

<h1 id="å½“å‰çŠ¶æ€"><a href="#å½“å‰çŠ¶æ€" class="headerlink" title="å½“å‰çŠ¶æ€"></a>å½“å‰çŠ¶æ€</h1><ul>
<li>å·²æŠ•é€’</li>
<li>æœªå½•å–</li>
</ul>
<h1 id="é¢è¯•æ€»ç»“"><a href="#é¢è¯•æ€»ç»“" class="headerlink" title="é¢è¯•æ€»ç»“"></a>é¢è¯•æ€»ç»“</h1><h2 id="ä¸€è½®é¢è¯•"><a href="#ä¸€è½®é¢è¯•" class="headerlink" title="ä¸€è½®é¢è¯•"></a>ä¸€è½®é¢è¯•</h2><h3 id="é¡¹ç›®ç›¸å…³"><a href="#é¡¹ç›®ç›¸å…³" class="headerlink" title="é¡¹ç›®ç›¸å…³"></a>é¡¹ç›®ç›¸å…³</h3><h3 id="æŠ€æœ¯ç›¸å…³"><a href="#æŠ€æœ¯ç›¸å…³" class="headerlink" title="æŠ€æœ¯ç›¸å…³"></a>æŠ€æœ¯ç›¸å…³</h3><ul>
<li><p>CSS position é˜è¿°</p>
</li>
<li><p>æ€ä¹ˆç†è§£ HTTP is stateless, but not sessionless ï¼Ÿ</p>
</li>
<li><p>åŒ…å›´ç›’è®¡ç®—</p>
</li>
</ul>
<h3 id="Coding"><a href="#Coding" class="headerlink" title="Coding"></a>Coding</h3><ul>
<li>Promise ä»£ç é˜…è¯»é¢˜</li>
<li>Promise å®ç°è¯·æ±‚è¶…æ—¶</li>
<li>æå– url çš„ä¸»åŸŸå</li>
<li>LIS</li>
</ul>
<h2 id="äºŒè½®é¢è¯•"><a href="#äºŒè½®é¢è¯•" class="headerlink" title="äºŒè½®é¢è¯•"></a>äºŒè½®é¢è¯•</h2><p>è¿™è½®é¢è¯•æ¯”è¾ƒæ–°é¢–ï¼Œé¢è¯•å®˜è®©é˜è¿°ä¸€ä¸ªçŸ¥è¯†ç‚¹åï¼Œå°±æœ‰å‡†å¤‡ç›¸å…³é¢˜ç›®ï¼ˆä»£ç é˜…è¯»/codingï¼‰</p>
<h3 id="é¡¹ç›®ç›¸å…³-1"><a href="#é¡¹ç›®ç›¸å…³-1" class="headerlink" title="é¡¹ç›®ç›¸å…³"></a>é¡¹ç›®ç›¸å…³</h3><h3 id="æŠ€æœ¯é—®é¢˜"><a href="#æŠ€æœ¯é—®é¢˜" class="headerlink" title="æŠ€æœ¯é—®é¢˜"></a>æŠ€æœ¯é—®é¢˜</h3><ul>
<li><p>é˜è¿°å¯¹ Web Worker çš„ç†è§£</p>
</li>
<li><p>é˜è¿° Webpack å·¥ä½œæµ</p>
<ul>
<li>loader å’Œ plugin åŒºåˆ«</li>
<li>å¯¹æ¯”å…¶ä»–ä½¿ç”¨è¿‡çš„æ‰“åŒ…å·¥å…·ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«</li>
<li>tree shaking </li>
</ul>
</li>
<li><p>dependency dev-dependency peer-dependency åŒºåˆ«</p>
</li>
<li><p>é˜è¿°ä¸€ä¸‹ React-Hooks</p>
<ul>
<li>React-Hooks å®ç°æ— é™æ»šåŠ¨åˆ—è¡¨</li>
</ul>
</li>
<li><p>é˜è¿°ä¸€ä¸‹å¯¹ this å…³é”®å­—çš„ç†è§£</p>
<ul>
<li>ä»£ç é˜…è¯»</li>
</ul>
</li>
</ul>
<h2 id="ä¸‰è½®é¢è¯•"><a href="#ä¸‰è½®é¢è¯•" class="headerlink" title="ä¸‰è½®é¢è¯•"></a>ä¸‰è½®é¢è¯•</h2><h3 id="é¡¹ç›®ç›¸å…³-2"><a href="#é¡¹ç›®ç›¸å…³-2" class="headerlink" title="é¡¹ç›®ç›¸å…³"></a>é¡¹ç›®ç›¸å…³</h3><h3 id="æŠ€æœ¯é—®é¢˜-1"><a href="#æŠ€æœ¯é—®é¢˜-1" class="headerlink" title="æŠ€æœ¯é—®é¢˜"></a>æŠ€æœ¯é—®é¢˜</h3><ul>
<li>é˜è¿°åŸå‹é“¾</li>
<li>é˜è¿° JS å½“ä¸­çš„ç»§æ‰¿</li>
</ul>
<h3 id="coding"><a href="#coding" class="headerlink" title="coding"></a>coding</h3><ul>
<li>å®ç° instanceOf</li>
<li>å®ç°ç‰ˆæœ¬å·æ’åº</li>
<li>å®ç°ä¸‰æ•°ä¹‹å’Œ</li>
</ul>
<h2 id="æ¢ç»„äºŒè½®é¢è¯•"><a href="#æ¢ç»„äºŒè½®é¢è¯•" class="headerlink" title="æ¢ç»„äºŒè½®é¢è¯•"></a>æ¢ç»„äºŒè½®é¢è¯•</h2><h3 id="é¡¹ç›®ç›¸å…³-3"><a href="#é¡¹ç›®ç›¸å…³-3" class="headerlink" title="é¡¹ç›®ç›¸å…³"></a>é¡¹ç›®ç›¸å…³</h3><h3 id="æŠ€æœ¯é—®é¢˜-2"><a href="#æŠ€æœ¯é—®é¢˜-2" class="headerlink" title="æŠ€æœ¯é—®é¢˜"></a>æŠ€æœ¯é—®é¢˜</h3><ul>
<li>å®ç°ä¸å¯å˜æ•°æ®ï¼Œè°ˆè°ˆ Immutable</li>
<li>å¦‚ä½•å®ç°éª¨æ¶å±ï¼Œè¯´è¯´ä½ çš„æ€è·¯<ul>
<li>puppeteer</li>
</ul>
</li>
</ul>
<h3 id="coding-1"><a href="#coding-1" class="headerlink" title="coding"></a>coding</h3><ul>
<li><p>å‡½æ•° curry åŒ–å®ç° add(1)(2)(3)(4)=10; add(1)(1,2,3)(2)=9</p>
</li>
<li><p>è¯·ç”¨ç®—æ³•å®ç°:</p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä»ç»™å®šçš„æ— åºã€ä¸é‡å¤çš„æ•°ç»„Aä¸­ï¼Œå–å‡ºNä¸ªæ•°ï¼Œä½¿å…¶ç›¸åŠ å’Œä¸ºMã€‚å¹¶ç»™å‡ºç®—æ³•çš„æ—¶é—´&#x2F;ç©ºé—´å¤æ‚åº¦ï¼Œå¦‚ï¼š</span><br><span class="line"></span><br><span class="line">var arr &#x3D; [1, 4, 7, 11, 9, 8, 10, 6];</span><br><span class="line">var N &#x3D; 3;</span><br><span class="line">var M &#x3D; 27;</span><br><span class="line"></span><br><span class="line">Result:</span><br><span class="line"></span><br><span class="line">[7,11,9], [11,10,6], [9,8,10]</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="æ¢ç»„ä¸‰è½®é¢è¯•"><a href="#æ¢ç»„ä¸‰è½®é¢è¯•" class="headerlink" title="æ¢ç»„ä¸‰è½®é¢è¯•"></a>æ¢ç»„ä¸‰è½®é¢è¯•</h2><p>æ²¡æœ‰é—®æŠ€æœ¯é—®é¢˜</p>
<ul>
<li>ä½ è§‰å¾—å‰é¢é¢çš„æ€ä¹ˆæ ·ï¼Ÿ</li>
<li>èƒ½ç«‹å³åˆ°å²—å˜›ï¼Ÿ</li>
</ul>
<h1 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h1><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
]]></content>
      <categories>
        <category>é¢ç»</category>
      </categories>
      <tags>
        <tag>é¢ç»</tag>
      </tags>
  </entry>
  <entry>
    <title>é¢ç»ï¼šèš‚èšé‡‘æœ</title>
    <url>/2021/03/21/%E9%9D%A2%E7%BB%8F%EF%BC%9A%E8%9A%82%E8%9A%81%E9%87%91%E6%9C%8D/</url>
    <content><![CDATA[<style  type="text/css">
.lx-entry a {
    color: #191919;
    padding: 2px 0 1px 0;
    text-decoration: none;
    background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
    transition: background-position 120ms ease-in-out, padding 120ms ease-in-out;
    background-size: 100% 200%;
    background-position: 0 0;
    word-break: break-word;
}

.lx-entry a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), rgba(247,65,65,.761) calc(50% - 9px), rgba(247,65,65,.761) 100% );
  background-position: 0 100%;
}

.post-button a:hover {
  background-image: linear-gradient( transparent 0%, transparent calc(50% - 9px), transparent calc(50% - 9px), transparent 100% ) !important;
  background-position: 0 100% !important;
  outline: none !important;
  text-decoration: none !important;
}
</style>

<h1 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h1><ul>
<li>æˆ‘è¦æ‚„æ‚„å‘é¢ç»ï¼Œç„¶åæƒŠè‰³å§å¦¹ä»¬ ğŸ˜ƒ</li>
</ul>
<a id="more"></a>
<h1 id="å½“å‰çŠ¶æ€"><a href="#å½“å‰çŠ¶æ€" class="headerlink" title="å½“å‰çŠ¶æ€"></a>å½“å‰çŠ¶æ€</h1><ul>
<li>å·²æŠ•é€’</li>
<li>å·²æ‹¿ Offer</li>
</ul>
<h1 id="é¢è¯•æ€»ç»“"><a href="#é¢è¯•æ€»ç»“" class="headerlink" title="é¢è¯•æ€»ç»“"></a>é¢è¯•æ€»ç»“</h1><h2 id="ç¬”è¯•"><a href="#ç¬”è¯•" class="headerlink" title="ç¬”è¯•"></a>ç¬”è¯•</h2><p>å…ˆå‚åŠ äº†ä¸€è½®è§†é¢‘ç¬”è¯•ï¼Œäº”é“é¢˜ä¸­é€‰åšä¸‰é“ã€‚</p>
<ul>
<li>æ ¹æ®é¢˜æ„è¡¥è¶³ä»£ç </li>
<li>åˆ¤æ–­æ‹¬å·æ˜¯å¦åˆæ³•</li>
<li>æ‰¾å‡ºä¸å«æœ‰é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„é•¿åº¦</li>
</ul>
<h2 id="ä¸€è½®é¢è¯•"><a href="#ä¸€è½®é¢è¯•" class="headerlink" title="ä¸€è½®é¢è¯•"></a>ä¸€è½®é¢è¯•</h2><h3 id="é¡¹ç›®ç›¸å…³"><a href="#é¡¹ç›®ç›¸å…³" class="headerlink" title="é¡¹ç›®ç›¸å…³"></a>é¡¹ç›®ç›¸å…³</h3><h3 id="æŠ€æœ¯ç›¸å…³"><a href="#æŠ€æœ¯ç›¸å…³" class="headerlink" title="æŠ€æœ¯ç›¸å…³"></a>æŠ€æœ¯ç›¸å…³</h3><ul>
<li>é˜è¿°ä¸€ä¸‹å¯¹ Event Loop ç†è§£</li>
<li>Virtual DOM çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>React setState æ˜¯å¼‚æ­¥çš„è¿˜æ˜¯åŒæ­¥çš„<ul>
<li>batchingStrategy</li>
</ul>
</li>
<li>ä½ æ˜¯å¦‚ä½•åˆ†æå’Œè°ƒä¼˜æ€§èƒ½ç“¶é¢ˆï¼Ÿ</li>
</ul>
<h3 id="coding"><a href="#coding" class="headerlink" title="coding"></a>coding</h3><h2 id="äºŒè½®é¢è¯•"><a href="#äºŒè½®é¢è¯•" class="headerlink" title="äºŒè½®é¢è¯•"></a>äºŒè½®é¢è¯•</h2><h3 id="é¡¹ç›®ç›¸å…³-1"><a href="#é¡¹ç›®ç›¸å…³-1" class="headerlink" title="é¡¹ç›®ç›¸å…³"></a>é¡¹ç›®ç›¸å…³</h3><h3 id="æŠ€æœ¯ç›¸å…³-1"><a href="#æŠ€æœ¯ç›¸å…³-1" class="headerlink" title="æŠ€æœ¯ç›¸å…³"></a>æŠ€æœ¯ç›¸å…³</h3><ul>
<li>React 17 æœ‰äº†è§£å˜›</li>
<li>ä½¿ç”¨ React-Hooks å½“ä¸­æœ‰è¸©åˆ°ä»€ä¹ˆå‘å˜›ï¼Ÿ</li>
<li>åœ¨ React ä¸­å¦‚ä½•è¿›è¡Œæ•°æ®æµç®¡ç†çš„å‘¢ï¼Ÿ</li>
<li>èƒ½é˜è¿°ä¸‹æ´‹è‘±æ¨¡å‹å˜›ï¼Ÿ</li>
</ul>
<h3 id="coding-1"><a href="#coding-1" class="headerlink" title="coding"></a>coding</h3><h2 id="ä¸‰è½®é¢è¯•"><a href="#ä¸‰è½®é¢è¯•" class="headerlink" title="ä¸‰è½®é¢è¯•"></a>ä¸‰è½®é¢è¯•</h2><p>æ¯”è¾ƒç‰¹åˆ«æ˜¯ HR å’Œ TL åœ¨ä¸€èµ·é¢çš„ã€‚TLåªé—®äº†ä¸€ä¸ªæŠ€æœ¯é—®é¢˜</p>
<h3 id="æŠ€æœ¯ç›¸å…³-2"><a href="#æŠ€æœ¯ç›¸å…³-2" class="headerlink" title="æŠ€æœ¯ç›¸å…³"></a>æŠ€æœ¯ç›¸å…³</h3><ul>
<li>é˜è¿°ä¸€ä¸‹ä½ å¯¹ Http 2.0 çš„äº†è§£</li>
</ul>
<h1 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h1><ul>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
<!-- more -->]]></content>
      <categories>
        <category>é¢ç»</category>
      </categories>
      <tags>
        <tag>é¢ç»</tag>
      </tags>
  </entry>
</search>
