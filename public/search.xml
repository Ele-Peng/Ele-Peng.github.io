<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Popover</title>
    <url>/2020/04/05/Popover/</url>
    <content><![CDATA[<h4 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h4><ul>
<li>è®°å½•åŸºäº<a href="https://developers.weixin.qq.com/community/develop/doc/000e4e7103c3c090e517e0cdb5b806" target="_blank" rel="noopener">å¾®ä¿¡å°ç¨‹åº-æ°”æ³¡æ¡†</a>å®ç°ä¸­äº§ç”Ÿçš„é—®é¢˜åŠæ€è€ƒ</li>
</ul>
<hr>
<h4 id="é—®é¢˜æˆªå›¾"><a href="#é—®é¢˜æˆªå›¾" class="headerlink" title="é—®é¢˜æˆªå›¾"></a>é—®é¢˜æˆªå›¾</h4><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzlkMGY1NmUxOTVkNzFjMjAyYzVkYzI0OGMxMzg0NmUxMTQ3MTQucG5n?x-oss-process=image/format,png" alt="popoveré—®é¢˜æˆªå›¾"></p>
<h4 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h4><ul>
<li>æ¨¡æ‹Ÿå™¨æ˜¾ç¤ºæ­£å¸¸ï¼Œä½†åœ¨çœŸæœºä¸Šç‚¹å‡»åï¼Œæ°”æ³¡æ¡†çš„ç®­å¤´å¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œä¸”ç‚¹å‡»åŒä¸€çº§åˆ«åŒºåŸŸï¼Œèƒ½åˆ©ç”¨è¦†ç›–æ¶ˆé™¤ç®­å¤´ã€‚ã€æ˜¯ä¸æ˜¯ä¸€ä¸ªå¾ˆå¯çˆ±çš„bugï¼Ÿ</li>
</ul>
<h4 id="é—®é¢˜è§£å†³è¿‡ç¨‹è®°å½•"><a href="#é—®é¢˜è§£å†³è¿‡ç¨‹è®°å½•" class="headerlink" title="é—®é¢˜è§£å†³è¿‡ç¨‹è®°å½•"></a>é—®é¢˜è§£å†³è¿‡ç¨‹è®°å½•</h4><ul>
<li><p>å®šä½é—®é¢˜å‘ç”Ÿçš„åŸå› èŒƒå›´</p>
<ul>
<li>æ ·å¼<ul>
<li>æ ·å¼åœ¨åˆ¤æ–­æ˜¾ç¤ºæ¡ä»¶(wx:if=â€â€œ)ç”Ÿæ•ˆåï¼Œä»ç„¶æ¸²æŸ“</li>
<li>å¦å®šåŸå› <ul>
<li>æŸ¥è¯¢ä»£ç å‘ç°ï¼Œæ•´ä¸ªæ ·å¼èƒŒæ™¯çš„è®¾å®šæ˜¯åœ¨::beforeä¼ªå…ƒç´ é€‰æ‹©å™¨ä¸­</li>
<li>ä¸”æ˜¾ç¤ºæ¡ä»¶ç”Ÿæ•ˆï¼Œåœ¨è°ƒè¯•å™¨ä¸­å·²æ²¡æœ‰è¯¥å…ƒç´ ï¼Œä½†ä»æ˜¾ç¤º</li>
</ul>
</li>
</ul>
</li>
<li>é€»è¾‘<ul>
<li>ä¼šä¸ä¼šæ˜¯ç»„ä»¶åœ¨æ¸²æŸ“æ—¶ï¼Œå¤šæ¸²æŸ“ä¸€ä»½ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ¤æ–­æ¡ä»¶è¿›è¡Œå¼€å…³æ—¶ï¼Œåªæ˜¯å¯¹å…¶ä¸­ä¸€ä¸ªè¿›è¡Œäº†æ“ä½œ</li>
<li>æ€€ç–‘ä¾æ®<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzk5ZjcwMDAwZmViM2IwYzc0MWJmNjFiYzE5YTUwMDIxMjYyMTI3LnBuZw?x-oss-process=image/format,png" alt="popoveré—®é¢˜ä¾æ®æˆªå›¾"></li>
<li>ä¸Šå›¾å¯è§ï¼šåœ¨popoverç»„ä»¶ä¸‹ï¼Œæœ‰2ä¸ªé€šè¿‡&lt;slot&gt;æ’å…¥çš„ç›¸åŒå†…å®¹</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>å¼€å§‹è§£å†³é—®é¢˜</p>
<ul>
<li>æŸ¥è¯¢å®˜æ–¹å…³äº<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html" target="_blank" rel="noopener">slot</a>æ–¹é¢çš„ä»‹ç»<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2JjMTE0ZmI0YTdhOWZkY2ZlYzU3ZDE5ZWQyYWY0YzI3MzE1NTU4LnBuZw?x-oss-process=image/format,png" alt="å®˜æ–¹slotåŸºç¡€ä¾‹å­"></li>
</ul>
</li>
<li>åŸºäºå®˜æ–¹åŸºç¡€ä»£ç ï¼Œå¤ç°é—®é¢˜<ul>
<li>äº§ç”Ÿä¸€ä¸ªchild-tagç»„ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­ç¼–å†™  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// components/child-tag.js.js</span></span><br><span class="line">Component(&#123;</span><br><span class="line">  options: &#123;</span><br><span class="line">    multipleSlots: <span class="literal">true</span> <span class="comment">// åœ¨ç»„ä»¶å®šä¹‰æ—¶çš„é€‰é¡¹ä¸­å¯ç”¨å¤šslotæ”¯æŒ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„å±æ€§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  properties: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  relations: &#123;</span><br><span class="line">    <span class="string">'./component-tag-name'</span>: &#123;</span><br><span class="line">      type: <span class="string">'parent'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„åˆå§‹æ•°æ®</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  data: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  methods: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li>ä¸component-tag-nameç»‘å®šå½¢æˆçˆ¶å­ç»„ä»¶  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// components/component-tag-name.js</span></span><br><span class="line">Component(&#123;</span><br><span class="line">  options: &#123;</span><br><span class="line">    multipleSlots: <span class="literal">true</span> <span class="comment">// åœ¨ç»„ä»¶å®šä¹‰æ—¶çš„é€‰é¡¹ä¸­å¯ç”¨å¤šslotæ”¯æŒ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  relations: &#123;</span><br><span class="line">    <span class="string">'./child-tag'</span>: &#123;</span><br><span class="line">      type: <span class="string">'child'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„å±æ€§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  properties: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„åˆå§‹æ•°æ®</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  data: &#123;</span><br><span class="line">    visible: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li>å¹¶å°†index.htmlä¸­è¿›è¡Œè°ƒç”¨  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼•ç”¨ç»„ä»¶çš„é¡µé¢æ¨¡ç‰ˆ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"primary"</span> <span class="attr">bindtap</span>=<span class="string">"onTap"</span>&gt;</span>222<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">my-component</span> <span class="attr">id</span>=<span class="string">"component"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">view</span> <span class="attr">slot</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">			è¿™é‡Œæ˜¯æ’å…¥åˆ°ç»„ä»¶slot name="content"ä¸­çš„å†…å®¹</span><br><span class="line">			<span class="tag">&lt;<span class="name">child-component</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">view</span> <span class="attr">slot</span>=<span class="string">"child"</span>&gt;</span>è¿™é‡Œæ˜¯æ’å…¥åˆ°ç»„ä»¶slot name="child"ä¸­çš„å†…å®¹<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">child-component</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>ä½†æ˜¯å…¶ç»“æ„æ ‘ä»ç„¶éå¸¸æ­£å¸¸ï¼Œå¹¶æ²¡æœ‰å‡ºç°é‚£ä¸ªæ‰€è°“çš„â€æ‹·è´â€ç»„ä»¶<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzcwNTRhNjJkYmM2MGEyNmU5ZGI1ODYzNzNjOGY2OTgyMzg3NTI0LnBuZw?x-oss-process=image/format,png" alt="æ”¹å†™v1.1åçš„ç»“æ„æ ‘æˆªå›¾"></li>
<li>ä»”ç»†å¤ç°äº†å‡ æ¬¡ï¼Œå‘ç°ï¼šå¤šå‡ºæ¥çš„é‚£ä¸ªç»„ä»¶ä¼šæœ‰æ‰€å»¶è¿Ÿã€‚æŠ“ä½è¿™ä¸ªé—®é¢˜ï¼Œæƒ³åˆ°æˆ‘ä»¬åœ¨onReadyä¸­ï¼Œæ³¨å†Œäº†è¯¥ç»„ä»¶ï¼Œäºæ˜¯ï¼Œç»§ç»­æ¨¡æ‹Ÿ</li>
</ul>
</li>
<li>ä¿®æ”¹index.jsä»£ç ï¼Œå¹¶åœ¨component-tag-nameç»„ä»¶æ³¨å†ŒonTapæ–¹æ³•ï¼Œæ§åˆ¶æ˜¾éš  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">onReady() &#123;</span><br><span class="line">  <span class="keyword">this</span>.component = <span class="keyword">this</span>.selectComponent(<span class="string">'#component'</span>)</span><br><span class="line">&#125;,</span><br><span class="line">onTap() &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'onTap'</span>)</span><br><span class="line">  wx.createSelectorQuery().select(<span class="string">'#component'</span>).boundingClientRect(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// è°ƒç”¨è‡ªå®šä¹‰ç»„ä»¶ popover ä¸­çš„ onDisplay æ–¹æ³•</span></span><br><span class="line">      <span class="keyword">this</span>.component.onTap();</span><br><span class="line">  &#125;).exec();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>æœ€ç»ˆå¤ç°<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzhmZjQ3OTNhMjUwYTNjMzlhYjBlOGQxMGJhYTllZmI2NDc1NjIyLnBuZw?x-oss-process=image/format,png" alt="å®˜æ–¹æ¨¡æ‹Ÿæœ€ç»ˆè¿è¡Œæˆªå›¾"></li>
</ul>
</li>
</ul>
</li>
<li>å¾—å‡ºé—®é¢˜æ¥æºï¼š<ul>
<li>åœ¨ç»„ä»¶ä¸­è¿›è¡Œäº†ä¸€æ¬¡setData</li>
</ul>
</li>
<li>æ€è€ƒèƒŒåé—®é¢˜<ul>
<li>åœ¨ç»„ä»¶ä¸­setDataä¸ºä»€ä¹ˆä¼šâ€æ‹·è´â€œä¸€ä»½ç›¸åŒçš„åœ¨é¡µé¢çº§wxmlä¸­ï¼Ÿ</li>
<li>çŒœæƒ³ä¸€ï¼šä»<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/interactive-animation.html#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88" target="_blank" rel="noopener">WXSå“åº”äº‹ä»¶</a>ä¸­ï¼Œæˆ‘éšéšå¾—åˆ°äº†ç­”æ¡ˆ</li>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzZlYWJjYjdjOTliMzAxNWMwOGQwZmM2YWM3ZmMxMGMzNDU5NDAxLnBuZw?x-oss-process=image/format,png" alt="wxsç›¸åº”äº‹ä»¶"></li>
<li>æˆ‘ä»¬åœ¨é¡µé¢çº§é€šè¿‡selectComponentå®ä¾‹åŒ–ç»„ä»¶ï¼Œå¯¹é€‰ä¸­çš„ç»„ä»¶è¿›è¡Œæ“ä½œï¼Œå®˜æ–¹å¯ä»¥é€šè¿‡æ‹·è´ä¸€ä»½ç›¸åŒçš„ç»„ä»¶ï¼Œä½¿æˆ‘ä»¬ä¾¿æ·çš„å°†äº‹ä»¶çš„å¤„ç†ä»2æ¬¡çš„é€»è¾‘å±‚å’Œæ¸²æŸ“å±‚é€šä¿¡ä»¥åŠä¸€æ¬¡æ¸²æŸ“ï¼Œå‡å°‘åˆ°ç›´æ¥å¯¹é¡µé¢ä¸Šå…ƒç´ è¿›è¡Œæ“ä½œï¼Œå³ä¸€æ¬¡é€»è¾‘å±‚å’Œæ¸²æŸ“å±‚é€šä¿¡ä»¥åŠä¸€æ¬¡æ¸²æŸ“ã€‚</li>
<li>çŒœæƒ³äºŒï¼šé—®é¢˜å±‚é¢æ˜¯åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­çš„wxmlï¼Œæ¸²æŸ“æ–¹å¼å¯¹äºè¿™ç§æƒ…å†µå°±æ˜¯è¿™æ ·å¤„ç†çš„ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p>å®˜æ–¹å·²ç»™å‡ºé—®é¢˜åŸå› </p>
<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzJkMWVkZmYyNWIwM2YxZDU2ZGVjYjZhM2NkYjAwMGU5NTE5ODQucG5n?x-oss-process=image/format,png" alt="wxmlé¢æ¿"></li>
</ul>
</li>
</ul>
<h4 id="å¦‚ä½•è§£å†³é—®é¢˜"><a href="#å¦‚ä½•è§£å†³é—®é¢˜" class="headerlink" title="å¦‚ä½•è§£å†³é—®é¢˜"></a>å¦‚ä½•è§£å†³é—®é¢˜</h4><ul>
<li>åœ¨popoverä»¥åŠpopover-itemåŠ å…¥  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">options: &#123;</span><br><span class="line">		    multipleSlots: <span class="literal">true</span> <span class="comment">// åœ¨ç»„ä»¶å®šä¹‰æ—¶çš„é€‰é¡¹ä¸­å¯ç”¨å¤šslotæ”¯æŒ</span></span><br><span class="line">		  &#125;,</span><br></pre></td></tr></table></figure></li>
<li>å°±å¯ä»¥è§£å†³äº†ã€‚æœ€åå»ºè®®slotä¸­å¯ä»¥å†™ä¸Šnameè¿™æ ·ä»£ç å¯èƒ½ä¼šæ›´æ˜“è¯»ã€‚<h4 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h4></li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
<hr>
]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
      <tags>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>canvasåŸç”Ÿç»„ä»¶æœ€é¡¶å±‚</title>
    <url>/2020/04/05/canvas%E5%8E%9F%E7%94%9F%E7%BB%84%E4%BB%B6%E6%9C%80%E9%A1%B6%E5%B1%82/</url>
    <content><![CDATA[<h4 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h4><ul>
<li>å¤§å®¶åº”è¯¥éƒ½çŸ¥é“è¿‡ï¼Œåœ¨å¾®ä¿¡å°ç¨‹åºä¸­ï¼Œcanvasç­‰åŸç”Ÿç»„ä»¶çš„å±‚çº§æ˜¯æœ€é«˜çš„ï¼Œé¡µé¢ä¸­æ— è®ºä½ è®¾ç½®å¤šå¤§çš„z-indexéƒ½æ— æ³•è¦†ç›–åœ¨å…¶ä¹‹ä¸Šï¼Œè¿™å°±å¯èƒ½ä¼šäº§ç”Ÿä¸€äº›é—®é¢˜</li>
<li>å°±åƒè¿™æ ·<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2UxYmQ5OTM2M2VkYjU1NTRmYjc5MzBlZDllMTA0ZjEwMTc2MDM0LnBuZw?x-oss-process=image/format,png" alt="canvasé¡¶å±‚é—®é¢˜æˆªå›¾"></li>
<li>æŸ±çŠ¶å›¾æ˜¯ç”¨canvasç”»çš„ï¼Œå®ƒç½®äºäº†æˆ‘çš„tooltipä¹‹ä¸Šã€‚ã€è¿™çœ‹èµ·æ¥çœŸæ˜¯ä¸€ä¸ªå¯æ€•çš„é—®é¢˜</li>
</ul>
</li>
</ul>
<hr>
<h4 id="è§£å†³é—®é¢˜"><a href="#è§£å†³é—®é¢˜" class="headerlink" title="è§£å†³é—®é¢˜"></a>è§£å†³é—®é¢˜</h4><ul>
<li>å¾®ä¿¡å®˜æ–¹æä¾›äº†<a href="https://developers.weixin.qq.com/miniprogram/dev/component/cover-view.html" target="_blank" rel="noopener">cover-view</a>åŸç”Ÿç»„ä»¶ï¼Œè¦†ç›–åœ¨åŸç”Ÿç»„ä»¶ä¹‹ä¸Šçš„æ–‡æœ¬è§†å›¾</li>
<li>å¾®ä¿¡å®˜æ–¹æä¾›äº†å°†canvasè½¬åŒ–ä¸ºå›¾ç‰‡çš„æ–¹å¼â€“<a href="https://developers.weixin.qq.com/miniprogram/dev/api/canvas/wx.canvasToTempFilePath.html" target="_blank" rel="noopener">wx.canvasToTempFilePath</a>ï¼Œè¿™æ ·å°±å¯ä»¥â€é™çº§â€œ</li>
</ul>
<h5 id="æ–¹æ³•ä¸€ï¼šcover-view"><a href="#æ–¹æ³•ä¸€ï¼šcover-view" class="headerlink" title="æ–¹æ³•ä¸€ï¼šcover-view"></a>æ–¹æ³•ä¸€ï¼šcover-view</h5><ul>
<li>å°†tooltipç”¨cover-viewæ”¹å†™ï¼Œæ•ˆæœå¦‚ä¸‹<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2Y0MTZjZjhlMjNiZWEwMjNjYTM1M2JhOGExMDM1MDM2MzYyOTIucG5n?x-oss-process=image/format,png" alt="cover-view version0.1 æˆªå›¾"></li>
<li>çœ‹ä¸Šå»ï¼Œæ˜¯è§£å†³äº†æˆ‘ä»¬çš„é—®é¢˜ï¼Œä¸”tooltipåçš„ç°è‰²èƒŒæ™¯ä¸èƒ½æ»‘åŠ¨äº†ï¼Œã€å¦ˆè€¶ï¼Œå¥½æ£’ï¼</li>
<li>ä½†æ˜¯ï¼Œè¿™äº§ç”Ÿäº†ä¸€ä¸ªï¼š<strong>å½“æ–‡æœ¬è¶…å‡ºtooltipå®½åº¦æ—¶ï¼Œscroll-y: autoï¼Œå¤±æ•ˆäº†ï¼Œæº¢å‡ºéƒ¨åˆ†è¢«ç›´æ¥æˆªå–</strong></li>
<li>ç½ªé­ç¥¸é¦–å°±æ˜¯å®ƒ<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2M5ZDljYjZiZTQ0ZGY3YmJmNmRlMjAxNDM1ZmYzOTJjNDMxNDMucG5n?x-oss-process=image/format,png" alt="coverå†…ç½®æ ·å¼"></li>
</ul>
</li>
<li>é‚£æˆ‘ä»¬å¯ä»¥ï¼š<ul>
<li>åœ¨tooltipåˆ†æ®µå†…å®¹ä¸­åŠ ä¸Š  <figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.modal-layer-content-rule</span> &#123;</span><br><span class="line">    <span class="attribute">white-space</span>: pre-wrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>åœ¨å†…å®¹wrapperä¸­åŠ ä¸Š  <figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.modal-layer-content</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: scroll;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>å®Œç¾è§£å†³<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2FhZjRkMDAyODdjZGI4M2Y0NWRhMGVkOTg3Mzc5MGNhNDQxMjkucG5n?x-oss-process=image/format,png" alt="cover-viewè§£å†³å›¾"><h5 id="æ–¹æ³•äºŒï¼šwx-canvasToTempFilePath"><a href="#æ–¹æ³•äºŒï¼šwx-canvasToTempFilePath" class="headerlink" title="æ–¹æ³•äºŒï¼šwx.canvasToTempFilePath"></a>æ–¹æ³•äºŒï¼šwx.canvasToTempFilePath</h5></li>
</ul>
</li>
</ul>
</li>
<li>é¦–å…ˆæˆ‘ä»¬è¦åšçš„å°±æ˜¯å°†ç½‘ç»œå›¾ç‰‡ç»˜åˆ¶è¿›canvasï¼Œå®˜æ–¹å…³äºcanvasç±»å‹æœ‰ä¸¤ç§<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2E4ZjJmNjA5OGYxNmQ4MzY3NWJiN2I3OWY0ZDM1NWM1MTAwMDg3LnBuZw?x-oss-process=image/format,png" alt="ä¸¤ç§canvasç±»å‹"></li>
<li>æ–°canvas 2Dæ¥å£å°è¯•  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> query = wx.createSelectorQuery().in(<span class="keyword">this</span>)</span><br><span class="line">   query.select(<span class="string">'#myCanvas'</span>)</span><br><span class="line">     .fields(&#123; <span class="attr">node</span>: <span class="literal">true</span>, <span class="attr">size</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">     .exec(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">       <span class="keyword">const</span> canvas = res[<span class="number">0</span>].node</span><br><span class="line">       <span class="keyword">const</span> ctx = canvas.getContext(<span class="string">'2d'</span>)</span><br><span class="line">       <span class="keyword">const</span> img = canvas.createImage()</span><br><span class="line">       img.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">         ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line">       &#125;</span><br><span class="line">       img.src = <span class="string">'https://p0.meituan.net/myvideodistribute/0990cc2062e81ab6cc11fd8690f8755042005.jpg'</span></span><br><span class="line">       <span class="comment">// è¿™ç§æ–¹å¼è·å–canvasåŒºåŸŸéšå«çš„åƒç´ æ•°æ®</span></span><br><span class="line">       <span class="built_in">console</span>.log(ctx.getImageData(<span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>, <span class="number">100</span>).data)</span><br><span class="line">     &#125;)</span><br></pre></td></tr></table></figure>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">type</span>=<span class="string">"2d"</span> <span class="attr">id</span>=<span class="string">"myCanvas"</span> <span class="attr">canvas-id</span>=<span class="string">"myCanvas"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>è¿è¡Œæˆªå›¾<img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzE5ZWE3ZGYxYjg2ODUzOWFhNzVhY2E0OTAxYzI2MzU2OTk4NDYucG5n?x-oss-process=image/format,png" alt="canvas2d è¿è¡Œæˆªå›¾"></li>
<li>ç¬¬äºŒç§æ—§canvas  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ctx = wx.createCanvasContext(<span class="string">'myCanvas'</span>)</span><br><span class="line">   wx.getImageInfo(&#123;</span><br><span class="line">       src: <span class="string">'https://p0.meituan.net/myvideodistribute/0990cc2062e81ab6cc11fd8690f8755042005.jpg'</span>,</span><br><span class="line">       success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'res'</span>, res)</span><br><span class="line">         <span class="keyword">const</span> poster = res.path                                  </span><br><span class="line">         ctx.drawImage(poster, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>, <span class="number">100</span>)</span><br><span class="line">         ctx.draw()</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;)</span><br><span class="line">     <span class="comment">// è¿™ç§æ–¹å¼è·å–canvasåŒºåŸŸéšå«çš„åƒç´ æ•°æ®</span></span><br><span class="line">     wx.canvasGetImageData(&#123;</span><br><span class="line">       canvasId: <span class="string">'myCanvas'</span>,</span><br><span class="line">       x: <span class="number">0</span>,</span><br><span class="line">       y: <span class="number">0</span>,</span><br><span class="line">       width: <span class="number">150</span>,</span><br><span class="line">       height: <span class="number">100</span>,</span><br><span class="line">       success(res) &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(res.width) <span class="comment">// 150</span></span><br><span class="line">         <span class="built_in">console</span>.log(res.height) <span class="comment">// 100</span></span><br><span class="line">         <span class="built_in">console</span>.log(res.data <span class="keyword">instanceof</span> <span class="built_in">Uint8ClampedArray</span>) <span class="comment">// true</span></span><br><span class="line">         <span class="built_in">console</span>.log(res.data) <span class="comment">// 150 * 100 * 4</span></span><br><span class="line">         <span class="built_in">console</span>.log(res.data.length) <span class="comment">// 150 * 100 * 4</span></span><br><span class="line">       &#125;</span><br><span class="line">     &#125;)</span><br></pre></td></tr></table></figure>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"myCanvas"</span> <span class="attr">canvas-id</span>=<span class="string">"myCanvas"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>è¿è¡Œæˆªå›¾<img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzU4NTg5MzQ4MDc3Njk3OTA0OTRmZmIzOWRiNDdjMWRmNjk4ODQucG5n?x-oss-process=image/format,png" alt="æ—§canvas"></li>
<li>è™½ç„¶ä¸¤ç§æ–¹æ³•ï¼Œéƒ½èƒ½å®ç°å°†ç½‘ç»œå›¾ç‰‡ç»˜åˆ¶è¿›canvasï¼Œä½†æ–°ç‰ˆçš„è¿›è¡Œäº†createImageï¼Œå°†å…¶æ‰“å°çš„è¯ï¼Œå…¶å®å°±æ˜¯æ–°å»ºäº†ä¸€ä¸ªimgæ ‡ç­¾ï¼Œå¹¶å°†imgæ ‡ç­¾çš„ä¸œè¥¿ç»˜åˆ¶è¿›canvas<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlLzFjMjE1NzMzZTRkY2UzNGZiNzI4NDFhZWEyMDc0ZWIwMjQ1OTQucG5n?x-oss-process=image/format,png" alt="img console"></li>
<li>ä¸ºä»€ä¹ˆå¾®ä¿¡å®˜æ–¹ä¼šä»…æ”¯æŒä»¥ä¸‹æ–¹å¼è¿›è¡Œæ–°ç‰ˆcanvas2d å›¾ç‰‡çš„ç»˜åˆ¶ï¼Œè€ƒè™‘æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2JhYWQ1OWRhNDI4M2FjZmViZTY1NGQ0ZWZiNTAxZDZlMjAxMjE2LnBuZw?x-oss-process=image/format,png" alt="ç»å…¸æŠ¥é”™"></li>
</ul>
</li>
<li>ç°åœ¨æˆ‘ä»¬è¦å°†canvasçš„å†…å®¹å¯¼æˆå›¾ç‰‡ï¼ŒåŒæ ·åˆ†æˆæ–°æ—§ä¸¤ç‰ˆ</li>
<li>ä¸»è¦æ€è·¯éƒ½æ˜¯ï¼šåœ¨wxmlä¸­ï¼Œå¦‚æœcanvasç»˜åˆ¶å›¾ç‰‡æ²¡æœ‰å®Œæˆï¼Œåˆ™æ˜¾ç¤ºcanvaså†…å®¹ï¼Œç»˜åˆ¶å®Œæˆåï¼Œå°±åˆ©ç”¨canvasToTempFilePathï¼Œå°†å›¾å±‚å†…å®¹ç”ŸæˆæŒ‡å®šå¤§å°å›¾ç‰‡ï¼Œæ˜¾ç¤ºimage<ul>
<li>canvas2d   <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> that = <span class="keyword">this</span></span><br><span class="line">   <span class="keyword">const</span> query = wx.createSelectorQuery().in(<span class="keyword">this</span>)</span><br><span class="line">   query.select(<span class="string">'#myCanvas'</span>)</span><br><span class="line">     .fields(&#123; <span class="attr">node</span>: <span class="literal">true</span>, <span class="attr">size</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">     .exec(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">       <span class="keyword">const</span> canvas = res[<span class="number">0</span>].node</span><br><span class="line">       <span class="keyword">const</span> ctx = canvas.getContext(<span class="string">'2d'</span>)</span><br><span class="line">       <span class="keyword">const</span> img = canvas.createImage()</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">'img'</span>, img)</span><br><span class="line">       img.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">         ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line">           wx.canvasToTempFilePath(&#123;</span><br><span class="line">             x: <span class="number">0</span>,</span><br><span class="line">             y: <span class="number">0</span>,</span><br><span class="line">             width: <span class="number">100</span>,</span><br><span class="line">             height: <span class="number">100</span>,</span><br><span class="line">             destWidth: <span class="number">100</span>,</span><br><span class="line">             destHeight: <span class="number">100</span>,</span><br><span class="line">             canvas: canvas,</span><br><span class="line">             success(res) &#123;</span><br><span class="line">               that.setData(&#123;</span><br><span class="line">                 imgPath: res.tempFilePath</span><br><span class="line">               &#125;)</span><br><span class="line">             &#125;,</span><br><span class="line">             fail(err) &#123;</span><br><span class="line">               <span class="built_in">console</span>.log(<span class="string">'err'</span>, err)</span><br><span class="line">             &#125;</span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;</span><br><span class="line">       img.src = <span class="string">'https://p0.meituan.net/myvideodistribute/0990cc2062e81ab6cc11fd8690f8755042005.jpg'</span></span><br><span class="line">       <span class="comment">// è¿™ç§æ–¹å¼è·å–canvasåŒºåŸŸéšå«çš„åƒç´ æ•°æ®</span></span><br><span class="line">       <span class="built_in">console</span>.log(ctx.getImageData(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>).data)</span><br><span class="line">     &#125;)</span><br></pre></td></tr></table></figure>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123;!imgPath&#125;&#125;"</span> <span class="attr">type</span>=<span class="string">"2d"</span> <span class="attr">id</span>=<span class="string">"myCanvas"</span> <span class="attr">canvas-id</span>=<span class="string">"myCanvas"</span> <span class="attr">style</span>=<span class="string">"width: 330px;height: 340px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">wx:else</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;imgPath&#125;&#125;"</span> <span class="attr">style</span>=<span class="string">"width: 330px;height: 340px;"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>canvas2d éœ€è¦è¸©å¾—å‘æ˜¯ï¼šå®ƒçš„å®˜æ–¹æ–‡æ¡£ğŸ™ƒ<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2UwM2Q1ZDg0YzYyNmI0NzlmZjBjOTlmNzA1YmRhYjg5NDc5MjcucG5n?x-oss-process=image/format,png" alt="canvas2d è½¬å›¾ç‰‡è¯¯å¯¼"></li>
<li>å°è¯•ä¸‹æ¥ï¼Œä¼š<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2UxMjRiY2Q3ZmNjYWI5ODBlNDdkMTk2YTMyZGQyODI4NDUzODcucG5n?x-oss-process=image/format,png" alt="ctx.drawæŠ¥é”™"></li>
</ul>
</li>
<li>é‚£æˆ‘ä»¬å¯ä»¥ç»§ç»­å¾€ä¸‹çœ‹<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2YxODk5NWFiNDY4N2IwYmZlYzhjZTZkZWU2ZWQxYmZjMTA1MTY1LnBuZw?x-oss-process=image/format,png" alt="canvas2d tempathæ­£ç¡®å®åŠ›">è¿™æ‰æ˜¯ç¬¦åˆæˆ‘ä»¬éœ€è¦</li>
</ul>
</li>
</ul>
</li>
<li>è¿è¡Œæˆªå›¾<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AxLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2JmMzVlMzY4YzRjMmRhYTgxNTA0NzM0YTIxZGMxM2I2NDYwNzIucG5n?x-oss-process=image/format,png" alt="canvas2dè¿è¡Œæˆªå›¾"></li>
</ul>
</li>
</ul>
</li>
<li>æ—§ç‰ˆcanvas  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ctx = wx.createCanvasContext(<span class="string">'myCanvas'</span>)</span><br><span class="line"><span class="keyword">const</span> that = <span class="keyword">this</span></span><br><span class="line">wx.getImageInfo(&#123;</span><br><span class="line">  src: <span class="string">'https://p0.meituan.net/myvideodistribute/0990cc2062e81ab6cc11fd8690f8755042005.jpg'</span>,</span><br><span class="line">  success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'res'</span>, res)</span><br><span class="line">    <span class="keyword">const</span> poster = res.path</span><br><span class="line">    ctx.drawImage(poster, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>, <span class="number">100</span>)</span><br><span class="line">    ctx.draw(<span class="literal">false</span>, () =&gt; &#123;</span><br><span class="line">      wx.canvasToTempFilePath(&#123;</span><br><span class="line">        x: <span class="number">0</span>,</span><br><span class="line">        y: <span class="number">0</span>,</span><br><span class="line">        width: <span class="number">100</span>,</span><br><span class="line">        height: <span class="number">100</span>,</span><br><span class="line">        destWidth: <span class="number">100</span>,</span><br><span class="line">        destHeight: <span class="number">100</span>,</span><br><span class="line">        canvasId: <span class="string">"myCanvas"</span>,</span><br><span class="line">        success(res) &#123;</span><br><span class="line">          that.setData(&#123;</span><br><span class="line">            imgPath: res.tempFilePath</span><br><span class="line">          &#125;)</span><br><span class="line">          <span class="built_in">console</span>.log(res.tempFilePath)</span><br><span class="line">        &#125;,</span><br><span class="line">        fail(err) &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'err'</span>, err)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// è¿™ç§æ–¹å¼è·å–canvasåŒºåŸŸéšå«çš„åƒç´ æ•°æ®</span></span><br><span class="line">    wx.canvasGetImageData(&#123;</span><br><span class="line">      canvasId: <span class="string">'myCanvas'</span>,</span><br><span class="line">      x: <span class="number">0</span>,</span><br><span class="line">      y: <span class="number">0</span>,</span><br><span class="line">      width: <span class="number">150</span>,</span><br><span class="line">      height: <span class="number">100</span>,</span><br><span class="line">      success(res) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res.width) <span class="comment">// 150</span></span><br><span class="line">        <span class="built_in">console</span>.log(res.height) <span class="comment">// 100</span></span><br><span class="line">        <span class="built_in">console</span>.log(res.data <span class="keyword">instanceof</span> <span class="built_in">Uint8ClampedArray</span>) <span class="comment">// true</span></span><br><span class="line">        <span class="built_in">console</span>.log(res.data) <span class="comment">// 150 * 100 * 4</span></span><br><span class="line">        <span class="built_in">console</span>.log(res.data.length) <span class="comment">// 150 * 100 * 4</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123;!imgPath&#125;&#125;"</span> <span class="attr">id</span>=<span class="string">"myCanvas"</span> <span class="attr">canvas-id</span>=<span class="string">"myCanvas"</span> <span class="attr">style</span>=<span class="string">"width: 330px;height: 340px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">wx:else</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;imgPath&#125;&#125;"</span> <span class="attr">style</span>=<span class="string">"width: 330px;height: 340px;"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œæˆªå›¾<ul>
<li><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3AwLm1laXR1YW4ubmV0L215dmlkZW9kaXN0cmlidXRlL2EzZTRiYTBkYzc2NDgzYTM1NTYxZDcwNDUzNzZkNjZmNDU5MTgucG5n?x-oss-process=image/format,png" alt="æ—§ç‰ˆcanvasè¿è¡Œæˆªå›¾"><h4 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h4></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>æ„Ÿè°¢<a href="https://github.com/skadieyes" target="_blank" rel="noopener">Skadyå®è´</a>åœ¨æ¢è®¨é—®é¢˜ä¸­ç»™äºˆçš„å¸®åŠ©ï¼Œæ¬¢è¿å¤§å®¶å»githubæ‰¾å¥¹ç©ğŸ‘ˆ</li>
<li>ç¥å¤§å®¶å¤šå¤šå‘è´¢</li>
</ul>
<hr>
]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
      <tags>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
</search>
